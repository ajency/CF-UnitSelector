{"version":3,"sources":["common.js","project.entity.js","bunglow.variant.js","settings.entity.js","unit.entity.js","unitType.entity.js","building.entity.js","apartment.variant.entity.js","floor.layout.entity.js","plot.variant.entity.js","polygon.entity.js","marker.entity.js","villa.entity.js","plot.entity.js","amenity.entity.js","apartment.entity.js","svg.authoring.controller.js","application.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ATxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ALrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;Ae/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACx0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"authoringtool.application.min.js","sourcesContent":["(function() {\n  jQuery(document).ready(function($) {\n    window.svgData = {\n      'image': '',\n      'data': [\n        {\n          'id': 1,\n          'type': 'villa',\n          'name': 'Villa 1',\n          'canvas_type': 'polygon',\n          'details': {\n            'class': 'marked'\n          },\n          'points': [\"359\", \"332\", \"418\", \"365\", \"345\", \"359\"]\n        }, {\n          'id': 2,\n          'type': 'villa',\n          'name': 'Villa 2',\n          'canvas_type': '',\n          'details': '',\n          'points': []\n        }, {\n          'id': 3,\n          'type': 'villa',\n          'name': 'Villa 3',\n          'canvas_type': 'polygon',\n          'details': {\n            'class': 'marked'\n          },\n          'points': [\"425\", \"485\", \"459\", \"501\", \"457\", \"547\", \"408\", \"550\"]\n        }, {\n          'id': 4,\n          'type': 'villa',\n          'name': 'Villa 4',\n          'canvas_type': 'polygon',\n          'details': {\n            'class': 'marked'\n          },\n          'points': [\"629\", \"490\", \"667\", \"476\", \"704\", \"474\", \"709\", \"499\", \"706\", \"536\", \"635\", \"539\"]\n        }, {\n          'id': 5,\n          'type': 'villa',\n          'name': 'Villa 5',\n          'canvas_type': '',\n          'details': '',\n          'points': []\n        }, {\n          'id': 6,\n          'type': 'building',\n          'name': 'Building 1',\n          'canvas_type': '',\n          'details': '',\n          'points': []\n        }\n      ],\n      'supported_types': ['villa', 'building']\n    };\n    window.createSvg = function(svgData) {\n      window.rawSvg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n      rawSvg.setAttribute('id', 'Layer_1');\n      rawSvg.setAttribute('style', 'border: 1px solid black');\n      rawSvg.setAttribute('width', '100%');\n      rawSvg.setAttribute('height', '100%');\n      rawSvg.setAttributeNS(null, 'x', '0');\n      rawSvg.setAttributeNS(null, 'y', '0');\n      rawSvg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n      window.createImageTag();\n      return $.each(svgData, function(index, value) {\n        var tag;\n        if (value.canvas_type === 'polygon') {\n          tag = window.polygon.createPolgyonTag(value);\n          if (tag !== \"\") {\n            rawSvg.appendChild(tag);\n          }\n        }\n        if (value.type === 'marker') {\n          return window.marker.createMarkerTag(value);\n        }\n      });\n    };\n    window.createImageTag = function() {\n      var svgimg;\n      svgimg = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n      svgimg.setAttributeNS(null, 'height', '100%');\n      svgimg.setAttributeNS(null, 'width', '100%');\n      svgimg.setAttributeNS('http://www.w3.org/1999/xlink', 'href', svgImg);\n      svgimg.setAttributeNS(null, 'x', '0');\n      svgimg.setAttributeNS(null, 'y', '0');\n      svgimg.setAttributeNS(null, 'visibility', 'visible');\n      return rawSvg.appendChild(svgimg);\n    };\n    window.createPanel = function(data) {\n      return $.each(data, function(index, value) {\n        return $('.' + value).removeClass('hidden');\n      });\n    };\n    window.makeDraggable = function(data) {\n      var element;\n      element = draw.polygon(data);\n      return element.draggable();\n    };\n    window.getPendingObjects = function(svgData) {\n      var collection, supportedTypes, type;\n      type = [];\n      collection = new Backbone.Collection(svgData.data);\n      supportedTypes = svgData.supported_types;\n      supportedTypes = _.uniq(supportedTypes);\n      $.each(supportedTypes, function(index, value) {\n        var items, marked;\n        items = collection.where({\n          'type': value\n        });\n        marked = [];\n        $.each(items, function(ind, val) {\n          if (!_.isEmpty(val.get('canvas_type'))) {\n            return marked.push(val);\n          }\n        });\n        return type.push({\n          'name': value,\n          'id': value,\n          'total': items.length,\n          'marked': marked.length\n        });\n      });\n      $.each(type, function(index, value) {\n        if (value.total === 0) {\n          return type = _.without(type, value);\n        }\n      });\n      return type;\n    };\n    return window.showPendingObjects = function(data) {\n      var html;\n      html = '';\n      $.each(data, function(index, value) {\n        return html += '<strong class=\"pull-right\" style=\"line-height:70px;margin-right: 20px;  color: #FF7E00;\">' + 'Marked: ' + value.marked + ' ' + value.name + '(s) | Total : ' + value.total + ' ' + value.name + '(s)</strong>';\n      });\n      return $('.pending').html(html);\n    };\n  });\n\n}).call(this);\n\n//# sourceMappingURL=../authoring-tool/common.js.map","(function() {\n  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  AuthoringTool.ProjectView = (function(superClass) {\n    extend(ProjectView, superClass);\n\n    function ProjectView() {\n      return ProjectView.__super__.constructor.apply(this, arguments);\n    }\n\n    ProjectView.prototype.template = Handlebars.compile('<form id=\"add-form\"> <div class=\"form-group\"> <label class=\"unit-label\" for=\"exampleInputPassword1\">Name</label> <input type=\"text\" class=\"form-control\" id=\"\" value=\"{{title}}\" disabled> </div> <div class=\"form-group\"> <label for=\"Address\">Address</label> <textarea class=\"form-control\" rows=\"2\" id=\"\" disabled>{{address}}</textarea> </div> <div class=\"form-group\"> <label for=\"City\">City</label> <input type=\"text\" class=\"form-control\" id=\"\" value=\"{{city}}\" disabled> </div> <form>');\n\n    ProjectView.prototype.ui = {\n      units: '.units',\n      unitLabel: '.unit-label',\n      check_location_marker: '.check_location_marker'\n    };\n\n    ProjectView.prototype.serializeData = function() {\n      var data, project_data;\n      data = ProjectView.__super__.serializeData.call(this);\n      project_data = Marionette.getOption(this, 'project_data');\n      data.title = project_data['title'];\n      data.address = project_data['project_address'];\n      data.city = project_data['city'];\n      return data;\n    };\n\n    ProjectView.prototype.events = function() {\n      return {\n        'click @ui.check_location_marker': function(e) {\n          if ($(e.currentTarget).prop('checked', true)) {\n            return window.drawDefaultMarker('location');\n          }\n        }\n      };\n    };\n\n    return ProjectView;\n\n  })(Marionette.ItemView);\n\n  AuthoringTool.ProjectCtrl = (function(superClass) {\n    extend(ProjectCtrl, superClass);\n\n    function ProjectCtrl() {\n      return ProjectCtrl.__super__.constructor.apply(this, arguments);\n    }\n\n    ProjectCtrl.prototype.initialize = function(opts) {\n      console.log(opts);\n      return this.show(new AuthoringTool.ProjectView({\n        project_data: project_data\n      }));\n    };\n\n    return ProjectCtrl;\n\n  })(Marionette.RegionController);\n\n}).call(this);\n\n//# sourceMappingURL=../../authoring-tool/entities/project.entity.js.map","(function() {\n  var BunglowVariant, BunglowVariantCollection,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  BunglowVariant = (function(superClass) {\n    extend(BunglowVariant, superClass);\n\n    function BunglowVariant() {\n      return BunglowVariant.__super__.constructor.apply(this, arguments);\n    }\n\n    BunglowVariant.prototype.findUnitPrice = function(unit_model) {\n      var basicCost, basic_cost, unitVarinatModel;\n      basicCost = \"\";\n      if (!(unit_model instanceof Backbone.Model) || unit_model === \"\") {\n        return;\n      }\n      unitVarinatModel = bunglowVariantMasterCollection.findWhere({\n        'id': parseInt(unit_model.get('unit_variant_id'))\n      });\n      if (unitVarinatModel !== void 0) {\n        basic_cost = (parseFloat(unitVarinatModel.get('per_sq_ft_price'))) * parseFloat(unitVarinatModel.get('super_built_up_area'));\n        basicCost = basic_cost.toFixed(2);\n      }\n      return basicCost;\n    };\n\n    return BunglowVariant;\n\n  })(Backbone.Model);\n\n  BunglowVariantCollection = (function(superClass) {\n    extend(BunglowVariantCollection, superClass);\n\n    function BunglowVariantCollection() {\n      return BunglowVariantCollection.__super__.constructor.apply(this, arguments);\n    }\n\n    BunglowVariantCollection.prototype.model = BunglowVariant;\n\n    BunglowVariantCollection.prototype.setBunglowVariantAttributes = function(data) {\n      bunglowVariantCollection.reset(data);\n      return bunglowVariantMasterCollection.reset(data);\n    };\n\n    BunglowVariantCollection.prototype.getBunglowUnits = function() {\n      var newUnits, units;\n      units = [];\n      newUnits = [];\n      bunglowVariantCollection.each(function(model) {\n        var bunglowUnits;\n        bunglowUnits = unitCollection.where({\n          unit_variant_id: model.get('id')\n        });\n        return units.push(bunglowUnits);\n      });\n      $.each(units, function(index, value) {\n        return newUnits = $.merge(newUnits, value);\n      });\n      return newUnits;\n    };\n\n    BunglowVariantCollection.prototype.getBunglowMasterUnits = function() {\n      var newUnits, units;\n      units = [];\n      newUnits = [];\n      bunglowVariantMasterCollection.each(function(model) {\n        var bunglowUnits;\n        bunglowUnits = unitMasterCollection.where({\n          unit_variant_id: model.get('id')\n        });\n        return units.push(bunglowUnits);\n      });\n      $.each(units, function(index, value) {\n        return newUnits = $.merge(newUnits, value);\n      });\n      return newUnits;\n    };\n\n    BunglowVariantCollection.prototype.getVillaUnitTypes = function() {\n      var unit_types;\n      unit_types = [];\n      bunglowVariantMasterCollection.each(function(item) {\n        var unitTypeModel;\n        unitTypeModel = unitTypeMasterCollection.findWhere({\n          'id': item.get('unit_type_id')\n        });\n        if ($.inArray(item.get('unit_type_id'), unit_types) === -1) {\n          return unit_types.push(parseInt(unitTypeModel.get('id')));\n        }\n      });\n      return unit_types;\n    };\n\n    BunglowVariantCollection.prototype.getVillaAttributes = function() {\n      var attributes;\n      attributes = [];\n      bunglowVariantMasterCollection.each(function(item) {\n        return $.each(item.get('variant_attributes'), function(index, value) {\n          if (_.isArray(value)) {\n            return $.each(value, function(ind, val) {\n              if ($.inArray(val, attributes) === -1) {\n                return attributes.push(val);\n              }\n            });\n          } else {\n            if ($.inArray(value, attributes) === -1) {\n              return attributes.push(value);\n            }\n          }\n        });\n      });\n      return attributes;\n    };\n\n    return BunglowVariantCollection;\n\n  })(Backbone.Collection);\n\n  window.bunglowVariantCollection = new BunglowVariantCollection;\n\n  window.bunglowVariantMasterCollection = new BunglowVariantCollection;\n\n  window.bunglowVariant = new BunglowVariant;\n\n}).call(this);\n\n//# sourceMappingURL=../../frontend/entities/bunglow.variant.js.map","(function() {\n  var Settings,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  Settings = (function(superClass) {\n    extend(Settings, superClass);\n\n    function Settings() {\n      return Settings.__super__.constructor.apply(this, arguments);\n    }\n\n    Settings.prototype.generateFloorRise = function(building) {\n      var buildingModel, cost, floorrise, floors, i, sum;\n      if (building === \"\") {\n        return;\n      }\n      buildingModel = buildingMasterCollection.findWhere({\n        'id': building\n      });\n      i = 0;\n      floors = buildingModel.get('no_of_floors');\n      floorrise = [];\n      cost = buildingModel.get('floor_rise');\n      sum = 0 + cost;\n      while (i <= 1) {\n        floorrise[i] = 0;\n        i++;\n      }\n      while (i <= floors) {\n        floorrise[i] = sum;\n        sum = sum + cost;\n        i++;\n      }\n      return floorrise;\n    };\n\n    Settings.prototype.setSettingsAttributes = function(data) {\n      return settings.set(data);\n    };\n\n    return Settings;\n\n  })(Backbone.Model);\n\n  window.settings = new Settings;\n\n}).call(this);\n\n//# sourceMappingURL=../../frontend/entities/settings.entity.js.map","(function() {\n  var Unit, UnitCollection,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  Unit = (function(superClass) {\n    extend(Unit, superClass);\n\n    function Unit() {\n      return Unit.__super__.constructor.apply(this, arguments);\n    }\n\n    Unit.prototype.getUnitDetails = function(unit_id) {\n      var attributes, id, price, type, unit, unitType, unitTypeModel, unitVariant;\n      id = parseInt(unit_id);\n      unit = unitMasterCollection.findWhere({\n        id: id\n      });\n      unitVariant = 0;\n      type = '';\n      price = 0;\n      attributes = [];\n      if (bunglowVariantMasterCollection.get(unit.get('unit_variant_id')) !== void 0) {\n        unitVariant = bunglowVariantMasterCollection.findWhere({\n          'id': unit.get('unit_variant_id')\n        });\n        type = 'villa';\n        price = window.bunglowVariant.findUnitPrice(unit);\n        attributes = unitVariant.get('variant_attributes');\n      } else if (apartmentVariantMasterCollection.get(unit.get('unit_variant_id')) !== void 0) {\n        unitVariant = apartmentVariantMasterCollection.findWhere({\n          'id': unit.get('unit_variant_id')\n        });\n        unitTypeModel = unitTypeMasterCollection.findWhere({\n          'id': parseInt(unitVariant.get('unit_type_id'))\n        });\n        type = 'apartment';\n        if (window.propertyTypes[unitTypeModel.get('property_type_id')] === 'Penthouses') {\n          type = 'Penthouse';\n        }\n        price = window.apartmentVariant.findUnitPrice(unit);\n        attributes = unitVariant.get('variant_attributes');\n      } else if (plotVariantMasterCollection.get(unit.get('unit_variant_id')) !== void 0) {\n        unitVariant = plotVariantMasterCollection.findWhere({\n          'id': unit.get('unit_variant_id')\n        });\n        unitVariant.set('super_built_up_area', unitVariant.get('size'));\n        type = 'plot';\n        price = window.plotVariant.findUnitPrice(unit);\n        attributes = unitVariant.get('variant_attributes');\n      }\n      unitType = unitTypeMasterCollection.findWhere({\n        'id': unit.get('unit_type_id')\n      });\n      return [unitVariant, unitType, type, price, attributes];\n    };\n\n    Unit.prototype.getFilterUnitDetails = function(unit_id) {\n      var attributes, id, price, type, unit, unitType, unitVariant;\n      id = parseInt(unit_id);\n      unit = unitCollection.findWhere({\n        id: id\n      });\n      unitVariant = 0;\n      type = '';\n      price = 0;\n      attributes = [];\n      if (bunglowVariantCollection.get(unit.get('unit_variant_id')) !== void 0) {\n        unitVariant = bunglowVariantCollection.findWhere({\n          'id': unit.get('unit_variant_id')\n        });\n        type = 'villa';\n        price = window.bunglowVariant.findUnitPrice(unit);\n        attributes = unitVariant.get('variant_attributes');\n      } else if (apartmentVariantCollection.get(unit.get('unit_variant_id')) !== void 0) {\n        unitVariant = apartmentVariantCollection.findWhere({\n          'id': unit.get('unit_variant_id')\n        });\n        type = 'apartment';\n        price = window.apartmentVariant.findUnitPrice(unit);\n        attributes = unitVariant.get('variant_attributes');\n      } else if (plotVariantCollection.get(unit.get('unit_variant_id')) !== void 0) {\n        unitVariant = plotVariantCollection.findWhere({\n          'id': unit.get('unit_variant_id')\n        });\n        unitVariant.set('super_built_up_area', unitVariant.get('size'));\n        type = 'plot';\n        price = window.plotVariant.findUnitPrice(unit);\n        attributes = unitVariant.get('variant_attributes');\n      }\n      unitType = unitTypeMasterCollection.findWhere({\n        'id': unit.get('unit_type_id')\n      });\n      return [unitVariant, unitType, type, price, attributes];\n    };\n\n    return Unit;\n\n  })(Backbone.Model);\n\n  UnitCollection = (function(superClass) {\n    extend(UnitCollection, superClass);\n\n    function UnitCollection() {\n      return UnitCollection.__super__.constructor.apply(this, arguments);\n    }\n\n    UnitCollection.prototype.model = Unit;\n\n    UnitCollection.prototype.getRecord = function() {\n      return this.currentModel;\n    };\n\n    UnitCollection.prototype.setRecord = function(model) {\n      return this.currentModel = model;\n    };\n\n    UnitCollection.prototype.next = function() {\n      var first, next, record, units;\n      units = _.pluck(this.toArray(), 'id');\n      next = this.at(this.indexOf(this.getRecord()) + 1);\n      if (_.isUndefined(next)) {\n        first = _.first(units);\n        if (this.currentModel.get('id') === first) {\n          return next;\n        } else {\n          record = this.findWhere({\n            'id': first\n          });\n          return record;\n        }\n      } else {\n        return next;\n      }\n    };\n\n    UnitCollection.prototype.prev = function() {\n      var last, prev, record, units;\n      units = _.pluck(this.toArray(), 'id');\n      prev = this.at(this.indexOf(this.getRecord()) - 1);\n      if (_.isUndefined(prev)) {\n        last = _.last(units);\n        if (this.currentModel.get('id') === last) {\n          return prev;\n        } else {\n          record = this.findWhere({\n            'id': last\n          });\n          return record;\n        }\n      } else {\n        return prev;\n      }\n    };\n\n    UnitCollection.prototype.setUnitAttributes = function(data) {\n      var response;\n      response = this.setUnitType(data);\n      unitCollection.reset(response);\n      unitMasterCollection.reset(response);\n      return window.unitTempCollection = unitCollection.clone();\n    };\n\n    UnitCollection.prototype.setUnitType = function(data) {\n      $.each(data, function(index, value) {\n        var unitType, unitVariant;\n        unitVariant = '';\n        if (bunglowVariantCollection.get(value.unit_variant_id) !== void 0) {\n          unitVariant = bunglowVariantCollection.findWhere({\n            'id': value.unit_variant_id\n          });\n        }\n        if (apartmentVariantCollection.get(value.unit_variant_id) !== void 0) {\n          unitVariant = apartmentVariantCollection.findWhere({\n            'id': value.unit_variant_id\n          });\n        }\n        if (plotVariantCollection.get(value.unit_variant_id) !== void 0) {\n          unitVariant = plotVariantCollection.findWhere({\n            'id': value.unit_variant_id\n          });\n          unitVariant.set('super_built_up_area', unitVariant.get('size'));\n        }\n        unitType = unitTypeCollection.findWhere({\n          'id': unitVariant.get('unit_type_id')\n        });\n        value['unit_type_id'] = unitType.get('id');\n        return value['area'] = unitVariant.get('super_built_up_area');\n      });\n      return data;\n    };\n\n    return UnitCollection;\n\n  })(Backbone.Collection);\n\n  window.unitCollection = new UnitCollection;\n\n  window.unitMasterCollection = new UnitCollection;\n\n  window.unit = new Unit;\n\n}).call(this);\n\n//# sourceMappingURL=../../frontend/entities/unit.entity.js.map","(function() {\n  var UnitType, UnitTypeCollection,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  UnitType = (function(superClass) {\n    extend(UnitType, superClass);\n\n    function UnitType() {\n      return UnitType.__super__.constructor.apply(this, arguments);\n    }\n\n    return UnitType;\n\n  })(Backbone.Model);\n\n  UnitTypeCollection = (function(superClass) {\n    extend(UnitTypeCollection, superClass);\n\n    function UnitTypeCollection() {\n      return UnitTypeCollection.__super__.constructor.apply(this, arguments);\n    }\n\n    UnitTypeCollection.prototype.model = UnitType;\n\n    UnitTypeCollection.prototype.setUnitTypeAttributes = function(data) {\n      unitTypeCollection.reset(data);\n      return unitTypeMasterCollection.reset(data);\n    };\n\n    return UnitTypeCollection;\n\n  })(Backbone.Collection);\n\n  window.unitTypeCollection = new UnitTypeCollection;\n\n  window.unitTypeMasterCollection = new UnitTypeCollection;\n\n}).call(this);\n\n//# sourceMappingURL=../../frontend/entities/unitType.entity.js.map","(function() {\n  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  AuthoringTool.BuildingView = (function(superClass) {\n    extend(BuildingView, superClass);\n\n    function BuildingView() {\n      return BuildingView.__super__.constructor.apply(this, arguments);\n    }\n\n    BuildingView.prototype.template = Handlebars.compile('<form id=\"add-form\"><div class=\"form-group\"> <label  class=\"unit-label\" for=\"exampleInputPassword1\">Units</label> <select class=\"form-control units\"> <option value=\"\">Select</option> {{#options}} <option value=\"{{id}}\">{{name}}</option> {{/options}} </select> </div> <div class=\"checkbox\"> <label> <input type=\"checkbox\" name=\"check_primary\"> Mark as primary unit </label> </div> </form>');\n\n    BuildingView.prototype.ui = {\n      units: '.units',\n      unitLabel: '.unit-label'\n    };\n\n    BuildingView.prototype.serializeData = function() {\n      var data, options, units;\n      data = BuildingView.__super__.serializeData.call(this);\n      options = [];\n      units = Marionette.getOption(this, 'units');\n      $.each(units, function(ind, val) {\n        return options.push({\n          'id': val.get('id'),\n          'name': val.get('building_name')\n        });\n      });\n      data.options = options;\n      return data;\n    };\n\n    BuildingView.prototype.onShow = function() {\n      var units;\n      units = buildingCollection;\n      if (units.length === 0 && EDITMODE === false) {\n        this.ui.units.hide();\n        this.ui.unitLabel.hide();\n        $('.alert').text('No buildings');\n        return window.hideAlert();\n      }\n    };\n\n    return BuildingView;\n\n  })(Marionette.ItemView);\n\n  AuthoringTool.BuildingCtrl = (function(superClass) {\n    extend(BuildingCtrl, superClass);\n\n    function BuildingCtrl() {\n      return BuildingCtrl.__super__.constructor.apply(this, arguments);\n    }\n\n    BuildingCtrl.prototype.initialize = function() {\n      var units;\n      units = buildingCollection.toArray();\n      return this.show(new AuthoringTool.BuildingView({\n        units: units\n      }));\n    };\n\n    return BuildingCtrl;\n\n  })(Marionette.RegionController);\n\n}).call(this);\n\n//# sourceMappingURL=../../authoring-tool/entities/building.entity.js.map","(function() {\n  var ApartmentVariant, ApartmentVariantCollection,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ApartmentVariant = (function(superClass) {\n    extend(ApartmentVariant, superClass);\n\n    function ApartmentVariant() {\n      return ApartmentVariant.__super__.constructor.apply(this, arguments);\n    }\n\n    ApartmentVariant.prototype.findUnitPrice = function(unitModel) {\n      var basicCost, basic_cost, building, floorRise, floorRiseArray, unitVarinatModel;\n      basicCost = 0.00;\n      if (!(unitModel instanceof Backbone.Model) || unitModel === \"\") {\n        return;\n      }\n      building = buildingMasterCollection.findWhere({\n        'id': unitModel.get('building_id')\n      });\n      unitVarinatModel = apartmentVariantMasterCollection.findWhere({\n        'id': parseInt(unitModel.get('unit_variant_id'))\n      });\n      if (!_.isUndefined(unitVarinatModel)) {\n        floorRiseArray = settings.generateFloorRise(unitModel.get('building_id'));\n        floorRise = floorRiseArray[unitModel.get('floor')];\n        basic_cost = (parseFloat(unitVarinatModel.get('per_sq_ft_price')) + parseFloat(floorRise)) * parseFloat(unitVarinatModel.get('super_built_up_area'));\n        basicCost = basic_cost.toFixed(2);\n      }\n      return basicCost;\n    };\n\n    return ApartmentVariant;\n\n  })(Backbone.Model);\n\n  ApartmentVariantCollection = (function(superClass) {\n    extend(ApartmentVariantCollection, superClass);\n\n    function ApartmentVariantCollection() {\n      return ApartmentVariantCollection.__super__.constructor.apply(this, arguments);\n    }\n\n    ApartmentVariantCollection.prototype.model = ApartmentVariant;\n\n    ApartmentVariantCollection.prototype.setApartmentVariantAttributes = function(data) {\n      apartmentVariantCollection.reset(data);\n      return apartmentVariantMasterCollection.reset(data);\n    };\n\n    ApartmentVariantCollection.prototype.getApartmentUnits = function() {\n      var newUnits, units;\n      units = [];\n      newUnits = [];\n      apartmentVariantCollection.each(function(model) {\n        var apartmentUnits;\n        apartmentUnits = unitCollection.where({\n          'unit_variant_id': model.get('id')\n        });\n        return $.merge(units, apartmentUnits);\n      });\n      if (units.length !== 0) {\n        $.each(units, function(index, value) {\n          var property, unitType;\n          unitType = unitTypeMasterCollection.findWhere({\n            'id': value.get('unit_type_id')\n          });\n          property = window.propertyTypes[unitType.get('property_type_id')];\n          if (s.decapitalize(property) === 'apartments') {\n            return newUnits.push(value);\n          }\n        });\n      }\n      return newUnits;\n    };\n\n    ApartmentVariantCollection.prototype.getPenthouseUnits = function() {\n      var units;\n      units = [];\n      unitCollection.each(function(model) {\n        var property, unitType;\n        unitType = unitTypeMasterCollection.findWhere({\n          'id': model.get('unit_type_id')\n        });\n        property = window.propertyTypes[unitType.get('property_type_id')];\n        if (s.decapitalize(property) === 'penthouses') {\n          return units.push(model);\n        }\n      });\n      return units;\n    };\n\n    ApartmentVariantCollection.prototype.getApartmentMasterUnits = function() {\n      var newUnits, units;\n      units = [];\n      newUnits = [];\n      apartmentVariantMasterCollection.each(function(model) {\n        var apartmentUnits;\n        apartmentUnits = unitMasterCollection.where({\n          'unit_variant_id': model.get('id')\n        });\n        return units.push(apartmentUnits);\n      });\n      $.each(units, function(index, value) {\n        return newUnits = $.merge(newUnits, value);\n      });\n      return newUnits;\n    };\n\n    ApartmentVariantCollection.prototype.getApartmentUnitTypes = function() {\n      var unit_types;\n      unit_types = [];\n      apartmentVariantMasterCollection.each(function(item) {\n        var unitTypeModel;\n        unitTypeModel = unitTypeMasterCollection.findWhere({\n          'id': item.get('unit_type_id')\n        });\n        if ($.inArray(item.get('unit_type_id'), unit_types) === -1) {\n          return unit_types.push(parseInt(unitTypeModel.get('id')));\n        }\n      });\n      return unit_types;\n    };\n\n    ApartmentVariantCollection.prototype.getApartmentAttributes = function() {\n      var attributes, types;\n      attributes = [];\n      types = [];\n      apartmentVariantMasterCollection.each(function(item) {\n        return $.each(item.get('variant_attributes'), function(index, value) {\n          if (_.isArray(value)) {\n            return $.each(value, function(ind, val) {\n              if ($.inArray(val, attributes) === -1) {\n                return attributes.push(val);\n              }\n            });\n          } else {\n            if ($.inArray(value, attributes) === -1) {\n              return attributes.push(value);\n            }\n          }\n        });\n      });\n      return [attributes];\n    };\n\n    return ApartmentVariantCollection;\n\n  })(Backbone.Collection);\n\n  window.apartmentVariantCollection = new ApartmentVariantCollection;\n\n  window.apartmentVariantMasterCollection = new ApartmentVariantCollection;\n\n  window.apartmentVariant = new ApartmentVariant;\n\n}).call(this);\n\n//# sourceMappingURL=../../frontend/entities/apartment.variant.entity.js.map","(function() {\n  var FloorLayout, FloorLayoutCollection,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  FloorLayout = (function(superClass) {\n    extend(FloorLayout, superClass);\n\n    function FloorLayout() {\n      return FloorLayout.__super__.constructor.apply(this, arguments);\n    }\n\n    return FloorLayout;\n\n  })(Backbone.Model);\n\n  FloorLayoutCollection = (function(superClass) {\n    extend(FloorLayoutCollection, superClass);\n\n    function FloorLayoutCollection() {\n      return FloorLayoutCollection.__super__.constructor.apply(this, arguments);\n    }\n\n    FloorLayoutCollection.prototype.model = FloorLayout;\n\n    FloorLayoutCollection.prototype.setFloorLayoutAttributes = function(data) {\n      return floorLayoutCollection.reset(data);\n    };\n\n    return FloorLayoutCollection;\n\n  })(Backbone.Collection);\n\n  window.floorLayoutCollection = new FloorLayoutCollection;\n\n}).call(this);\n\n//# sourceMappingURL=../../frontend/entities/floor.layout.entity.js.map","(function() {\n  var PlotVariant, PlotVariantCollection,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  PlotVariant = (function(superClass) {\n    extend(PlotVariant, superClass);\n\n    function PlotVariant() {\n      return PlotVariant.__super__.constructor.apply(this, arguments);\n    }\n\n    PlotVariant.prototype.findUnitPrice = function(unit_model) {\n      var basicCost, basic_cost, unitVarinatModel;\n      basicCost = \"\";\n      if (!(unit_model instanceof Backbone.Model) || unit_model === \"\") {\n        return;\n      }\n      unitVarinatModel = plotVariantMasterCollection.findWhere({\n        'id': parseInt(unit_model.get('unit_variant_id'))\n      });\n      if (unitVarinatModel !== void 0) {\n        basic_cost = (parseFloat(unitVarinatModel.get('per_sq_ft_price'))) * parseFloat(unitVarinatModel.get('size'));\n        basicCost = basic_cost.toFixed(2);\n      }\n      return basicCost;\n    };\n\n    return PlotVariant;\n\n  })(Backbone.Model);\n\n  PlotVariantCollection = (function(superClass) {\n    extend(PlotVariantCollection, superClass);\n\n    function PlotVariantCollection() {\n      return PlotVariantCollection.__super__.constructor.apply(this, arguments);\n    }\n\n    PlotVariantCollection.prototype.model = PlotVariant;\n\n    PlotVariantCollection.prototype.setPlotVariantAttributes = function(data) {\n      plotVariantCollection.reset(data);\n      return plotVariantMasterCollection.reset(data);\n    };\n\n    PlotVariantCollection.prototype.getPlotUnits = function() {\n      var newUnits, units;\n      units = [];\n      newUnits = [];\n      plotVariantCollection.each(function(model) {\n        var plotUnits;\n        plotUnits = unitCollection.where({\n          unit_variant_id: model.get('id')\n        });\n        return units.push(plotUnits);\n      });\n      $.each(units, function(index, value) {\n        return newUnits = $.merge(newUnits, value);\n      });\n      return newUnits;\n    };\n\n    PlotVariantCollection.prototype.getPlotMasterUnits = function() {\n      var newUnits, units;\n      units = [];\n      newUnits = [];\n      plotVariantMasterCollection.each(function(model) {\n        var plotUnits;\n        plotUnits = unitMasterCollection.where({\n          unit_variant_id: model.get('id')\n        });\n        return units.push(plotUnits);\n      });\n      $.each(units, function(index, value) {\n        return newUnits = $.merge(newUnits, value);\n      });\n      return newUnits;\n    };\n\n    PlotVariantCollection.prototype.getPlotUnitTypes = function() {\n      var unit_types;\n      unit_types = [];\n      plotVariantMasterCollection.each(function(item) {\n        var unitTypeModel;\n        unitTypeModel = unitTypeMasterCollection.findWhere({\n          'id': item.get('unit_type_id')\n        });\n        if ($.inArray(item.get('unit_type_id'), unit_types) === -1) {\n          return unit_types.push(parseInt(unitTypeModel.get('id')));\n        }\n      });\n      return unit_types;\n    };\n\n    PlotVariantCollection.prototype.getPlotAttributes = function() {\n      var attributes;\n      attributes = [];\n      plotVariantMasterCollection.each(function(item) {\n        return $.each(item.get('variant_attributes'), function(index, value) {\n          if (_.isArray(value)) {\n            return $.each(value, function(ind, val) {\n              if ($.inArray(val, attributes) === -1) {\n                return attributes.push(val);\n              }\n            });\n          } else {\n            if ($.inArray(value, attributes) === -1) {\n              return attributes.push(value);\n            }\n          }\n        });\n      });\n      return attributes;\n    };\n\n    return PlotVariantCollection;\n\n  })(Backbone.Collection);\n\n  window.plotVariantCollection = new PlotVariantCollection;\n\n  window.plotVariantMasterCollection = new PlotVariantCollection;\n\n  window.plotVariant = new PlotVariant;\n\n}).call(this);\n\n//# sourceMappingURL=../../frontend/entities/plot.variant.entity.js.map","(function() {\n  var Polygon,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  Polygon = (function(superClass) {\n    extend(Polygon, superClass);\n\n    function Polygon() {\n      return Polygon.__super__.constructor.apply(this, arguments);\n    }\n\n    Polygon.prototype.initialize = function() {\n      this.node = \"\";\n      return this.pointList = [];\n    };\n\n    Polygon.prototype.createPolgyon = function() {\n      return this.node = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');\n    };\n\n    Polygon.prototype.createPolgyonTag = function(item) {\n      console.log(item.other_details[\"class\"]);\n      this.pointList = [];\n      this.createPolgyon();\n      this.points(item.points);\n      this.attribute('class', item.other_details[\"class\"]);\n      this.attribute('id', item.object_id);\n      this.attribute('type', item.object_type);\n      return this.node;\n    };\n\n    Polygon.prototype.generatePolygonTag = function(item) {\n      var pointList, polygon;\n      pointList = this.getPointList(item.points);\n      pointList = pointList.join(' ');\n      polygon = draw.polygon(pointList);\n      polygon.attr({\n        'class': item.other_details[\"class\"],\n        'id': item.object_id,\n        'type': item.object_type,\n        svgid: item.id\n      });\n      polygon.addClass('polygon-type');\n      if (item.primary_breakpoint !== null) {\n        polygon.data('primary-breakpoint', item.primary_breakpoint);\n      }\n      if (item.object_type === \"amenity\") {\n        polygon.data('amenity-title', item.other_details.title);\n        return polygon.data('amenity-desc', item.other_details.description);\n      }\n    };\n\n    Polygon.prototype.getPointList = function(pointsArr) {\n      var formattedPoints, i, k, l, len, pointList;\n      pointList = [];\n      i = 0;\n      l = pointsArr.length;\n      while (i < l) {\n        pointList.push([parseInt(pointsArr[i]), parseInt(pointsArr[i + 1])]);\n        i += 2;\n      }\n      formattedPoints = [];\n      k = 0;\n      len = pointList.length;\n      while (k < len) {\n        formattedPoints.push(pointList[k].join());\n        k++;\n      }\n      return formattedPoints;\n    };\n\n    Polygon.prototype.attribute = function(key, val) {\n      if (val === void 0) {\n        return false;\n      }\n      return this.node.setAttribute(key, val);\n    };\n\n    Polygon.prototype.build = function(arg) {\n      var i, l, res;\n      res = [];\n      i = 0;\n      l = arg.length;\n      while (i < l) {\n        res.push(arg[i].join(','));\n        i++;\n      }\n      return res.join(' ');\n    };\n\n    Polygon.prototype.points = function(args) {\n      var i, l;\n      i = 0;\n      l = args.length;\n      while (i < l) {\n        this.pointList.push([args[i], args[i + 1]]);\n        i += 2;\n      }\n      this.attribute('points', this.build(this.pointList));\n      return this.node;\n    };\n\n    return Polygon;\n\n  })(Backbone.Model);\n\n  window.polygon = new Polygon;\n\n}).call(this);\n\n//# sourceMappingURL=../../authoring-tool/entities/polygon.entity.js.map","(function() {\n  var Marker,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  Marker = (function(superClass) {\n    extend(Marker, superClass);\n\n    function Marker() {\n      return Marker.__super__.constructor.apply(this, arguments);\n    }\n\n    Marker.prototype.generateMarkerTag = function(item) {\n      var circle, circle1, circle2, cx, cy, details, drawMarkerElements, ellipse, ellipseHeight, ellipseWidth, groupMarker, innerRadius, markerType, outerRadius, points, polygon, typeClass;\n      markerType = item.other_details.marker_type;\n      cx = item.other_details.cx;\n      cy = item.other_details.cy;\n      innerRadius = item.other_details.innerRadius;\n      outerRadius = item.other_details.outerRadius;\n      ellipseWidth = item.other_details.ellipseWidth;\n      ellipseHeight = item.other_details.ellipseHeight;\n      typeClass = item['other_details']['class'];\n      points = item.points;\n      drawMarkerElements = [];\n      groupMarker = draw.group();\n      groupMarker.attr({\n        \"class\": 'marker-grp',\n        type: item.object_type,\n        id: item.object_id,\n        svgid: item.id\n      });\n      if (item.object_type === \"amenity\") {\n        groupMarker.data('amenity-title', item.other_details.title);\n        groupMarker.data('amenity-desc', item.other_details.description);\n      }\n      switch (markerType) {\n        case 'concentric':\n          groupMarker.addClass('concentric');\n          groupMarker.addClass(typeClass);\n          circle1 = draw.circle(innerRadius);\n          circle1.attr({\n            fill: '#FF8500',\n            cx: points[0],\n            cy: points[1]\n          });\n          circle2 = draw.circle(outerRadius);\n          circle2.attr({\n            fill: 'none',\n            cx: points[0],\n            cy: points[1],\n            stroke: \"#FF7900\",\n            'stroke-width': 4,\n            'stroke-miterlimit': 10\n          });\n          drawMarkerElements.push(circle1);\n          drawMarkerElements.push(circle2);\n          break;\n        case 'solid':\n          window.canvas_type = \"solidMarker\";\n          groupMarker.addClass('solid');\n          groupMarker.addClass(typeClass);\n          circle = draw.circle(outerRadius);\n          circle.attr({\n            cx: points[0],\n            cy: points[1]\n          });\n          drawMarkerElements.push(circle);\n          break;\n        case 'location':\n          window.canvas_type = \"locationMarker\";\n          groupMarker.addClass('location');\n          groupMarker.addClass(typeClass);\n          polygon = draw.polygon('776.906,408.457 821.094,407 798.01,459.243');\n          polygon.attr({\n            fill: '#F7931E'\n          });\n          drawMarkerElements.push(polygon);\n          ellipse = draw.ellipse(40, 40);\n          ellipse.attr({\n            'fill': '#FFFFFF',\n            'stroke': '#F7931E',\n            'stroke-width': 6,\n            'stroke-miterlimit': 10,\n            cx: points[0],\n            cy: points[1]\n          });\n          drawMarkerElements.push(ellipse);\n          break;\n        case 'earthlocation':\n          window.canvas_type = \"earthlocationMarker\";\n          groupMarker.addClass('earthlocation');\n          details = item.other_details;\n          ellipse = draw.ellipse(window.ellipseWidth, window.ellipseHeight);\n          ellipse.addClass(typeClass);\n          ellipse.attr({\n            'fill': '#FF6700',\n            'stroke': '#FF7300',\n            'stroke-width': 3,\n            'fill-opacity': 0.2,\n            'stroke-miterlimit': 10,\n            cx: points[0],\n            cy: points[1]\n          });\n          drawMarkerElements.push(ellipse);\n          break;\n      }\n      return _.each(drawMarkerElements, (function(_this) {\n        return function(markerElement, key) {\n          return groupMarker.add(markerElement);\n        };\n      })(this));\n    };\n\n    Marker.prototype.generateLocationMarker = function(item) {\n      var details, dx, dy, eCx, eCy, ellipse, groupLocation, pointList, pointsArr, polygon;\n      details = item.other_details;\n      groupLocation = draw.group();\n      groupLocation.attr({\n        \"class\": details['location_marker_class']\n      });\n      groupLocation.addClass('marker');\n      dx = parseInt(details['location_marker_x']);\n      dy = parseInt(details['location_marker_y']);\n      pointsArr = [];\n      pointsArr.push(parseInt(776.906) + dx);\n      pointsArr.push(parseInt(408.457) + dy);\n      pointsArr.push(parseInt(821.094) + dx);\n      pointsArr.push(parseInt(407) + dy);\n      pointsArr.push(parseInt(798.01) + dx);\n      pointsArr.push(parseInt(459.243) + dy);\n      pointList = this.getPointList(pointsArr);\n      pointList = pointList.join(' ');\n      polygon = draw.polygon(pointList);\n      polygon.attr({\n        fill: '#F7931E'\n      });\n      groupLocation.add(polygon);\n      ellipse = draw.ellipse(40, 40);\n      eCx = 798.696 + dx;\n      eCy = 401.52 + dy;\n      return ellipse.attr({\n        'fill': '#FFFFFF',\n        'stroke': '#F7931E',\n        'stroke-width': 6,\n        'stroke-miterlimit': 10,\n        cx: eCx,\n        cy: eCy\n      });\n    };\n\n    Marker.prototype.getPointList = function(pointsArr) {\n      var formattedPoints, i, k, l, len, pointList;\n      pointList = [];\n      i = 0;\n      l = pointsArr.length;\n      while (i < l) {\n        pointList.push([parseInt(pointsArr[i]), parseInt(pointsArr[i + 1])]);\n        i += 2;\n      }\n      formattedPoints = [];\n      k = 0;\n      len = pointList.length;\n      while (k < len) {\n        formattedPoints.push(pointList[k].join());\n        k++;\n      }\n      return formattedPoints;\n    };\n\n    return Marker;\n\n  })(Backbone.Model);\n\n  window.marker = new Marker;\n\n}).call(this);\n\n//# sourceMappingURL=../../authoring-tool/entities/marker.entity.js.map","(function() {\n  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  AuthoringTool.VillaView = (function(superClass) {\n    extend(VillaView, superClass);\n\n    function VillaView() {\n      return VillaView.__super__.constructor.apply(this, arguments);\n    }\n\n    VillaView.prototype.template = Handlebars.compile('<form id=\"add-form\"><div class=\"form-group\"> <label class=\"unit-label\" for=\"exampleInputPassword1\">Units</label> <select class=\"form-control units\"> <option value=\"\">Select</option> {{#options}} <option value=\"{{id}}\">{{name}}</option> {{/options}} </select> </div> <div class=\"checkbox\"> <label> <input type=\"checkbox\" name=\"check_primary\"> Mark as primary unit </label> </div> <form>');\n\n    VillaView.prototype.ui = {\n      units: '.units',\n      unitLabel: '.unit-label'\n    };\n\n    VillaView.prototype.serializeData = function() {\n      var data, options, units;\n      data = VillaView.__super__.serializeData.call(this);\n      options = [];\n      units = Marionette.getOption(this, 'units');\n      $.each(units, function(ind, val) {\n        return options.push({\n          'id': val.get('id'),\n          'name': val.get('unit_name')\n        });\n      });\n      data.options = options;\n      return data;\n    };\n\n    VillaView.prototype.events = {\n      'change @ui.units': function(e) {\n        window.coord = 0;\n        return $('.villa').each(function(index, value) {\n          if (value.id === $(e.target).val()) {\n            $('.alert').text('Already assigned');\n            window.coord = 1;\n            window.hideAlert();\n          }\n        });\n      }\n    };\n\n    VillaView.prototype.onShow = function() {\n      var units;\n      units = bunglowVariantCollection.getBunglowUnits();\n      if (units.length === 0 && EDITMODE === false) {\n        this.ui.units.hide();\n        this.ui.unitLabel.hide();\n        $('.alert').text('No villas');\n        return window.hideAlert();\n      }\n    };\n\n    return VillaView;\n\n  })(Marionette.ItemView);\n\n  AuthoringTool.VillaCtrl = (function(superClass) {\n    extend(VillaCtrl, superClass);\n\n    function VillaCtrl() {\n      return VillaCtrl.__super__.constructor.apply(this, arguments);\n    }\n\n    VillaCtrl.prototype.initialize = function() {\n      var units;\n      units = bunglowVariantCollection.getBunglowUnits();\n      return this.show(new AuthoringTool.VillaView({\n        units: units\n      }));\n    };\n\n    return VillaCtrl;\n\n  })(Marionette.RegionController);\n\n}).call(this);\n\n//# sourceMappingURL=../../authoring-tool/entities/villa.entity.js.map","(function() {\n  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  AuthoringTool.PlotView = (function(superClass) {\n    extend(PlotView, superClass);\n\n    function PlotView() {\n      return PlotView.__super__.constructor.apply(this, arguments);\n    }\n\n    PlotView.prototype.template = Handlebars.compile('<form id=\"add-form\"><div class=\"form-group\"> <label class=\"unit-label\" for=\"exampleInputPassword1\">Units</label> <select class=\"form-control units\"> <option value=\"\">Select</option> {{#options}} <option value=\"{{id}}\">{{name}}</option> {{/options}} </select> </div> <div class=\"checkbox\"> <label> <input type=\"checkbox\" name=\"check_primary\"> Mark as primary unit </label> </div> </form>');\n\n    PlotView.prototype.ui = {\n      units: '.units'\n    };\n\n    PlotView.prototype.serializeData = function() {\n      var data, options, units;\n      data = PlotView.__super__.serializeData.call(this);\n      options = [];\n      units = Marionette.getOption(this, 'units');\n      $.each(units, function(ind, val) {\n        return options.push({\n          'id': val.get('id'),\n          'name': val.get('unit_name')\n        });\n      });\n      data.options = options;\n      console.log(data);\n      return data;\n    };\n\n    PlotView.prototype.events = {\n      'change @ui.units': function(e) {\n        window.coord = 0;\n        return $('.plot').each(function(index, value) {\n          if (value.id === $(e.target).val()) {\n            $('.alert').text('Already assigned');\n            window.hideAlert();\n            window.coord = 1;\n          }\n        });\n      }\n    };\n\n    PlotView.prototype.onShow = function() {\n      var units;\n      units = Marionette.getOption(this, 'units');\n      if (units.length === 0 && EDITMODE === false) {\n        this.ui.units.hide();\n        this.ui.unitLabel.hide();\n        $('.alert').text('No plots');\n        return window.hideAlert();\n      }\n    };\n\n    return PlotView;\n\n  })(Marionette.ItemView);\n\n  AuthoringTool.PlotCtrl = (function(superClass) {\n    extend(PlotCtrl, superClass);\n\n    function PlotCtrl() {\n      return PlotCtrl.__super__.constructor.apply(this, arguments);\n    }\n\n    PlotCtrl.prototype.initialize = function() {\n      var units;\n      units = plotVariantCollection.getPlotUnits();\n      return this.show(new AuthoringTool.PlotView({\n        units: units\n      }));\n    };\n\n    return PlotCtrl;\n\n  })(Marionette.RegionController);\n\n}).call(this);\n\n//# sourceMappingURL=../../authoring-tool/entities/plot.entity.js.map","(function() {\n  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  AuthoringTool.AmenityView = (function(superClass) {\n    extend(AmenityView, superClass);\n\n    function AmenityView() {\n      return AmenityView.__super__.constructor.apply(this, arguments);\n    }\n\n    AmenityView.prototype.template = Handlebars.compile('<form id=\"add-form\"> <div class=\"form-group\"> <label for=\"markerTitle\">Title</label> <input type=\"text\" class=\"form-control\" id=\"amenity-title\"> </div> <div class=\"form-group\"> <label for=\"Description\">Description</label> <textarea class=\"form-control\" rows=\"3\" id=\"amenity-description\"></textarea> </div> </form>');\n\n    return AmenityView;\n\n  })(Marionette.ItemView);\n\n  AuthoringTool.AmenityCtrl = (function(superClass) {\n    extend(AmenityCtrl, superClass);\n\n    function AmenityCtrl() {\n      return AmenityCtrl.__super__.constructor.apply(this, arguments);\n    }\n\n    AmenityCtrl.prototype.initialize = function(opts) {\n      return this.show(new AuthoringTool.AmenityView);\n    };\n\n    return AmenityCtrl;\n\n  })(Marionette.RegionController);\n\n}).call(this);\n\n//# sourceMappingURL=../../authoring-tool/entities/amenity.entity.js.map","(function() {\n  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  AuthoringTool.ApartmentView = (function(superClass) {\n    extend(ApartmentView, superClass);\n\n    function ApartmentView() {\n      return ApartmentView.__super__.constructor.apply(this, arguments);\n    }\n\n    ApartmentView.prototype.template = Handlebars.compile('<form id=\"add-form\"><div class=\"form-group\"> <label class=\"unit-label\" for=\"exampleInputPassword1\">Units</label> <select class=\"form-control units\"> <option value=\"\">Select</option> {{#options}} <option value=\"{{id}}\">{{name}}</option> {{/options}} </select> </div> <div class=\"checkbox\"> <label> <input type=\"checkbox\" name=\"check_primary\"> Mark as primary unit </label> </div> <form>');\n\n    ApartmentView.prototype.ui = {\n      units: '.units',\n      unitLabel: '.unit-label'\n    };\n\n    ApartmentView.prototype.serializeData = function() {\n      var data, options, units;\n      data = ApartmentView.__super__.serializeData.call(this);\n      options = [];\n      units = Marionette.getOption(this, 'units');\n      $.each(units, function(ind, val) {\n        return options.push({\n          'id': val.get('id'),\n          'name': val.get('unit_name')\n        });\n      });\n      data.options = options;\n      return data;\n    };\n\n    ApartmentView.prototype.events = {\n      'change @ui.units': function(e) {\n        window.coord = 0;\n        return $('.villa').each(function(index, value) {\n          if (value.id === $(e.target).val()) {\n            $('.alert').text('Already assigned');\n            window.coord = 1;\n            window.hideAlert();\n          }\n        });\n      }\n    };\n\n    ApartmentView.prototype.onShow = function() {\n      var units;\n      units = Marionette.getOption(this, 'units');\n      if (units.length === 0 && EDITMODE === false) {\n        this.ui.units.hide();\n        this.ui.unitLabel.hide();\n        $('.alert').text('No apartments');\n        return window.hideAlert();\n      }\n    };\n\n    return ApartmentView;\n\n  })(Marionette.ItemView);\n\n  AuthoringTool.ApartmentCtrl = (function(superClass) {\n    extend(ApartmentCtrl, superClass);\n\n    function ApartmentCtrl() {\n      return ApartmentCtrl.__super__.constructor.apply(this, arguments);\n    }\n\n    ApartmentCtrl.prototype.initialize = function() {\n      var newUnits, temp, units;\n      units = [];\n      $.merge(units, apartmentVariantCollection.getApartmentUnits());\n      $.merge(units, apartmentVariantCollection.getPenthouseUnits());\n      temp = new Backbone.Collection(units);\n      newUnits = temp.where({\n        'building_id': parseInt(building_id)\n      });\n      return this.show(new AuthoringTool.ApartmentView({\n        units: newUnits\n      }));\n    };\n\n    return ApartmentCtrl;\n\n  })(Marionette.RegionController);\n\n}).call(this);\n\n//# sourceMappingURL=../../authoring-tool/entities/apartment.entity.js.map","(function() {\n  jQuery(document).ready(function($) {\n    var keydownFunc;\n    $('.svg-canvas').addClass('svg-off');\n    $('.area').canvasAreaDraw();\n    window.draw = SVG('aj-imp-builder-drag-drop');\n    window.svgData = {\n      'image': '',\n      'data': [],\n      'supported_types': ['villa', 'plot']\n    };\n    window.cx = 630.101;\n    window.cy = 362.245;\n    window.innerRadius = 8.002;\n    window.outerRadius = 15.002;\n    window.ellipseWidth = 360;\n    window.ellipseHeight = 160;\n    window.markerPoints = [window.cx, window.cx];\n    window.locationMarkerPoints = [window.cx, window.cx];\n    window.dropLocationMarker = false;\n    window.windowWidth = 0;\n    window.EDITMODE = false;\n    window.createSvg = function(svgData) {\n      window.rawSvg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n      rawSvg.setAttribute('id', 'Layer_1');\n      rawSvg.setAttribute('style', 'border: 1px solid black');\n      rawSvg.setAttribute('width', '100%');\n      rawSvg.setAttribute('height', '100%');\n      rawSvg.setAttributeNS(null, 'x', '0');\n      rawSvg.setAttributeNS(null, 'y', '0');\n      rawSvg.setAttribute('preserveAspectRatio', '\"xMinYMin slice\"');\n      rawSvg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n      window.createImageTag();\n      return $.each(svgData, function(index, value) {\n        var tag;\n        if (value.canvas_type === 'polygon') {\n          tag = window.polygon.createPolgyonTag(value);\n          if (tag !== \"\") {\n            window.makeDraggable();\n            rawSvg.appendChild(tag);\n          }\n        }\n        if (value.canvas_type === 'marker') {\n          return tag = window.marker.createMarkerTag(value);\n        }\n      });\n    };\n    window.createImageTag = function() {\n      var svgimg;\n      svgimg = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n      svgimg.setAttributeNS(null, 'height', '800');\n      svgimg.setAttributeNS(null, 'width', '1600');\n      svgimg.setAttributeNS('http://www.w3.org/1999/xlink', 'href', svgImg);\n      svgimg.setAttributeNS(null, 'x', '0');\n      svgimg.setAttributeNS(null, 'y', '0');\n      svgimg.setAttributeNS(null, 'visibility', 'visible');\n      return rawSvg.appendChild(svgimg);\n    };\n    window.generateSvg = function(svgData) {\n      window.selectMarker = 0;\n      draw.image(svgImg).data('exclude', true);\n      $.each(svgData, function(index, value) {\n        if (value.canvas_type === 'polygon') {\n          window.polygon.generatePolygonTag(value);\n        }\n        if (value.canvas_type === 'marker') {\n          return window.marker.generateMarkerTag(value);\n        }\n      });\n      return draw.attr('preserveAspectRatio', \"xMinYMin slice\");\n    };\n    window.createPanel = function(data) {\n      return $.each(data, function(index, value) {\n        return $('.' + value).removeClass('hidden');\n      });\n    };\n    window.makeDraggable = function(data) {\n      var element;\n      element = draw.polygon(data);\n      return element.draggable();\n    };\n    window.getPendingObjects = function(svgData) {\n      var collection, supportedTypes, type;\n      type = [];\n      collection = new Backbone.Collection(svgData.data);\n      supportedTypes = svgData.supported_types;\n      supportedTypes = _.uniq(supportedTypes);\n      $.each(supportedTypes, function(index, value) {\n        var items, marked, units;\n        if (value === 'Apartment/Penthouse') {\n          value = 'apartment';\n        }\n        items = collection.where({\n          'object_type': value.toLowerCase()\n        });\n        units = window.actualUnits(value.toLowerCase());\n        marked = [];\n        $.each(items, function(ind, val) {\n          if (!_.isEmpty(val.get('canvas_type'))) {\n            return marked.push(val);\n          }\n        });\n        return type.push({\n          'name': value,\n          'id': value,\n          'total': units.length,\n          'marked': marked.length\n        });\n      });\n      return type;\n    };\n    window.actualUnits = function(value) {\n      var newUnits, temp, units;\n      units = [];\n      if (value === 'villa') {\n        units = bunglowVariantCollection.getBunglowMasterUnits();\n      }\n      if (value === 'plot') {\n        units = plotVariantCollection.getPlotMasterUnits();\n      }\n      if (value === 'building') {\n        units = buildingMasterCollection.toArray();\n      }\n      if (value === 'apartment') {\n        units = apartmentVariantCollection.getApartmentMasterUnits();\n        temp = new Backbone.Collection(units);\n        newUnits = temp.where({\n          'building_id': parseInt(building_id)\n        });\n        units = newUnits;\n      }\n      return units;\n    };\n    window.showPendingObjects = function(data) {\n      var html, marked, total;\n      html = '';\n      total = [];\n      marked = [];\n      $.each(data, function(index, value) {\n        total.push(value.total + ' ' + value.name + '(s)');\n        return marked.push(value.marked + ' ' + value.name + '(s)');\n      });\n      html = '<strong class=\"pull-right total-count\">' + total.join(\" | \") + '</strong>' + '<strong class=\"pull-right title-count\"> Total:</strong>' + '<strong class=\"pull-right total-count\">' + marked.join(\" | \") + '</strong>' + '<strong class=\"pull-right title-count\"> Marked:</strong>';\n      return $('.pending').html(html);\n    };\n    window.generatePropTypes = function() {\n      var select, types;\n      types = window.svgData.supported_types;\n      select = $('.property_type');\n      $('<option />', {\n        value: \"\",\n        text: 'Select option'\n      }).appendTo(select);\n      $.each(types, function(index, value) {\n        var valueText, valuetemp;\n        if (svg_type === 'google_earth' && value === 'Project') {\n          return;\n        }\n        valueText = value;\n        valuetemp = value;\n        if (value === \"Apartment/Penthouse\") {\n          valueText = \"apartment\";\n          valuetemp = 'apartment';\n        }\n        return $('<option />', {\n          value: valuetemp.toLowerCase(),\n          text: value.toUpperCase()\n        }).appendTo(select);\n      });\n      return $('<option />', {\n        value: 'unassign',\n        text: 'Unassign'.toUpperCase()\n      }).appendTo(select);\n    };\n    window.resetCollection = function() {\n      return $('.polygon-type,.marker-grp').each(function(index, value) {\n        var bldg, bldgId, type, unit, unitID;\n        type = $(value).attr('type');\n        if (type === 'building') {\n          bldgId = parseInt(value.id);\n          bldg = buildingCollection.findWhere({\n            'id': bldgId\n          });\n          return buildingCollection.remove(bldg);\n        } else if (type === 'unassign') {\n\n        } else if (type !== 'project' && type !== 'unassign' && type !== 'building') {\n          unitID = parseInt(value.id);\n          if (unitID !== 0) {\n            unit = unitMasterCollection.findWhere({\n              'id': parseInt(value.id)\n            });\n            return unitCollection.remove(unit.get('id'));\n          }\n        }\n      });\n    };\n    window.iniTooltip = function() {\n      return $('.amenity').tooltipster({\n        theme: 'tooltipster-shadow',\n        contentAsHTML: true,\n        onlyOne: true,\n        arrow: false,\n        offsetX: 50,\n        offsetY: -10,\n        interactive: true,\n        trigger: 'hover'\n      });\n    };\n    window.loadJSONData = function() {\n      return $.ajax({\n        type: 'GET',\n        url: BASERESTURL + '/project/' + PROJECTID + '/project-details',\n        async: false,\n        success: function(response) {\n          var types;\n          response = response.data;\n          bunglowVariantCollection.setBunglowVariantAttributes(response.bunglow_variants);\n          unitTypeCollection.setUnitTypeAttributes(response.unit_types);\n          buildingCollection.setBuildingAttributes(response.buildings);\n          apartmentVariantCollection.setApartmentVariantAttributes(response.apartment_variants);\n          window.propertyTypes = response.property_types;\n          plotVariantCollection.setPlotVariantAttributes(response.plot_variants);\n          unitCollection.setUnitAttributes(response.units);\n          window.generatePropTypes();\n          types = window.getPendingObjects(window.svgData);\n          window.showPendingObjects(types);\n          window.iniTooltip();\n          window.generateSvg(window.svgData.data);\n          return window.resetCollection();\n        },\n        error: function(response) {\n          return alert('Some problem occurred');\n        }\n      });\n    };\n    window.loadSVGData = function() {\n      return $.ajax({\n        type: 'GET',\n        url: BASEURL + '/admin/project/' + PROJECTID + '/image/' + IMAGEID,\n        async: false,\n        success: function(response) {\n          var types;\n          window.svgData = {};\n          window.svgData['image'] = svgImg;\n          window.svgData['data'] = response.data;\n          window.svgData['supported_types'] = JSON.parse(supported_types);\n          window.svgData['breakpoint_position'] = breakpoint_position;\n          window.svgData['svg_type'] = svg_type;\n          window.svgData['building_id'] = building_id;\n          window.svgData['project_id'] = project_id;\n          types = window.getPendingObjects(window.svgData);\n          window.showPendingObjects(types);\n          return window.generateSvg(window.svgData.data);\n        },\n        error: function(response) {\n          return alert('Some problem occurred');\n        }\n      });\n    };\n    window.loadSvgPaths = function() {\n      var building_name, select, svgCount, svgs;\n      select = $('.svgPaths');\n      $('<option />', {\n        value: \"\",\n        text: \"Select Option\"\n      }).appendTo(select);\n      svgs = jQuery.parseJSON(svg_paths);\n      svgs = _.omit(svgs, image_id);\n      $.each(svgs, function(index, value) {\n        if (value === \"\") {\n          return svgs = _.omit(svgs, index);\n        }\n      });\n      svgCount = Object.keys(svgs).length;\n      if (svgCount === 0) {\n        select.hide();\n        $('.duplicate').hide();\n        return;\n      }\n      building_name = buildingMasterCollection.findWhere({\n        'id': parseInt(building_id)\n      });\n      if (parseInt(building_id) !== 0) {\n        $.each(svgs, function(index, value) {\n          var svg_name, svg_name_arr;\n          svg_name_arr = value.split('/');\n          svg_name = svg_name_arr[parseInt(svg_name_arr.length) - 1];\n          return $('<option />', {\n            value: index,\n            text: building_name.get('building_name') + '-' + svg_name\n          }).appendTo(select);\n        });\n        return;\n      }\n      return $.each(svgs, function(index, value) {\n        var svg_name, svg_name_arr;\n        svg_name_arr = value.split('/');\n        svg_name = svg_name_arr[parseInt(svg_name_arr.length) - 1];\n        return $('<option />', {\n          value: index,\n          text: svg_name\n        }).appendTo(select);\n      });\n    };\n    window.loadOjectData = function() {\n      return $.ajax({\n        type: 'GET',\n        url: BASEURL + '/admin/project/' + PROJECTID + '/image/' + IMAGEID,\n        async: false,\n        success: function(response) {\n          window.svgData = {};\n          window.svgData['image'] = svgImg;\n          window.svgData['data'] = response.data;\n          window.svgData['supported_types'] = JSON.parse(supported_types);\n          window.svgData['breakpoint_position'] = breakpoint_position;\n          window.svgData['svg_type'] = svg_type;\n          window.svgData['building_id'] = building_id;\n          window.svgData['project_id'] = project_id;\n          window.loadJSONData();\n          $('.duplicate').hide();\n          if (response.data.length === 0) {\n            $('.duplicate').show();\n            return window.loadSvgPaths();\n          }\n        },\n        error: function(response) {\n          return alert('Some problem occurred');\n        }\n      });\n    };\n    window.renderSVG = function() {\n      var canvas, ctx, s, str, types;\n      window.createSvg(window.svgData.data);\n      types = window.getPendingObjects(window.svgData);\n      window.showPendingObjects(types);\n      s = new XMLSerializer();\n      str = s.serializeToString(rawSvg);\n      draw.svg(str);\n      window.resetCollection();\n      $('.area').val(\"\");\n      window.f = [];\n      $(\"form\").trigger(\"reset\");\n      $('#dynamice-region').empty();\n      $('#aj-imp-builder-drag-drop canvas').hide();\n      $('#aj-imp-builder-drag-drop svg').show();\n      $('.edit-box').addClass('hidden');\n      canvas = document.getElementById(\"c\");\n      ctx = canvas.getContext(\"2d\");\n      return ctx.clearRect(0, 0, canvas.width, canvas.height);\n    };\n    window.resetTool = function() {\n      var canvas, ctx;\n      window.resetCollection();\n      window.EDITMODE = false;\n      $('.area').val(\"\");\n      window.f = [];\n      $(\"form\").trigger(\"reset\");\n      $('#dynamice-region').empty();\n      $('#aj-imp-builder-drag-drop canvas').hide();\n      $('#aj-imp-builder-drag-drop svg').show();\n      $('.edit-box').addClass('hidden');\n      canvas = document.getElementById(\"c\");\n      ctx = canvas.getContext(\"2d\");\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      return $('#aj-imp-builder-drag-drop svg').first().css(\"position\", \"absolute\");\n    };\n    window.saveUnit = function() {\n      var details, locationPoints, myObject, objectType, type;\n      myObject = {};\n      details = {};\n      objectType = $('.property_type').val();\n      myObject['image_id'] = IMAGEID;\n      myObject['object_type'] = objectType;\n      myObject['canvas_type'] = window.canvas_type;\n      myObject['breakpoint_position'] = window.breakpoint_position;\n      if (objectType === \"amenity\") {\n        myObject['object_id'] = 0;\n      } else if (objectType === \"project\") {\n        myObject['object_id'] = project_id;\n        if (window.dropLocationMarker === true) {\n          locationPoints = window.locationMarkerPoints;\n          details['location_marker_x'] = locationPoints[0];\n          details['location_marker_y'] = locationPoints[1];\n          details['location_marker_class'] = 'marker';\n        }\n      } else {\n        myObject['object_id'] = $('.units').val();\n      }\n      if (myObject['object_type'] === \"amenity\") {\n        details['title'] = $('#amenity-title').val();\n        details['description'] = $('#amenity-description').val();\n        details['class'] = $('.property_type').val();\n      } else if (myObject['object_type'] === \"project\") {\n        details['class'] = 'step1-marker';\n      } else {\n        type = $('.property_type').val();\n        details['class'] = 'layer ' + type;\n      }\n      if (window.canvas_type === \"concentricMarker\") {\n        myObject['points'] = window.markerPoints;\n        myObject['canvas_type'] = 'marker';\n        details['cx'] = window.cx;\n        details['cy'] = window.cy;\n        details['innerRadius'] = window.innerRadius;\n        details['outerRadius'] = window.outerRadius;\n        details['marker_type'] = 'concentric';\n      } else if (window.canvas_type === \"solidMarker\") {\n        myObject['points'] = window.markerPoints;\n        myObject['canvas_type'] = 'marker';\n        details['cx'] = window.cx;\n        details['cy'] = window.cy;\n        details['innerRadius'] = window.innerRadius;\n        details['outerRadius'] = window.outerRadius;\n        details['marker_type'] = 'solid';\n      } else if (window.canvas_type === \"earthlocationMarker\") {\n        myObject['points'] = window.markerPoints;\n        myObject['canvas_type'] = 'marker';\n        details['cx'] = window.cx;\n        details['cy'] = window.cy;\n        details['ellipseWidth'] = window.ellipseWidth;\n        details['ellipseHeight'] = window.ellipseHeight;\n        details['marker_type'] = 'earthlocation';\n      } else {\n        myObject['points'] = $('.area').val().split(',');\n      }\n      myObject['other_details'] = details;\n      if ($('[name=\"check_primary\"]').is(\":checked\") === true) {\n        myObject['primary_breakpoint'] = window.breakpoint_position;\n      }\n      return $.ajax({\n        type: 'POST',\n        headers: {\n          'x-csrf-token': $(\"meta[name='csrf-token']\").attr('content')\n        },\n        url: BASEURL + '/admin/project/' + PROJECTID + '/svg-tool',\n        async: false,\n        data: $.param(myObject),\n        success: function(response) {\n          var types;\n          myObject['id'] = response.data.id;\n          if (response.data.primary_breakpoint !== null) {\n            myObject['primary_breakpoint'] = response.data.primary_breakpoint;\n          }\n          if (svg_type === \"google_earth\") {\n            window.is_project_marked = true;\n          }\n          window.svgData.data.push(myObject);\n          draw.clear();\n          types = window.getPendingObjects(window.svgData);\n          window.showPendingObjects(types);\n          window.generateSvg(window.svgData.data);\n          window.resetTool();\n          return $('.toggle').bind('click');\n        },\n        error: function(response) {\n          return alert('Some problem occurred');\n        }\n      });\n    };\n    window.loadForm = function(type) {\n      var propType;\n      propType = $('.property_type').val();\n      if ((propType === 'project') && window.is_project_marked) {\n        $('.submit').attr('disabled', true);\n      } else {\n        $('.submit').attr('disabled', false);\n      }\n      this.region = new Marionette.Region({\n        el: '#dynamice-region'\n      });\n      if (type === 'villa') {\n        new AuthoringTool.VillaCtrl({\n          region: this.region\n        });\n      }\n      if (type === 'plot') {\n        new AuthoringTool.PlotCtrl({\n          region: this.region\n        });\n      }\n      if (type === 'amenity') {\n        new AuthoringTool.AmenityCtrl({\n          region: this.region\n        });\n      }\n      if (type === 'apartment') {\n        new AuthoringTool.ApartmentCtrl({\n          'region': this.region\n        });\n      }\n      if (type === 'building') {\n        new AuthoringTool.BuildingCtrl({\n          'region': this.region\n        });\n      }\n      if (type === 'project') {\n        new AuthoringTool.ProjectCtrl({\n          'region': this.region,\n          'property': project_data\n        });\n      }\n      if (type === 'unassign') {\n        return $('#dynamice-region').empty();\n      }\n    };\n    window.showDetails = function(elem) {\n      var select, type, unit, unit_name;\n      type = $(elem).attr('type');\n      if (type !== 'unassign' && type !== 'undetect') {\n        unit_name = \"\";\n        if (type === 'building') {\n          unit = buildingMasterCollection.findWhere({\n            'id': parseInt(elem.id)\n          });\n          unit_name = unit.get('building_name');\n        } else if (type !== 'building' && type !== 'project') {\n          unit = unitMasterCollection.findWhere({\n            'id': parseInt(elem.id)\n          });\n          unit_name = unit.get('unit_name');\n        }\n        $('.property_type').val($(elem).attr('type'));\n        $('.property_type').attr('disabled', true);\n        select = $('.units');\n        $('<option />', {\n          value: elem.id,\n          text: unit_name\n        }).appendTo(select);\n        $('.units').attr('disabled', true);\n        $('.units').val(elem.id);\n        return $('.units').show();\n      } else {\n        $(\"form\").trigger(\"reset\");\n        $('.edit').removeClass('hidden');\n        $('.delete').removeClass('hidden');\n        $('.submit').addClass('hidden');\n        $('.property_type').attr('disabled', false);\n        return $('.property_type').val('unassign');\n      }\n    };\n    window.loadProjectForm = function() {\n      var propType, region, select;\n      if (window.canvas_type === \"earthlocationMarker\") {\n        select = $('.property_type');\n        $('<option />', {\n          value: 'project',\n          text: s.capitalize('project')\n        }).appendTo(select);\n      }\n      $('.property_type').val('project');\n      $('.property_type').attr('disabled', true);\n      propType = $('.property_type').val();\n      if ((propType === 'project') && window.is_project_marked) {\n        $('.submit').attr('disabled', true);\n      } else {\n        $('.submit').attr('disabled', false);\n      }\n      region = new Marionette.Region({\n        el: '#dynamice-region'\n      });\n      return new AuthoringTool.ProjectCtrl({\n        'region': region,\n        'property': project_data\n      });\n    };\n    window.hideAlert = function() {\n      $('.alert').show();\n      return $('.alert-box').delay(3000).queue(function(next) {\n        $(this).hide('fade');\n        return next();\n      });\n    };\n    window.hideLabel = function() {\n      $('.alert2').show();\n      return $('.alert2').delay(3000).queue(function(next) {\n        $(this).hide('fade');\n        return next();\n      });\n    };\n    window.buildSvgObjectData = function() {\n      var details, locationPoints, myObject, objectType;\n      myObject = {};\n      details = {};\n      objectType = $('.property_type').val();\n      myObject['image_id'] = IMAGEID;\n      myObject['object_type'] = objectType;\n      myObject['canvas_type'] = window.canvas_type;\n      myObject['breakpoint_position'] = window.breakpoint_position;\n      if (objectType === \"amenity\") {\n        myObject['object_id'] = 0;\n      } else if (objectType === \"project\") {\n        myObject['object_id'] = project_id;\n        if (window.dropLocationMarker === true) {\n          locationPoints = window.locationMarkerPoints;\n          details['location_marker_x'] = locationPoints[0];\n          details['location_marker_y'] = locationPoints[1];\n          details['location_marker_class'] = 'marker';\n        }\n      } else {\n        myObject['object_id'] = $('.units').val();\n      }\n      if (myObject['object_type'] === \"amenity\") {\n        details['title'] = $('#amenity-title').val();\n        details['description'] = $('#amenity-description').val();\n        details['class'] = $('.property_type').val();\n      } else if (myObject['object_type'] === \"project\") {\n        details['class'] = 'step1-marker';\n      } else {\n        details['class'] = 'layer ' + $('.property_type').val();\n      }\n      if (window.canvas_type === \"concentricMarker\") {\n        myObject['points'] = window.markerPoints;\n        myObject['canvas_type'] = 'marker';\n        details['cx'] = window.cx;\n        details['cy'] = window.cy;\n        details['innerRadius'] = window.innerRadius;\n        details['outerRadius'] = window.outerRadius;\n        details['marker_type'] = 'concentric';\n      } else if (window.canvas_type === \"solidMarker\") {\n        myObject['points'] = window.markerPoints;\n        myObject['canvas_type'] = 'marker';\n        details['cx'] = window.cx;\n        details['cy'] = window.cy;\n        details['innerRadius'] = window.innerRadius;\n        details['outerRadius'] = window.outerRadius;\n        details['marker_type'] = 'solid';\n      } else if (window.canvas_type === \"earthlocationMarker\") {\n        myObject['points'] = window.markerPoints;\n        myObject['canvas_type'] = 'marker';\n        details['cx'] = window.cx;\n        details['cy'] = window.cy;\n        details['ellipseWidth'] = window.ellipseWidth;\n        details['ellipseHeight'] = window.ellipseHeight;\n        details['marker_type'] = 'earthlocation';\n      } else {\n        myObject['points'] = $('.area').val().split(',');\n      }\n      myObject['other_details'] = details;\n      if ($('[name=\"check_primary\"]').is(\":checked\") === true) {\n        myObject['primary_breakpoint'] = window.breakpoint_position;\n      }\n      return myObject;\n    };\n    window.drawDefaultMarker = function(markerType) {\n      var circle, circle1, circle2, drawMarkerElements, ellipse, groupLocation, groupMarker, polygon;\n      drawMarkerElements = [];\n      window.markerPoints = [window.cx, window.cy];\n      groupLocation = \"\";\n      groupMarker = draw.group();\n      switch (markerType) {\n        case 'concentric':\n          window.canvas_type = \"concentricMarker\";\n          groupMarker.attr({\n            \"class\": 'concentric-marker-grp'\n          });\n          circle1 = draw.circle(window.innerRadius);\n          circle1.attr({\n            fill: '#FF8500',\n            cx: window.cx,\n            cy: window.cy\n          });\n          circle2 = draw.circle(window.outerRadius);\n          circle2.attr({\n            fill: 'none',\n            cx: window.cx,\n            cy: window.cy,\n            stroke: \"#FF7900\",\n            'stroke-width': 4,\n            'stroke-miterlimit': 10\n          });\n          drawMarkerElements.push(circle1);\n          drawMarkerElements.push(circle2);\n          break;\n        case 'solid':\n          window.canvas_type = \"solidMarker\";\n          groupMarker.attr({\n            \"class\": 'solid-marker-grp'\n          });\n          circle = draw.circle(15.002);\n          circle.attr({\n            cx: window.cx,\n            cy: window.cy\n          });\n          drawMarkerElements.push(circle);\n          break;\n        case 'location':\n          groupLocation = draw.group();\n          groupLocation.attr({\n            \"class\": 'location-marker-grp'\n          });\n          groupLocation.addClass('marker');\n          polygon = draw.polygon('776.906,408.457 821.094,407 798.01,459.243');\n          polygon.attr({\n            fill: '#F7931E'\n          });\n          groupLocation.add(polygon);\n          ellipse = draw.ellipse(40, 40);\n          ellipse.attr({\n            'fill': '#FFFFFF',\n            'stroke': '#F7931E',\n            'stroke-width': 6,\n            'stroke-miterlimit': 10,\n            cx: 798.696,\n            cy: 401.52\n          });\n          drawDefaultMarker.add(ellipse);\n          groupLocation.draggable();\n          groupLocation.dragend = function(delta, event) {\n            var newDelta;\n            newDelta = [delta.x, delta.y];\n            return window.locationMarkerPoints = newDelta;\n          };\n          window.dropLocationMarker = true;\n          break;\n        case 'earthlocation':\n          window.canvas_type = \"earthlocationMarker\";\n          groupMarker.attr({\n            \"class\": 'earth-location-marker-grp'\n          });\n          groupMarker.addClass('step1-marker');\n          ellipse = draw.ellipse(window.ellipseWidth, window.ellipseHeight);\n          ellipse.attr({\n            'fill': '#FF6700',\n            'stroke': '#FF7300',\n            'stroke-width': 3,\n            'fill-opacity': 0.2,\n            'stroke-miterlimit': 10,\n            cx: window.cx,\n            cy: window.cy\n          });\n          drawMarkerElements.push(ellipse);\n          window.loadProjectForm();\n      }\n      if (window.canvas_type !== 'earthlocationMarker' && svg_type === 'google_earth') {\n        $(\".property_type\").find(\"option[value='project']\").remove();\n        $('#dynamice-region').empty();\n      }\n      _.each(drawMarkerElements, (function(_this) {\n        return function(markerElement, key) {\n          return groupMarker.add(markerElement);\n        };\n      })(this));\n      groupMarker.draggable();\n      return groupMarker.dragend = function(delta, event) {\n        var markerPts, newX, newY, newpoints, oldX, oldY, tx, ty;\n        markerPts = window.markerPoints;\n        oldX = markerPts[0];\n        oldY = markerPts[1];\n        tx = delta.x;\n        ty = delta.y;\n        newX = oldX + tx;\n        newY = oldY + ty;\n        newpoints = [newX, newY];\n        return window.markerPoints = newpoints;\n      };\n    };\n    window.loadOjectData();\n    $('#aj-imp-builder-drag-drop canvas').ready(function() {\n      $('#aj-imp-builder-drag-drop canvas').hide();\n      $('#aj-imp-builder-drag-drop .svg-draw-clear').hide();\n      window.windowWidth = 1300;\n      $('canvas').css('width', window.windowWidth);\n      $('canvas').css('height', window.windowWidth / 2);\n      $('.svg-canvas').css('width', window.windowWidth);\n      $('.svg-canvas').css('height', window.windowWidth / 2);\n      return document.addEventListener('keydown', keydownFunc, false);\n    });\n    keydownFunc = function(e) {\n      var id, object, pointList;\n      if (e.which === 13) {\n        if (f.length > 0) {\n          $('.alert').text('POLYGON IS NOW DRAGGABLE');\n          window.hideAlert();\n        } else {\n          return;\n        }\n        $('#aj-imp-builder-drag-drop canvas').hide();\n        $('#aj-imp-builder-drag-drop svg').show();\n        object = window.EDITOBJECT;\n        id = $(object).attr('svgid');\n        $('.layer[svgid=\"' + id + '\"]').hide();\n        pointList = window.polygon.getPointList(f);\n        pointList = pointList.join(' ');\n        this.polygon = draw.polygon(pointList);\n        this.polygon.addClass('polygon-temp');\n        this.polygon.data('exclude', true);\n        this.polygon.attr('fill', '#CC0000');\n        this.polygon.draggable();\n        return this.polygon.dragend = (function(_this) {\n          return function(delta, event) {\n            var canvas, canvasPointsLength, ctx, i, newPoints, newX, newY, oldPoints, tx, ty;\n            tx = delta.x;\n            ty = delta.y;\n            canvasPointsLength = window.f.length;\n            oldPoints = window.f;\n            newPoints = [];\n            i = 0;\n            while (i < canvasPointsLength) {\n              newX = parseInt(oldPoints[i]) + tx;\n              newY = parseInt(oldPoints[i + 1]) + ty;\n              newPoints.push(newX, newY);\n              i += 2;\n            }\n            window.f = newPoints;\n            $('.area').val(newPoints.join(','));\n            canvas = document.getElementById(\"c\");\n            ctx = canvas.getContext(\"2d\");\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            _this.polygon.fixed();\n            _this.polygon.remove();\n            $('#aj-imp-builder-drag-drop canvas').show();\n            $('#aj-imp-builder-drag-drop .svg-draw-clear').show();\n            $('#aj-imp-builder-drag-drop svg').first().css(\"position\", \"absolute\");\n            return drawPoly(window.f);\n          };\n        })(this);\n      }\n    };\n    $(\".toggle\").click(function() {\n      $(this).toggleClass(\"expanded\");\n      return $('.menu').toggleClass('open');\n    });\n    $('[rel=\\'popover\\']').popover({\n      html: 'true',\n      content: '<div id=\"popOverBox\"> <ul class=\"list-inline\"> <li title=\"Amenities\"><div class=\"marker-elem marker1 concentric-marker\"></div></li> <li title=\"Units\"><div class=\"marker-elem marker2 solid-marker\"></div></li> <li class=\"google-earth-li hidden\" title=\"Project Location\"><div class=\"marker-elem marker3 earth-location-marker\"></div></li> </ul> </div>'\n    }).parent().on('click', '#popOverBox .marker-elem', function(evt) {\n      var currentElem, markerType;\n      window.EDITMODE = true;\n      currentElem = evt.currentTarget;\n      if (window.selectMarker === 1) {\n        $('.alert').text('Can select only one marker at a time!');\n        window.hideAlert();\n        return;\n      }\n      window.selectMarker = 1;\n      if ($(currentElem).hasClass('concentric-marker')) {\n        markerType = \"concentric\";\n      } else if ($(currentElem).hasClass('solid-marker')) {\n        markerType = \"solid\";\n      } else if ($(currentElem).hasClass('earth-location-marker')) {\n        markerType = \"earthlocation\";\n      } else if ($(currentElem).hasClass('location-marker')) {\n        markerType = \"location\";\n      }\n      $('#aj-imp-builder-drag-drop canvas').hide();\n      $('#aj-imp-builder-drag-drop svg').first().css(\"position\", \"relative\");\n      $('.edit-box').removeClass('hidden');\n      $('.edit').addClass('hidden');\n      $('.delete').addClass('hidden');\n      $('.submit').removeClass('hidden');\n      $('.property_type').attr('disabled', false);\n      $('[rel=\\'popover\\']').popover('hide');\n      return window.drawDefaultMarker(markerType);\n    });\n    $('[rel=\\'popover\\']').on('click', function(e) {\n      var google_earth_li;\n      if (svg_type === \"google_earth\") {\n        google_earth_li = $('.google-earth-li').removeClass('hidden');\n        return $('.popover-content').css(\"width\", \"163px\");\n      }\n    });\n    $('.select-polygon').on('click', function(e) {\n      var canvas, ctx;\n      e.preventDefault();\n      window.EDITMODE = true;\n      window.canvas_type = \"polygon\";\n      if (window.canvas_type !== 'earthlocationMarker' && svg_type === 'google_earth') {\n        $(\".property_type\").find(\"option[value='project']\").remove();\n        $('#dynamice-region').empty();\n      }\n      $('.area').val(\"\");\n      window.f = [];\n      canvas = document.getElementById(\"c\");\n      ctx = canvas.getContext(\"2d\");\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      $(\"form\").trigger(\"reset\");\n      $('#dynamice-region').empty();\n      $('#aj-imp-builder-drag-drop canvas').show();\n      $('#aj-imp-builder-drag-drop .svg-draw-clear').show();\n      $('#aj-imp-builder-drag-drop svg').first().css(\"position\", \"absolute\");\n      $('.edit-box').removeClass('hidden');\n      $('.edit').addClass('hidden');\n      $('.delete').addClass('hidden');\n      $('.submit').removeClass('hidden');\n      return $('.property_type').attr('disabled', false);\n    });\n    $('.select-ellipse').on('click', function(e) {\n      e.preventDefault();\n      window.EDITMODE = true;\n      return window.canvas_type = \"ellipse\";\n    });\n    $('svg').on('dblclick', '.polygon-type', function(e) {\n      var currentElem, elemId, element, object_type, svgDataObjects, tmp;\n      e.preventDefault();\n      window.EDITOBJECT = e.target;\n      window.canvas_type = \"polygon\";\n      window.EDITMODE = true;\n      elemId = $(e.currentTarget).attr('svgid');\n      window.currentSvgId = parseInt(elemId);\n      $('#aj-imp-builder-drag-drop canvas').show();\n      $('#aj-imp-builder-drag-drop .svg-draw-clear').show();\n      $('#aj-imp-builder-drag-drop svg').first().css(\"position\", \"absolute\");\n      $('.edit-box').removeClass('hidden');\n      currentElem = e.currentTarget;\n      element = currentElem.id;\n      object_type = $(currentElem).attr('type');\n      tmp = new Backbone.Collection(svgData.data);\n      window.newObject = tmp.clone();\n      svgDataObjects = svgData.data;\n      return _.each(svgDataObjects, (function(_this) {\n        return function(svgDataObject, key) {\n          var valpoints;\n          if (parseInt(elemId) === parseInt(svgDataObject.id)) {\n            valpoints = svgDataObject.points;\n            $('.area').val(valpoints.join(','));\n            drawPoly(valpoints);\n            $('.submit').addClass('hidden');\n            $('.edit').removeClass('hidden');\n            $('.delete').removeClass('hidden');\n            if (object_type === \"project\") {\n              window.loadProjectForm();\n            } else {\n              window.loadForm(object_type);\n            }\n            if (!(_.isNull($(currentElem).data(\"primary-breakpoint\"))) && !(_.isUndefined($(currentElem).data(\"primary-breakpoint\")))) {\n              $('[name=\"check_primary\"]').prop('checked', true);\n            }\n            if (object_type === \"amenity\") {\n              $('#amenity-title').val($(currentElem).data(\"amenity-title\"));\n              $('#amenity-description').val($(currentElem).data(\"amenity-desc\"));\n              $('.property_type').val($(currentElem).attr('type'));\n              return $('.property_type').attr('disabled', true);\n            } else {\n              return window.showDetails(currentElem);\n            }\n          }\n        };\n      })(this));\n    });\n    $('.zoom-in').on('click', function(e) {\n      return $('.svg-canvas').removeClass('svg-off');\n    });\n    $('svg').on('dblclick', '.marker-grp', function(e) {\n      var currentElem, currentSvgElem, cx, cy, draggableChildCircle, draggableElem, elemId, object_type;\n      window.EDITMODE = true;\n      draggableElem = \"\";\n      elemId = $(e.currentTarget).attr('svgid');\n      window.currentSvgId = parseInt(elemId);\n      currentSvgElem = $(e.currentTarget);\n      draw.each((function(i, children) {\n        var childId;\n        childId = this.attr('svgid');\n        if (parseInt(childId) === parseInt(elemId)) {\n          this.draggable();\n          draggableElem = this;\n        }\n      }), true);\n      draggableChildCircle = draggableElem.first();\n      cx = draggableChildCircle.attr('cx');\n      cy = draggableChildCircle.attr('cy');\n      window.markerPoints = [cx, cy];\n      if (draggableElem.hasClass('concentric')) {\n        window.canvas_type = 'concentricMarker';\n      } else if (draggableElem.hasClass('solid')) {\n        window.canvas_type = 'solidMarker';\n      } else if (draggableElem.hasClass('earthlocation')) {\n        window.canvas_type = 'earthlocationMarker';\n      }\n      draggableElem.dragend = function(delta, event) {\n        var markerPts, newX, newY, newpoints, oldX, oldY, tx, ty;\n        markerPts = window.markerPoints;\n        oldX = markerPts[0];\n        oldY = markerPts[1];\n        tx = delta.x;\n        ty = delta.y;\n        newX = oldX + tx;\n        newY = oldY + ty;\n        newpoints = [newX, newY];\n        return window.markerPoints = newpoints;\n      };\n      currentElem = e.currentTarget;\n      $('.edit-box').removeClass('hidden');\n      object_type = $(currentElem).attr('type');\n      $('.submit').addClass('hidden');\n      $('.edit').removeClass('hidden');\n      $('.delete').removeClass('hidden');\n      if (object_type === \"project\") {\n        window.loadProjectForm();\n      } else {\n        window.loadForm(object_type);\n      }\n      if ($(currentElem).data(\"primary-breakpoint\")) {\n        $('[name=\"check_primary\"]').prop('checked', true);\n      }\n      if (object_type === \"amenity\") {\n        $('#amenity-title').val($(currentElem).data(\"amenity-title\"));\n        $('#amenity-description').val($(currentElem).data(\"amenity-desc\"));\n        $('.property_type').val($(currentElem).attr('type'));\n        return $('.property_type').attr('disabled', true);\n      } else {\n        return window.showDetails(currentElem);\n      }\n    });\n    $('.submit').on('click', function(e) {\n      var propType;\n      if ($('.property_type').val() === \"\") {\n        $('.alert').text('Unit not assigned');\n        window.hideAlert();\n        return false;\n      }\n      if ($('.units').val() === \"\") {\n        $('.alert').text('Unit not assigned');\n        window.hideAlert();\n        return false;\n      }\n      if (($('.area').val() === \"\") && (window.canvas_type === \"polygon\")) {\n        $('.alert').text('Coordinates not marked');\n        window.hideAlert();\n        return false;\n      }\n      if ((window.markerPoints.length < 1) && (window.canvas_type !== \"polygon\")) {\n        $('.alert').text('Coordinates not marked');\n        window.hideAlert();\n        return false;\n      }\n      if (window.coord === 1) {\n        $('.alert').text('Already assigned');\n        window.hideAlert();\n        return false;\n      }\n      propType = $('.property_type').val();\n      if ((propType === \"amenity\") && ($('#amenity-title').val() === \"\")) {\n        $('.alert').text('Amenity title not entered');\n        window.hideAlert();\n        return false;\n      }\n      return window.saveUnit();\n    });\n    $('.edit').on('click', function(e) {\n      var myObject, propType, svgElemId;\n      if ($('.property_type').val() === \"\") {\n        $('.alert').text('Unit not assigned');\n        window.hideAlert();\n        return false;\n      }\n      if ($('.units').val() === \"\") {\n        $('.alert').text('Unit not assigned');\n        window.hideAlert();\n        return false;\n      }\n      if (($('.area').val() === \"\") && (window.canvas_type === \"polygon\")) {\n        $('.alert').text('Coordinates not marked');\n        window.hideAlert();\n        return false;\n      }\n      if ((window.markerPoints.length < 1) && (window.canvas_type !== \"polygon\")) {\n        $('.alert').text('Coordinates not marked');\n        window.hideAlert();\n        return false;\n      }\n      propType = $('.property_type').val();\n      if ((propType === \"amenity\") && ($('#amenity-title').val() === \"\")) {\n        $('.alert').text('Amenity title not entered');\n        window.hideAlert();\n        return false;\n      }\n      myObject = window.buildSvgObjectData();\n      myObject['_method'] = 'PUT';\n      svgElemId = window.currentSvgId;\n      return $.ajax({\n        type: 'POST',\n        headers: {\n          'x-csrf-token': $(\"meta[name='csrf-token']\").attr('content')\n        },\n        url: BASEURL + \"/admin/project/\" + PROJECTID + \"/svg-tool/\" + svgElemId,\n        async: false,\n        data: $.param(myObject),\n        success: function(response) {\n          var indexToSplice, types;\n          indexToSplice = -1;\n          $.each(window.svgData.data, function(index, value) {\n            if (parseInt(value.id) === svgElemId) {\n              return indexToSplice = index;\n            }\n          });\n          window.svgData.data.splice(indexToSplice, 1);\n          myObject['id'] = svgElemId;\n          window.svgData.data.push(myObject);\n          draw.clear();\n          types = window.getPendingObjects(window.svgData);\n          window.showPendingObjects(types);\n          window.generateSvg(window.svgData.data);\n          return window.resetTool();\n        },\n        error: function(response) {\n          return alert('Some problem occurred');\n        }\n      });\n    });\n    $('.property_type').on('change', function(e) {\n      var type;\n      type = $(e.target).val();\n      return window.loadForm(type);\n    });\n    $('.clear').on('click', function(e) {\n      var canvas, ctx;\n      $('.area').val(\"\");\n      window.f = [];\n      canvas = document.getElementById(\"c\");\n      ctx = canvas.getContext(\"2d\");\n      return ctx.clearRect(0, 0, canvas.width, canvas.height);\n    });\n    window.setToggle = function() {\n      return $(\".toggle\").click(function() {\n        $(\".toggle\").toggleClass(\"expanded\");\n        return $('.menu').toggleClass('open');\n      });\n    };\n    $('.closeform').on('click', function(e) {\n      var canvas, ctx;\n      $('.area').val(\"\");\n      window.f = [];\n      canvas = document.getElementById(\"c\");\n      ctx = canvas.getContext(\"2d\");\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      $(\"form\").trigger(\"reset\");\n      $('#dynamice-region').empty();\n      $('#aj-imp-builder-drag-drop canvas').hide();\n      $('#aj-imp-builder-drag-drop svg').show();\n      $('.edit-box').addClass('hidden');\n      draw.each((function(i, children) {\n        this.draggable();\n        return this.fixed();\n      }), true);\n      draw.clear();\n      window.EDITMODE = false;\n      return window.loadSVGData();\n    });\n    $('.delete').on('click', function(e) {\n      var id, myObject, svgElemId;\n      myObject = {};\n      myObject['_method'] = 'DELETE';\n      id = $('.units').val();\n      svgElemId = window.currentSvgId;\n      return $.ajax({\n        type: 'POST',\n        headers: {\n          'x-csrf-token': $(\"meta[name='csrf-token']\").attr('content')\n        },\n        url: BASEURL + \"/admin/project/\" + PROJECTID + \"/svg-tool/\" + svgElemId,\n        async: false,\n        data: $.param(myObject),\n        success: function(response) {\n          var bldg, indexToSplice, obj_id_deleted, obj_type, types, unit;\n          indexToSplice = -1;\n          obj_id_deleted = 0;\n          obj_type = \"\";\n          $.each(window.svgData.data, function(index, value) {\n            if (parseInt(value.id) === svgElemId) {\n              indexToSplice = index;\n              obj_id_deleted = parseInt(value.object_id);\n              return obj_type = value.object_type;\n            }\n          });\n          window.svgData.data.splice(indexToSplice, 1);\n          myObject['id'] = svgElemId;\n          if (obj_id_deleted > 0) {\n            if (obj_type === \"building\") {\n              bldg = buildingCollection.findWhere({\n                'id': obj_id_deleted\n              });\n              buildingCollection.bldg;\n            } else if (obj_type === \"project\") {\n              window.is_project_marked = false;\n            } else {\n              unit = unitMasterCollection.findWhere({\n                'id': obj_id_deleted\n              });\n              unitCollection.add(unit);\n            }\n          }\n          draw.clear();\n          window.generateSvg(window.svgData.data);\n          types = window.getPendingObjects(window.svgData);\n          window.showPendingObjects(types);\n          return window.resetTool();\n        },\n        error: function(response) {\n          return alert('Some problem occurred');\n        }\n      });\n    });\n    $('.btn-publish-svg').on('click', function(e) {\n      var data, postUrl, publishSvgOptions, svgExport, viewboxDefault;\n      e.preventDefault();\n      if (window.EDITMODE === true) {\n        $('.alert').text('Please save svg elements before publish');\n        window.hideAlert();\n        return false;\n      }\n      viewboxDefault = draw.viewbox();\n      draw.viewbox(0, 0, viewboxDefault.width, viewboxDefault.height);\n      $('#aj-imp-builder-drag-drop svg').first().css(\"position\", \"\");\n      svgExport = draw.exportSvg({\n        exclude: function() {\n          return this.data('exclude');\n        },\n        whitespace: true\n      });\n      $('#aj-imp-builder-drag-drop svg').first().css(\"position\", \"absolute\");\n      data = {};\n      data['data'] = btoa(svgExport);\n      data['svg_type'] = window.svgData.svg_type;\n      data['breakpoint_position'] = window.breakpoint_position;\n      data['building'] = building_id;\n      data['imgID'] = IMAGEID;\n      draw.viewbox(0, 0, viewboxDefault.width, viewboxDefault.height);\n      postUrl = BASEURL + \"/admin/project/\" + PROJECTID + \"/image/\" + IMAGEID + \"/downloadSvg\";\n      publishSvgOptions = {\n        type: 'POST',\n        url: postUrl,\n        headers: {\n          'x-csrf-token': $(\"meta[name='csrf-token']\").attr('content')\n        },\n        data: data,\n        async: false\n      };\n      return $.ajax(publishSvgOptions).done((function(_this) {\n        return function(resp, textStatus, xhr) {\n          $('.alert').text('SVG Published');\n          return window.hideAlert();\n        };\n      })(this)).fail((function(_this) {\n        return function(xhr, textStatus, errorThrown) {\n          $('.alert').text('Failed to publish SVG');\n          return window.hideAlert();\n        };\n      })(this));\n    });\n    $('svg').on('contextmenu', '.polygon-type', function(e) {\n      var currentElem, newPoints, pointList;\n      e.preventDefault();\n      $('.alert').text('Polygon duplicated, drag to position');\n      window.hideAlert();\n      currentElem = e.currentTarget;\n      if (/(^|\\s)marker-grp(\\s|$)/.test($(currentElem).attr(\"class\"))) {\n        return false;\n      }\n      newPoints = window.addPoints($(e.target).attr('points'));\n      window.canvas_type = \"polygon\";\n      pointList = window.polygon.getPointList(f);\n      pointList = pointList.join(' ');\n      this.polygon = draw.polygon(pointList);\n      this.polygon.addClass('polygon-temp');\n      this.polygon.data('exclude', true);\n      this.polygon.attr('fill', '#CC0000');\n      this.polygon.draggable();\n      return this.polygon.dragend = (function(_this) {\n        return function(delta, event) {\n          var canvas, canvasPointsLength, ctx, i, newX, newY, oldPoints, tx, ty;\n          tx = delta.x;\n          ty = delta.y;\n          canvasPointsLength = window.f.length;\n          oldPoints = window.f;\n          newPoints = [];\n          i = 0;\n          while (i < canvasPointsLength) {\n            newX = parseInt(oldPoints[i]) + tx;\n            newY = parseInt(oldPoints[i + 1]) + ty;\n            newPoints.push(newX, newY);\n            i += 2;\n          }\n          window.f = newPoints;\n          $('.area').val(newPoints.join(','));\n          canvas = document.getElementById(\"c\");\n          ctx = canvas.getContext(\"2d\");\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\n          _this.polygon.fixed();\n          _this.polygon.remove();\n          $('#aj-imp-builder-drag-drop canvas').show();\n          $('#aj-imp-builder-drag-drop .svg-draw-clear').show();\n          $('#aj-imp-builder-drag-drop svg').first().css(\"position\", \"absolute\");\n          $('.edit-box').removeClass('hidden');\n          $(\"form\").trigger(\"reset\");\n          $('.edit').addClass('hidden');\n          $('.delete').addClass('hidden');\n          $('.submit').removeClass('hidden');\n          $('.property_type').attr('disabled', false);\n          return drawPoly(window.f);\n        };\n      })(this);\n    });\n    window.addPoints = function(points) {\n      var newPoints;\n      points = points.replace(/\\s/g, ',');\n      window.f = points.split(',');\n      newPoints = [];\n      $.each(window.f, function(index, value) {\n        return newPoints.push(parseInt(value) + 5);\n      });\n      return newPoints;\n    };\n    $('.duplicate').on('click', function(evt) {\n      return $('#myModal').modal();\n    });\n    $('.process').on('click', function(evt) {\n      var imageid;\n      imageid = $('.svgPaths').val();\n      if (imageid === \"\") {\n        $('.alert2').text('Please select an SVG!');\n        window.hideLabel();\n        return;\n      }\n      $('.svg-canvas').hide();\n      $('#myModal').modal('hide');\n      $('#rotate_loader').removeClass('hidden');\n      return $.ajax({\n        type: 'GET',\n        url: BASEURL + '/admin/project/' + PROJECTID + '/image/' + image_id + '/duplicate_image_id/' + imageid,\n        async: false,\n        success: function(response) {\n          window.svgData['data'] = response.data;\n          draw.clear();\n          window.generateSvg(window.svgData.data);\n          $('#rotate_loader').addClass('hidden');\n          $('.svg-canvas').show();\n          return $('.duplicate').hide();\n        },\n        error: function(response) {\n          return alert('Some problem occurred');\n        }\n      });\n    });\n    $('.amenity').on('mouseover', function(e) {\n      var html;\n      window.iniTooltip();\n      html = '<div class=\"row\"> <div class=\"col-sm-12 b-r\"> <h4 class=\"text-warning margin-none\">' + $(e.currentTarget).attr('data-amenity-title') + '</h4> <h6 class=\"text-muted\">' + $(e.currentTarget).attr('data-amenity-desc') + '</h6> </div> </div>';\n      return $('.amenity').tooltipster('content', html);\n    });\n    $('svg').on('mousedown', '.concentric-marker-grp', function(e) {\n      console.log($('.svg-canvas').panzoom(\"getMatrix\").join(','));\n      return $('.svg-canvas').css('transform', 'matrix(' + $('.svg-canvas').panzoom(\"getMatrix\").join(',') + ' !important');\n    });\n    return $('svg').on('mouseup', '.concentric-marker-grp', function(e) {\n      console.log($('.svg-canvas').panzoom(\"getMatrix\").join(','));\n      return $('.svg-canvas').css('transform', 'matrix(' + $('.svg-canvas').panzoom(\"getMatrix\").join(',') + ' !important');\n    });\n  });\n\n}).call(this);\n\n//# sourceMappingURL=../authoring-tool/svg.authoring.controller.js.map","(function() {\n  jQuery(document).ready(function($) {\n    AuthoringTool.addInitializer(function() {\n      return Backbone.history.start();\n    });\n    return AuthoringTool.start();\n  });\n\n}).call(this);\n\n//# sourceMappingURL=../authoring-tool/application.js.map"],"sourceRoot":"/source/"}