{"version":3,"sources":["frontend/building-master-view/building.master.controller.coffee"],"names":[],"mappings":"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","file":"frontend/building-master-view/building.master.controller.js","sourceRoot":"/source/","sourcesContent":["class BuildingMasterView extends Marionette.LayoutView\r\n\r\n\ttemplate : '#building-master'\r\n\r\nclass CommonFloor.BuildingMasterCtrl extends Marionette.RegionController\r\n\r\n\tinitialize:->\r\n\t\t@show new BuildingMasterView\r\n\r\n\r\nclass TopBuildingMasterView extends Marionette.ItemView\r\n\r\n\ttemplate : '#building-master'\r\n\r\n\r\nclass TopBuildingMasterCtrl extends Marionette.RegionController\r\n\r\n\tinitialize:->\r\n\t\t@show new TopBuildingMasterView\r\n\r\n\r\nclass LeftBuildingMasterView extends Marionette.ItemView\r\n\r\n\ttemplate : '#building-master'\r\n\r\n\r\nclass LeftBuildingMasterCtrl extends Marionette.RegionController\r\n\r\n\tinitialize:->\r\n\t\t@show new LeftBuildingMasterView\r\n\r\nclass CenterItemView extends Marionette.ItemView\r\n\r\n\ttemplate : ''\r\n\r\n\tevents:\r\n\t\t'mouseover' :(e)->\r\n\t\t\tid = @model.get 'id'\r\n\t\t\tresponse = @getUnitTypes(id)\r\n\t\t\t\r\n\t\t\ttypes = []\r\n\t\t\t$.each response,(ind,val)->\r\n\t\t\t\tunitTypeModel = unitTypeCollection.findWhere\r\n\t\t\t\t\t\t\t\t\t'id' : val\r\n\t\t\t\tvariants = apartmentVariants.where\r\n\t\t\t\t\t\t\t\t'unit_type_id' : val\r\n\t\t\t\tunits = []\r\n\t\t\t\t$.each variants,(index,value)->\r\n\t\t\t\t\tunitsColl = unitCollection.where\r\n\t\t\t\t\t\t\t\t\t'unit_variant_id' : value\r\n\r\n\t\t\t\t\t$.merge units, unitsColl\r\n\t\t\t\ttypes.push \r\n\t\t\t\t\t'name' : unitTypeModel.gt 'name'\r\n\t\t\t\t\t'untis' : units.length\r\n\t\t\tconsole.log types\r\n\r\n\r\n\tgetUnitTypes:(id)->\r\n\t\tunits = unitCollection.where\r\n\t\t\t\t\t\t'building_id'  : @model.get 'id'\r\n\r\n\t\tvariants = units.pluck \"unit_variant_id\" \r\n\t\tunitTypes = []\r\n\t\t$.each variants,(index,value)->\r\n\t\t\tvarinatModel = apartmentVariants.findWhere\r\n\t\t\t\t\t\t\t\t\t'id' : value\r\n\t\t\tunitTypes.push varinatModel.get 'unit_type_id'\r\n\r\n\t\tunitTypes = _.uniq unitTypes\r\n\t\tunitTypes\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CenterBuildingMasterView extends Marionette.CompositeView\r\n\r\n\ttemplate : '#building-master'\r\n\r\n\tchildView : CenterItemView\r\n\r\n\tchildViewContainer : ''\r\n\r\n\r\nclass CenterBuildingMasterCtrl extends Marionette.RegionController\r\n\r\n\tinitialize:->\r\n\t\t@show new CenterBuildingMasterView\r\n\t\t\tcollection : buildingCollection"]}