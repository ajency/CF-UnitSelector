{"version":3,"sources":["frontend/common/common.coffee"],"names":[],"mappings":"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","file":"frontend/common/common.js","sourceRoot":"/source/","sourcesContent":["#No Found Controller and veiw\r\nclass CommonFloor.NothingFoundView extends Marionette.ItemView\r\n\t\r\n\ttemplate : '#noFound-template'\r\n\r\nclass CommonFloor.NothingFoundCtrl extends Marionette.RegionController\r\n\r\n\tinitialize:->\r\n\t\t@show new CommonFloor.NothingFoundView\r\n\r\n#api required to load second step\r\nCommonFloor.loadJSONData = ()->\r\n\r\n\t$.ajax\r\n\t\ttype : 'GET',\r\n\t\turl  : BASERESTURL+'/project/'+\tPROJECTID+'/step-two'\r\n\t\tasync : false\r\n\t\tsuccess :(response)->\r\n\t\t\t#parsing the integer fields \r\n\t\t\tresponse = window.convertToInt(response)\r\n\t\t\tresponse = response.data\r\n\t\t\t#setting all the collections \r\n\t\t\tbunglowVariantCollection.setBunglowVariantAttributes(response.bunglow_variants)\r\n\t\t\tsettings.setSettingsAttributes(response.settings)\r\n\t\t\tunitCollection.setUnitAttributes(response.units)\r\n\t\t\tunitTypeCollection.setUnitTypeAttributes(response.unit_types)\r\n\t\t\tbuildingCollection.setBuildingAttributes(response.buildings)\r\n\t\t\tapartmentVariantCollection.setApartmentVariantAttributes(response.apartment_variants)\r\n\t\t\t\r\n\t\terror :(response)->\r\n\t\t\tconsole.log \"aaaaaaaaaaassdff\"\r\n\r\n#find the property type with maximum number of units\r\nCommonFloor.propertyMaxUnits = ()->\r\n\tRouter = []\r\n\tRouter.push \r\n\t\t'type'  : 'bunglows'\r\n\t\t'count' :CommonFloor.getBunglowUnits()\r\n\tconsole.log Router\r\n\tcontroller = _.max Router , (item)->\r\n\t\treturn parseInt item.count.length\r\n\r\n\tcontroller\t\r\n\r\n\t\r\n#function to load the default controller\r\nCommonFloor.checkPropertyType = ()->\r\n\tCommonFloor.loadJSONData()\r\n\tcontroller = CommonFloor.propertyMaxUnits()\r\n\tCommonFloor.navigate '#/master-view/'+controller.type , true\r\n\r\n#get all the units of all the bunglow variants\r\nCommonFloor.getBunglowUnits = ()->\r\n\tunits = []\r\n\tnewUnits = []\r\n\tbunglowVariantCollection.each (model)->\r\n\t\tbunglowUnits = unitCollection.where\r\n\t\t\tunit_variant_id : model.get('id')\r\n\t\tunits.push  bunglowUnits\r\n\t$.each units,(index,value)->\r\n\t\tnewUnits = $.merge(newUnits , value)\r\n\r\n\tnewUnits\r\n\r\n#funtion to convert string into integers\r\nwindow.convertToInt = (response)->\r\n\t$.each response ,(index,value)->\r\n\t\t$.map(value,(item)->\r\n\r\n\t\t\t$.each item ,(ind,val)->\r\n\t\t\t\treturn parseInt val\r\n\r\n\r\n\r\n\t\t)\r\n\r\n\r\n\r\n\r\n\r\n"]}