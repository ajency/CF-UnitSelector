{"version":3,"sources":["frontend/project/project.controller.coffee"],"names":[],"mappings":"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","file":"frontend/project/project.controller.js","sourceRoot":"/source/","sourcesContent":["#Layout view which has three regions in it\nclass CommonFloor.ProjectLayoutView extends Marionette.LayoutView\n\n\ttemplate : '#project-template'\n\n\n#starting point:Controller is executed which contains the logic to get the details\nclass CommonFloor.ProjectCtrl extends Marionette.RegionController\n\n\tinitialize:->\n\t\tid = PROJECTID\n\t\tproject.setProjectAttributes(id)\n\t\t#check to see whether project model is set or not\n\t\tif jQuery.isEmptyObject(project.toJSON())\n\t\t\tregion  = new Marionette.Region el : '#noFound-template'\n\t\t\t#if not found then show the 'Nothing Found View'\n\t\t\t@show new CommonFloor.NothingFoundView\n\n\t\telse\n\t\t\t#if found then show the view for the Project\n\t\t\t@show new CommonFloor.ProjectLayoutView\n\n#View for the top view of Project\nclass TopView extends Marionette.ItemView\n\n\t#template\n\ttemplate : Handlebars.compile('<div class=\"col-md-12 col-xs-12 col-sm-12\">\n\t\t\t\t\t<div class=\"search-header-wrap\">\n\t\t\t\t\t  <h1 class=\"pull-left\">{{i10n \"explore\"}} {{project_title}}</h1>\n\t\t\t\t\t  <!--<div class=\"pull-right\">\n\t\t\t\t\t\t<div class=\"toggle_radio\">\n\t\t\t\t\t\t  <input type=\"radio\" checked class=\"toggle_option\" id=\"first_toggle\" name=\"toggle_option\">\n\t\t\t\t\t\t  <input type=\"radio\" class=\"toggle_option\" id=\"second_toggle\" name=\"toggle_option\">\n\t\t\t\t\t\t  <input type=\"radio\" class=\"toggle_option\" id=\"third_toggle\" name=\"toggle_option\">\n\t\t\t\t\t\t  <label for=\"first_toggle\"><p>Morning</p></label>\n\t\t\t\t\t\t  <label for=\"second_toggle\"><p>Afternoon</p></label>\n\t\t\t\t\t\t  <label for=\"third_toggle\"><p>Evening</p></label>\n\t\t\t\t\t\t  <div class=\"toggle_option_slider\">\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t  </div>-->\n\t\t\t\t\t  <div class=\"clearfix\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t  </div>')\n\n\tclassName : 'row'\n\n#Controller for the top view of Project\nclass CommonFloor.TopCtrl extends Marionette.RegionController\n\n\tinitialize:->\n\t\t@show new TopView\n\t\t\t\tmodel : project\n\n\n#View for the left view of Project\nclass LeftView extends Marionette.ItemView\n\t#template\n\ttemplate : Handlebars.compile('<div class=\"col-md-3 col-xs-12 col-sm-12 search-left-content\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"filters-wrapper\">\n\t\t\t\t\t\t\t\t\t\t  \t<div class=\"tab-main-container\">                \n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"blck-wrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t  <h3><strong>{{i10n \"project_by\"}}</strong></h3>\n\t\t\t\t\t\t\t\t\t\t\t\t  <img src=\"{{logo}}\" class=\"img-responsive builder-logo\">\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"proj-details blck-wrap no-hover\">\n\t\t\t\t\t\t\t\t\t\t\t\t  <h3><strong>{{i10n \"project_details\"}}</strong></h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t  \t<span class=\"icon-map-marker\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t  \t<strong>Address: </strong><br>\n\t\t\t\t\t\t\t\t\t\t\t\t\t   {{address}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t  \t<div class=\"detail-pts\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{#propertyTypes}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 class=\"m-b-5 m-t-0 text-primary\">{{prop_type}}</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--  <span>{{i10n \"project_type\"}}:</span> {{prop_type}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <span>{{i10n \"starting_area\"}}:</span> {{starting_area}} Sq.Ft.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <span>{{i10n \"unit_types\"}}:</span> {{unit_types}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <span>Available:</span> {{#availability}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  {{count}}\t{{status}} \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  {{/availability}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>-->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!--<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  <span>{{i10n \"starting_price\"}}:</span>  {{starting_price}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>-->\n\t\t\t\t\t\t\t\t\t\t\t\t{{/propertyTypes}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"blck-wrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t  \t<div class=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"../images/marker-img.png\" class=\"img-responsive marker-img\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{i10n \"know_your_neighbour\"}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>')\n\n\tserializeData:->\n\t\tdata = super()\n\t\tpropertyTypesData = @model.get 'project_property_types'\n\t\tconsole.log properties = @model.get 'property_types'\n\t\tpropertyTypes = [] \n\t\tavailability = []\n\t\t$.each propertyTypesData,(index,value)->\n\t\t\t$.each value.availability,(ind,val)->\n\t\t\t\tavailability.push \n\t\t\t\t\t'status'\t: s.capitalize ind\n\t\t\t\t\t'count'\t\t: val\n\n\t\t\tpropertyTypes.push \n\t\t\t\t'prop_type'  \t\t: s.capitalize properties[index]\n\t\t\t\t'unit_types'\t\t: value.unit_types.join(', ')\n\t\t\t\t'starting_area' \t: value.starting_area\n\t\t\t\t'starting_price' \t: window.numDifferentiation(value.starting_price)\n\t\t\t\t'availability'\t\t: availability\n\t\tdata.propertyTypes = propertyTypes\n\t\tdata\n#Controller for the left view of Project\nclass CommonFloor.LeftCtrl extends Marionette.RegionController\n\n\tinitialize:->\n\t\t@show new LeftView\n\t\t\t\tmodel : project\n\t\t\t\t\n\n\n#View for the center view of Project\nclass CenterView extends Marionette.ItemView\n\n\ttemplate : Handlebars.compile('<div class=\"col-md-9 us-right-content\">\n\t\t\t\t\t<div class=\"svg-area width=\"350\" height=\"525\" id=\"prImage-2\" title=\"\" alt=\"\" \n\t\t\t\t\t\tdata-nodebug=\"\" data-alwaysprocess=\"\" \n\t\t\t\t\t\tdata-ratio=\"1.5\" data-srcwidth=\"1920\" data-crop=\"1\" data-filters=\"usm\" \n\t\t\t\t\t\tclass=\"primage fill-width\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>')\n\n\n\tevents:\n\t\t'click .step1-marker':(e)->\n\t\t\tCommonFloor.checkPropertyType()\n\t\t\t\n\tonShow:->\n\t\tpath = @model.get('step_one').svg\n\t\t$('.svg-area').load(path)\n\n#Controller for the cneter view of Project\nclass CommonFloor.CenterCtrl extends Marionette.RegionController\n\n\tinitialize:->\n\t\t@show new CenterView\n\t\t\t\tmodel : project\n\t\t\t\t"]}