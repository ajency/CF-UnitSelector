{"version":3,"sources":["frontend/entities/bunglow.variant.coffee"],"names":[],"mappings":"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","file":"frontend/entities/bunglow.variant.js","sourceRoot":"/source/","sourcesContent":["#Bunglow Variant model and Bunglow Variant collection Definition\r\nclass BunglowVariant extends Backbone.Model\r\n\r\n\t#calculate unit price of a model \r\n\tfindUnitPrice:(unit_model)->\r\n\t\tbasicCost = \"\"\r\n\t\tif unit_model not instanceof Backbone.Model || unit_model == \"\"\r\n\t\t\treturn \r\n\t\t# unitVarinatModel = bunglowVariantMasterCollection.findWhere({\r\n\t\t# \t'id':parseInt(unit_model.get('unit_variant_id'))})\r\n\t\t# if unitVarinatModel != undefined\r\n\t\t# \tbasic_cost = ( parseFloat(unitVarinatModel.get('per_sq_ft_price'))) *\r\n\t\t# \t\t\t\t\tparseFloat(unitVarinatModel.get('super_built_up_area'))\r\n\t\t# \tbasicCost = basic_cost.toFixed(2)\r\n\t\tbasicCost = unit_model.get 'selling_amount'\r\n\t\tbasicCost\r\n\r\n\t\r\n\t\r\n\r\n\r\n\r\nclass BunglowVariantCollection extends Backbone.Collection\r\n\tmodel : BunglowVariant\r\n\t\r\n\r\n\t#set attributes of a Bunglow Variant model\r\n\tsetBunglowVariantAttributes:(data)->\r\n\r\n\t\t# @set BunglowData\r\n\t\tbunglowVariantCollection.reset data\r\n\t\tbunglowVariantMasterCollection.reset data\r\n\r\n\t#get all the bungalow units\r\n\tgetBunglowUnits:()->\r\n\t\tunits = []\r\n\t\tnewUnits = []\r\n\t\tbunglowVariantCollection.each (model)->\r\n\t\t\tbunglowUnits = unitCollection.where\r\n\t\t\t\tunit_variant_id : model.get('id')\r\n\t\t\tunits.push  bunglowUnits\r\n\t\t$.each units,(index,value)->\r\n\t\t\tnewUnits = $.merge(newUnits , value)\r\n\t\tnewUnits\r\n\r\n\r\n\t#get all the bungalow units\r\n\tgetBunglowMasterUnits:()->\r\n\t\tunits = []\r\n\t\tnewUnits = []\r\n\t\tbunglowVariantMasterCollection.each (model)->\r\n\t\t\tbunglowUnits = unitMasterCollection.where\r\n\t\t\t\tunit_variant_id : model.get('id')\r\n\t\t\tunits.push  bunglowUnits\r\n\t\t$.each units,(index,value)->\r\n\t\t\tnewUnits = $.merge(newUnits , value)\r\n\t\tnewUnits\r\n\r\n\r\n\tgetVillaUnitTypes:->\r\n\t\tunit_types = []\r\n\t\tbunglowVariantMasterCollection.each (item)->\r\n\t\t\tunitTypeModel = unitTypeMasterCollection.findWhere\r\n\t\t\t\t\t\t\t\t'id' : item.get 'unit_type_id'\r\n\t\t\tif $.inArray(item.get('unit_type_id'),unit_types) == -1\r\n\t\t\t\tunit_types.push parseInt unitTypeModel.get 'id'\r\n\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\t\tunit_types\r\n\r\n\tgetVillaAttributes:->\r\n\t\tattributes = []\r\n\t\tbunglowVariantMasterCollection.each (item)->\r\n\t\t\t$.each item.get('variant_attributes') , (index,value)->\r\n\t\t\t\tif _.isArray(value)\r\n\t\t\t\t\t$.each vale , (ind,val)->\r\n\t\t\t\t\t\tif $.inArray(val,attributes) == -1\r\n\t\t\t\t\t\t\tattributes.push value\r\n\t\t\t\telse\r\n\t\t\t\t\tif $.inArray(value,attributes) == -1\r\n\t\t\t\t\t\tattributes.push value\r\n\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\t\tattributes\r\n\r\n\t\r\n\r\nwindow.bunglowVariantCollection  = new BunglowVariantCollection\r\nwindow.bunglowVariantMasterCollection  = new BunglowVariantCollection\r\nwindow.bunglowVariant  = new BunglowVariant"]}