{"version":3,"sources":["authoring-tool/svg.authoring.controller.coffee"],"names":[],"mappings":"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","file":"authoring-tool/svg.authoring.controller.js","sourceRoot":"/source/","sourcesContent":["#Primary File\r\n#using svg.js\r\n#Function to render objects based upon the object type(*) - useful when we want to display a specific object type\r\n# In ths case only those objects will be highlighted\r\n#Function to render all objects which internally calls (*) for each object type\r\n#Function to show a specific object based on the object id\r\n#Function to show the left hand side depending upon the supported object types\r\n#Function to switch to edit mode\r\n#Function to show the options depending on whether object is marked or not\r\n#Function to count the number of pending objects\r\njQuery(document).ready ($)->\r\n    $('.area').canvasAreaDraw()\r\n\r\n    ########################### GLOBALS BEGIN ###########################\r\n    window.draw = SVG('aj-imp-builder-drag-drop')\r\n    \r\n    window.svgData = {\r\n                    'image':''\r\n                    'data' : []\r\n                    'supported_types' : ['villa','plot']\r\n                }\r\n\r\n    # Default Cx and Cy values\r\n    window.cx = 630.101\r\n    window.cy = 362.245\r\n    window.innerRadius = 8.002\r\n    window.outerRadius = 15.002\r\n    window.markerPoints = []\r\n    ########################### GLOBALS ENDS ###########################\r\n    \r\n    ########################### FUNCTIONS BEGIN ###########################         \r\n    #function to create the svg\r\n    window.createSvg = (svgData)->\r\n        window.rawSvg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\")\r\n        rawSvg.setAttribute('id', 'Layer_1')\r\n        rawSvg.setAttribute('style', 'border: 1px solid black')\r\n        rawSvg.setAttribute('width', '100%')\r\n        rawSvg.setAttribute('height', '100%')\r\n        rawSvg.setAttributeNS(null,'x','0')\r\n        rawSvg.setAttributeNS(null,'y','0')\r\n        # rawSvg.setAttributeNS(null,'viewBox','0 0 1600 1095')\r\n        # rawSvg.setAttributeNS(null,'enable-background','new 0 0 1600 1095')\r\n        rawSvg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\")\r\n\r\n        window.createImageTag()\r\n        $.each svgData,(index,value)->\r\n            if value.canvas_type is 'polygon'\r\n                tag = window.polygon.createPolgyonTag(value)\r\n                if tag != \"\"\r\n                    window.makeDraggable()\r\n                    rawSvg.appendChild tag\r\n            if value.canvas_type is 'marker'\r\n                tag = window.marker.createMarkerTag(value)\r\n\r\n        \r\n        \r\n\r\n\r\n\r\n    #function to create image tag\r\n    window.createImageTag =()-> \r\n        svgimg = document.createElementNS('http://www.w3.org/2000/svg','image')\r\n        svgimg.setAttributeNS(null,'height','800')\r\n        svgimg.setAttributeNS(null,'width','1600')\r\n        svgimg.setAttributeNS('http://www.w3.org/1999/xlink','href', svgImg)\r\n        svgimg.setAttributeNS(null,'x','0')\r\n        svgimg.setAttributeNS(null,'y','0')\r\n        svgimg.setAttributeNS(null, 'visibility', 'visible')\r\n        rawSvg.appendChild(svgimg)\r\n\r\n    #function to generate svg from svg data\r\n    window.generateSvg = (svgData)->\r\n        # create svg background image\r\n        draw.image(svgImg)\r\n\r\n        # for each svg data check canvas type and generate elements accordingly\r\n        $.each svgData,(index,value)->\r\n            if value.canvas_type is 'polygon'\r\n                window.polygon.generatePolygonTag(value)\r\n\r\n            if value.canvas_type is 'marker'\r\n                window.marker.generateMarkerTag(value)        \r\n\r\n\r\n    #function to create left side panel\r\n    window.createPanel =(data)->\r\n        $.each data,(index,value)->\r\n            $('.'+value).removeClass 'hidden'\r\n            \r\n    #function to create left side panel\r\n    window.makeDraggable =(data)->  \r\n        element = draw.polygon(data)\r\n        element.draggable()\r\n    \r\n    window.getPendingObjects  = (svgData)->\r\n        type = []\r\n        collection = new Backbone.Collection svgData.data\r\n        # uniqTypes = _.pluck svgData , 'type'\r\n        # uniqTypes = _.uniq uniqTypes\r\n        # supportedTypes = svgData.supported_types.map (item)->\r\n        #   return s.capitalize item\r\n        supportedTypes = svgData.supported_types\r\n        supportedTypes = _.uniq supportedTypes\r\n        $.each supportedTypes ,(index,value)->\r\n            items = collection.where\r\n                        'object_type' : value.toLowerCase()\r\n            units = window.actualUnits(value.toLowerCase())\r\n            marked = []\r\n            $.each items,(ind,val)->\r\n                if !_.isEmpty val.get('canvas_type')\r\n                    marked.push val\r\n\r\n            type.push\r\n                'name' : value\r\n                'id'   : value\r\n                'total' : units.length\r\n                'marked' : marked.length\r\n        # $.each type,(index,value)->\r\n        #   if value.total is 0\r\n        #       type = _.without(type, value)\r\n\r\n        type\r\n\r\n    window.actualUnits = (value)->\r\n        units = []\r\n        if value == 'villa'\r\n            units = bunglowVariantCollection.getBunglowMasterUnits()\r\n\r\n        units\r\n\r\n\r\n    window.showPendingObjects = (data)->\r\n        html = ''\r\n        total = []\r\n        marked = []\r\n        $.each data ,(index,value)->\r\n            total.push value.total+' '+value.name+'(s)'\r\n            marked.push value.marked+' '+value.name+'(s)'\r\n        html = '<strong class=\"pull-right total-count\">'+total.join(\" | \")+'</strong>'+\r\n                '<strong class=\"pull-right title-count\"> Total:</strong>'+\r\n                '<strong class=\"pull-right total-count\">'+marked.join(\" | \")+'</strong>'+\r\n                '<strong class=\"pull-right title-count\"> Marked:</strong>'\r\n        $('.pending').html html\r\n\r\n\r\n\r\n    window.generatePropTypes = ()->\r\n        types = window.svgData.supported_types\r\n        select = $('.property_type')\r\n        $('<option />', {value: \"\", text: 'Select option'}).appendTo(select)\r\n        $.each types , (index,value)->\r\n            $('<option />', {value: value.toLowerCase(), text: value.toUpperCase()}).appendTo(select)\r\n\r\n    window.resetCollection = ()->\r\n        console.log \"test\"\r\n        $('.plot,.villa,.building,.marker-grp').each (index,value)->\r\n            console.log value.id\r\n            unit = unitMasterCollection.findWhere\r\n                    'id' : parseInt value.id\r\n\r\n            unitCollection.remove unit.get 'id'\r\n\r\n        console.log unitCollection\r\n\r\n        \r\n    #api required to load second step\r\n    window.loadJSONData = ()->\r\n\r\n        $.ajax\r\n            type : 'GET',\r\n            url  : BASERESTURL+'/project/'+ PROJECTID+'/step-two'\r\n            async : false\r\n            success :(response)->\r\n\r\n                #parsing the integer fields \r\n                response = response.data\r\n\r\n                bunglowVariantCollection.setBunglowVariantAttributes(response.bunglow_variants)\r\n\r\n                settings.setSettingsAttributes(response.settings)\r\n\r\n                unitTypeCollection.setUnitTypeAttributes(response.unit_types)\r\n\r\n                buildingCollection.setBuildingAttributes(response.buildings)\r\n\r\n                apartmentVariantCollection.setApartmentVariantAttributes(response.apartment_variants)\r\n\r\n                floorLayoutCollection.setFloorLayoutAttributes(response.floor_layout)\r\n\r\n                window.propertyTypes = response.property_types\r\n\r\n                plotVariantCollection.setPlotVariantAttributes(response.plot_variants)\r\n\r\n                unitCollection.setUnitAttributes(response.units)\r\n\r\n                # #### CODE TO GENERATE SVG THROUGH RAW SVG STRING COMMENTED #### #\r\n                # window.createSvg(window.svgData.data)\r\n\r\n                window.generatePropTypes()\r\n\r\n                types = window.getPendingObjects(window.svgData)\r\n\r\n                window.showPendingObjects(types)\r\n\r\n                # s = new XMLSerializer()\r\n                # str = s.serializeToString(rawSvg)\r\n                # draw.svg(str)\r\n                # #### CODE TO GENERATE SVG THROUGH RAW SVG STRING COMMENTED #### #\r\n\r\n                # ### MODIFIED GENERATION OF SVG ### #\r\n                window.generateSvg(window.svgData.data)\r\n                # ### MODIFIED GENERATION OF SVG ### #\r\n\r\n                # window.store = draw.svg(rawSvg)\r\n                window.resetCollection()\r\n                \r\n            error :(response)->\r\n                @region =  new Marionette.Region el : '#noFound-template'\r\n                new CommonFloor.ProjectCtrl region : @region\r\n\r\n    #api required to load svg data based on image\r\n    window.loadOjectData = ()->\r\n\r\n        $.ajax\r\n            type : 'GET',\r\n            url  : BASEURL+'/admin/project/'+   PROJECTID+'/image/'+IMAGEID\r\n            async : false\r\n            success :(response)->\r\n\r\n                window.svgData = {}\r\n                window.svgData['image'] = svgImg\r\n                window.svgData['data'] = response.data\r\n                window.svgData['supported_types'] = JSON.parse supported_types\r\n                window.loadJSONData()\r\n                \r\n\r\n                \r\n            error :(response)->\r\n                alert('Some problem occurred')\r\n        \r\n    window.renderSVG = ()->\r\n        window.createSvg(window.svgData.data)\r\n        types = window.getPendingObjects(window.svgData) \r\n        window.showPendingObjects(types)\r\n        s = new XMLSerializer()\r\n        str = s.serializeToString(rawSvg)\r\n        draw.svg str\r\n        window.resetCollection()\r\n        $('.area').val(\"\")\r\n        window.f = []\r\n        $(\"form\").trigger(\"reset\")\r\n        $('#dynamice-region').empty()\r\n        $('#aj-imp-builder-drag-drop canvas').hide()\r\n        $('#aj-imp-builder-drag-drop svg').show()\r\n        $('.edit-box').addClass 'hidden'\r\n        canvas = document.getElementById(\"c\")\r\n        ctx= canvas.getContext(\"2d\")\r\n        ctx.clearRect( 0 , 0 , canvas.width, canvas.height )\r\n    \r\n    \r\n    window.saveUnit = ()->\r\n        myObject  = {}\r\n        details = {}\r\n\r\n        if window.canvas_type is \"concentricMarker\" \r\n            myObject['points'] =  window.markerPoints\r\n            details['cx'] = window.cx\r\n            details['cy'] = window.cy\r\n            details['innerRadius'] = window.innerRadius\r\n            details['outerRadius'] = window.outerRadius\r\n            details['marker_type'] = 'concentric'\r\n            myObject['canvas_type'] =  'marker'\r\n\r\n        else if window.canvas_type is \"solidMarker\" \r\n            myObject['points'] =  window.markerPoints\r\n            details['cx'] = window.cx\r\n            details['cy'] = window.cy\r\n            details['innerRadius'] = window.innerRadius\r\n            details['outerRadius'] = window.outerRadius\r\n            details['marker_type'] = 'solid'\r\n            myObject['canvas_type'] = 'marker'\r\n\r\n        else\r\n            myObject['points'] =  $('.area').val().split(',')\r\n            details['class'] = 'layer '+$('.property_type').val()\r\n            myObject['canvas_type'] =  window.canvas_type\r\n\r\n                    \r\n        myObject['image_id'] = IMAGEID\r\n        myObject['object_id'] = $('.units').val()\r\n        myObject['object_type'] =  $('.property_type').val()\r\n        myObject['other_details'] =  details\r\n        # myObject['id'] =  $('.units').val()\r\n\r\n        console.log myObject\r\n        $.ajax\r\n            type : 'POST',\r\n            headers: { 'x-csrf-token' : $(\"meta[name='csrf-token']\").attr('content')}\r\n            url  : BASEURL+'/admin/project/'+   PROJECTID+'/svg-tool'\r\n            async : false\r\n            data : $.param myObject \r\n            success :(response)->\r\n\r\n                value =  $('.area').val().split(',')\r\n                $('#Layer_1').remove()\r\n                # details = {}\r\n                # details['class'] = 'layer '+$('.property_type').val()\r\n                # childEle = {} \r\n                # childEle['id'] = $('.units').val()\r\n                # childEle['name'] = $(\".units option:selected\").text()\r\n                # childEle['object_type'] = $('.property_type').val()\r\n                # childEle['points'] = value\r\n                # childEle['other_details'] = details\r\n                # childEle['canvas_type'] = window.canvas_type\r\n                $(\".toggle\").trigger 'click'\r\n        \r\n                window.svgData.data.push myObject\r\n                window.renderSVG()\r\n                \r\n            error :(response)->\r\n                alert('Some problem occurred')\r\n\r\n\r\n    window.loadForm = (type)->\r\n        if type is 'villa'\r\n            @region =  new Marionette.Region el : '#dynamice-region'\r\n            new AuthoringTool.VillaCtrl region : @region\r\n        if type is 'plot'\r\n            @region =  new Marionette.Region el : '#dynamice-region'\r\n            new AuthoringTool.PlotCtrl region : @region\r\n\r\n    window.showDetails = (elem)->\r\n        unit = unitMasterCollection.findWhere\r\n                'id' : parseInt elem.id\r\n        $('.property_type').val $(elem).attr 'type'\r\n        $('.property_type').attr 'disabled' ,  true\r\n        select = $('.units')\r\n        $('<option />', {value: elem.id, text: unit.get('unit_name')}).appendTo(select)\r\n        $('.units').attr 'disabled' ,  true\r\n        $('.units').val elem.id\r\n        $('.units').show()\r\n        \r\n        \r\n\r\n    window.hideAlert = ()->\r\n        $('.alert').show()\r\n        $('.alert-box').delay(1000).queue( (next)->\r\n                $(this).hide('fade') \r\n                next() \r\n        )\r\n\r\n    window.drawDefaultMarker=(markerType)   ->\r\n        drawMarkerElements = []\r\n        window.markerPoints = [window.cx,window.cy]\r\n        # draw marker group\r\n        groupMarker = draw.group() \r\n\r\n        switch markerType\r\n          when 'concentric'\r\n            window.canvas_type = \"concentricMarker\"\r\n            groupMarker.attr\r\n                class: 'concentric-marker-grp'            \r\n            circle1 = draw.circle(window.innerRadius)\r\n            circle1.attr\r\n                fill: '#FF8500'\r\n                cx: window.cx\r\n                cy: window.cy\r\n\r\n            circle2 = draw.circle(window.outerRadius)\r\n            \r\n            circle2.attr\r\n                fill: 'none'\r\n                cx: window.cx\r\n                cy: window.cy\r\n                stroke: \"#FF7900\"\r\n                'stroke-width':4 \r\n                'stroke-miterlimit':10\r\n\r\n            drawMarkerElements.push circle1\r\n            drawMarkerElements.push circle2\r\n\r\n            break\r\n                \r\n          when 'solid'\r\n            window.canvas_type = \"solidMarker\"\r\n            groupMarker.attr\r\n                class: 'solid-marker-grp'             \r\n            circle = draw.circle(15.002)\r\n            circle.attr\r\n                fill: '#F7931E'\r\n                cx: \"630.101\"\r\n                cy: \"362.245\"\r\n\r\n            drawMarkerElements.push circle\r\n\r\n            break           \r\n\r\n          when 'location'\r\n            groupMarker.attr\r\n                class: 'location-marker-grp'             \r\n            path = draw.path('M1087.492,428.966c0,7.208-13.052,24.276-13.052,24.276s-13.052-17.067-13.052-24.276\r\n            c0-7.208,5.844-13.051,13.052-13.051S1087.492,421.758,1087.492,428.966z')\r\n\r\n            path.attr\r\n                fill: '#F7931E'\r\n            drawMarkerElements.push path     \r\n            \r\n            circle = draw.circle(15.002)\r\n            circle.attr\r\n                fill: '#FFFFFF'\r\n                cx: \"1074.44\"\r\n                cy: \"427.187\"\r\n\r\n            drawMarkerElements.push circle\r\n\r\n    \r\n     \r\n        _.each drawMarkerElements, (markerElement, key) =>\r\n            groupMarker.add(markerElement)\r\n        \r\n        groupMarker.draggable()\r\n\r\n        groupMarker.dragend =(delta, event) ->\r\n            # cx,cy constants for circles\r\n            oldX = window.cx\r\n            oldY =  window.cy\r\n\r\n            tx = delta.x\r\n            ty = delta.y\r\n\r\n            newX = oldX + tx\r\n            newY = oldY + ty\r\n            newpoints = [newX,newY] \r\n            window.markerPoints = newpoints \r\n   \r\n\r\n\r\n    ########################### FUNCTIONS ENDS ###########################  \r\n        \r\n    window.loadOjectData()\r\n\r\n    ########################### EVENTS BEGIN ###########################\r\n    # on canvas creation hide canvas and show svg\r\n    $('#aj-imp-builder-drag-drop canvas').ready ->\r\n        $('#aj-imp-builder-drag-drop canvas').hide()\r\n        $('#aj-imp-builder-drag-drop .svg-draw-clear').hide()\r\n    \r\n    # toggle toolbox menu\r\n    $(\".toggle\").click( ()->\r\n        $(this).toggleClass(\"expanded\");\r\n        $('.menu').toggleClass('open');\r\n     \r\n    )\r\n\r\n    # show marker options\r\n    $('[rel=\\'popover\\']').popover(\r\n        html: 'true'\r\n        content: '<div id=\"popOverBox\">\r\n                    <ul class=\"list-inline\">\r\n                        <li><div class=\"marker-elem marker1 concentric-marker\"></div></li>\r\n                        <li><div class=\"marker-elem marker2 solid-marker\"></div></li>\r\n                        <!--li><div class=\"marker-elem marker3 location-marker\"></div></li-->\r\n                    </ul>\r\n                  </div>')\r\n        .parent().on 'click', '#popOverBox .marker-elem',(evt) ->\r\n            currentElem = evt.currentTarget\r\n            if $(currentElem).hasClass('concentric-marker')\r\n                markerType = \"concentric\"\r\n            else if $(currentElem).hasClass('solid-marker')\r\n                markerType = \"solid\"\r\n            else if $(currentElem).hasClass('location-marker')\r\n                markerType = \"location\" \r\n\r\n\r\n            $('#aj-imp-builder-drag-drop canvas').hide()\r\n            $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"relative\")\r\n            $('.edit-box').removeClass 'hidden'\r\n\r\n            window.drawDefaultMarker(markerType)            \r\n            \r\n\r\n\r\n    # on polygon selection\r\n    $('.select-polygon').on 'click', (e) ->\r\n        e.preventDefault()\r\n        window.canvas_type = \"polygon\"\r\n        $('#aj-imp-builder-drag-drop canvas').show()\r\n        $('#aj-imp-builder-drag-drop .svg-draw-clear').show()\r\n        $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")\r\n        $('.edit-box').removeClass 'hidden'\r\n        $('.edit').addClass 'hidden'\r\n        $('.delete').addClass 'hidden'\r\n        $('.submit').removeClass 'hidden'\r\n        $('.property_type').attr 'disabled' ,  false\r\n\r\n\r\n    # on double click of existing marked polygon(villa or plot) open canvas mode\r\n    $('svg').on 'dblclick', '.villa,.plot' , (e) ->\r\n            e.preventDefault()\r\n            window.canvas_type = \"polygon\"\r\n            $('#aj-imp-builder-drag-drop canvas').show()\r\n            $('#aj-imp-builder-drag-drop .svg-draw-clear').show()\r\n            $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")\r\n            $('.edit-box').removeClass 'hidden'\r\n            currentElem = e.currentTarget\r\n            element = currentElem.id\r\n            classElem = $(currentElem).attr('type')\r\n            svgDataObjects = svgData.data\r\n            _.each svgDataObjects, (svgDataObject, key) =>\r\n                if parseInt(element) is parseInt svgDataObject.object_id\r\n                    points = svgDataObject.points\r\n                    $('.area').val points.join(',')\r\n                    # collection = new Backbone.Collection window.svgData.data\r\n                    # collection.remove element\r\n                    # window.svgData.data =  collection.toArray()\r\n                    drawPoly(points)\r\n                    $('.submit').addClass 'hidden'\r\n                    $('.edit').removeClass 'hidden'\r\n                    $('.delete').removeClass 'hidden'\r\n                    window.loadForm(classElem)\r\n                    window.showDetails(currentElem)\r\n                            \r\n    # save svg eleement with unit data\r\n    $('.submit').on 'click', (e) ->\r\n\r\n        if $('.property_type').val() == \"\"\r\n            $('.alert').text 'Unit not assigned'\r\n            window.hideAlert()\r\n            return false\r\n        \r\n        if  $('.units').val() == \"\"\r\n            $('.alert').text 'Unit not assigned'\r\n            window.hideAlert()\r\n            return false\r\n        if  ($('.area').val()  == \"\") and (window.canvas_type is \"polygon\")\r\n            $('.alert').text 'Coordinates not marked'\r\n            window.hideAlert()\r\n            return false\r\n        if  (window.markerPoints.length<1) and (window.canvas_type isnt \"polygon\")\r\n            $('.alert').text 'Coordinates not marked'\r\n            window.hideAlert()\r\n            return false        \r\n        if window.coord == 1\r\n            $('.alert').text 'Already assigned'\r\n            window.hideAlert()\r\n            return false\r\n        window.saveUnit()\r\n    \r\n    # edit svg eleement with unit data  \r\n    $('.edit').on 'click', (e) ->\r\n        myObject  = {}\r\n        details = {}\r\n        details['class'] = 'layer '+$('.property_type').val()\r\n        myObject['image_id'] = IMAGEID\r\n        myObject['object_id'] = $('.units').val()\r\n        myObject['object_type'] =  $('.property_type').val()\r\n        myObject['canvas_type'] =  window.canvas_type\r\n        myObject['points'] =  $('.area').val().split(',')\r\n        myObject['other_details'] =  details\r\n        myObject['id'] =  $('.units').val()\r\n        myObject['_method'] =  'PUT'\r\n        $.ajax\r\n            type : 'POST',\r\n            headers: { 'x-csrf-token' : $(\"meta[name='csrf-token']\").attr('content')}\r\n            url  : BASEURL+'/admin/project/'+   PROJECTID+'/svg-tool/'+myObject['object_id'] \r\n            async : false\r\n            data : $.param myObject \r\n            success :(response)->\r\n\r\n                value =  $('.area').val().split(',')\r\n                $('#Layer_1').remove()\r\n                $.each window.svgData.data,(index,value)->\r\n                    if parseInt(value.object_id) == parseInt($('.units').val())\r\n                        window.svgData.data.splice(index,1)\r\n                        # delete window.svgData.data[index]\r\n                console.log window.svgData.data\r\n                window.svgData.data.push myObject\r\n                console.log window.svgData.data\r\n                window.renderSVG()\r\n                \r\n                \r\n\r\n                \r\n            error :(response)->\r\n                alert('Some problem occurred')  \r\n        \r\n\r\n    $('.property_type').on 'change', (e) ->\r\n        type = $(e.target).val()\r\n        window.loadForm(type)\r\n\r\n\r\n    # clear canvas button\r\n    $('.clear').on 'click' , (e)->\r\n        $('.area').val(\"\")\r\n        window.f = []\r\n        canvas = document.getElementById(\"c\")\r\n        ctx= canvas.getContext(\"2d\")\r\n        ctx.clearRect( 0 , 0 , canvas.width, canvas.height )\r\n        $(\"form\").trigger(\"reset\")\r\n        $(\".toggle\").trigger 'click'\r\n        $('#dynamice-region').empty()\r\n        $('.edit-box').addClass 'hidden'\r\n\r\n    # on click of close form \r\n    $('.close').on 'click' , (e)->\r\n        $('.area').val(\"\")\r\n        window.f = []\r\n        canvas = document.getElementById(\"c\")\r\n        ctx= canvas.getContext(\"2d\")\r\n        ctx.clearRect( 0 , 0 , canvas.width, canvas.height )\r\n        $(\"form\").trigger(\"reset\")\r\n        $('#dynamice-region').empty()\r\n        $(\".toggle\").trigger 'click'\r\n        $('#aj-imp-builder-drag-drop canvas').hide()\r\n        $('#aj-imp-builder-drag-drop svg').show()\r\n        $('.edit-box').addClass 'hidden'\r\n\r\n    # on click of delete svg element\r\n    $('.delete').on 'click' , (e)->\r\n        myObject  = {}\r\n        myObject['_method'] =  'DELETE'\r\n        id = $('.units').val()\r\n        $.ajax\r\n            type : 'POST',\r\n            headers: { 'x-csrf-token' : $(\"meta[name='csrf-token']\").attr('content')}\r\n            url  : BASEURL+'/admin/project/'+   PROJECTID+'/svg-tool/'+id\r\n            async : false\r\n            data : $.param myObject \r\n            success :(response)->\r\n\r\n                value =  $('.area').val().split(',')\r\n                $('#Layer_1').remove()\r\n                $.each window.svgData.data,(index,value)->\r\n                    if parseInt(value.object_id) == parseInt($('.units').val())\r\n                        console.log index\r\n                        window.svgData.data.splice(index,1)\r\n                        # delete window.svgData.data[index]\r\n                console.log window.svgData.data\r\n                window.renderSVG()\r\n                unit = unitMasterCollection.findWhere\r\n                        'id' : parseInt id\r\n                unitCollection.add unit\r\n                \r\n                \r\n\r\n                \r\n            error :(response)->\r\n                alert('Some problem occurred')  \r\n\r\n\r\n    # $('#save-svg-elem').on 'click', (e) ->\r\n    #   console.log \"click save-svg-elem\"\r\n    #   newCoordinates = $('.area').val()\r\n    #   newPoints = newCoordinates.split(',').map((point) ->\r\n    #     parseInt point, 10\r\n    #   )\r\n\r\n    #   editedElemTypeId = $(\"input[name=svg-element-id]\").val()\r\n    #   newSvgData = svgData\r\n    #   _.each svgData.data, (svgDataObject, key) =>\r\n    #       if svgDataObject.id is parseInt(editedElemTypeId)\r\n    #           # change global svg data with new points\r\n    #           newSvgData['data'][key]['points'] = newPoints\r\n    #           window.svgData = newSvgData\r\n\r\n    #           # regenerate newly modified svg element\r\n\r\n\r\n    #   $('#aj-imp-builder-drag-drop canvas').hide()\r\n    #   $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"relative\")\r\n    #   $(\"input[name=svg-element-id]\").val(\"\") \r\n    #   $(\".area\").val(\"\")                  \r\n        \r\n                \r\n\r\n\r\n\r\n\r\n\r\n    \r\n        \r\n\r\n\r\n            \r\n\r\n    \r\n  \r\n\r\n     \r\n\r\n\r\n\r\n\r\n\r\n    \r\n   \r\n"]}