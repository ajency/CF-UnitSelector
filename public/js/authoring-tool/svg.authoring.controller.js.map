{"version":3,"sources":["authoring-tool/svg.authoring.controller.coffee"],"names":[],"mappings":"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","file":"authoring-tool/svg.authoring.controller.js","sourceRoot":"/source/","sourcesContent":["class AuthoringTool.SvgLayoutView extends Marionette.LayoutView\r\n\r\n\ttemplate : '#main-template'\r\n\r\n\t\r\n\r\n#starting point:Controller is executed which contains the logic to get the details\r\nclass AuthoringTool.SvgAuthoringCtrl extends Marionette.RegionController\r\n\r\n\tinitialize:->\r\n\t\t@show new AuthoringTool.SvgLayoutView\r\n\t\t\t\t\r\n\r\n\r\nclass AuthoringTool.TopView extends Marionette.ItemView\r\n\r\n\ttemplate : '#topregion'\r\n\r\n\tonShow:->\r\n\t\ttypes = Marionette.getOption(@,'types')\r\n\t\twindow.showPendingObjects(types)\r\n\t\t\r\n\r\nclass AuthoringTool.TopCtrl extends Marionette.RegionController\r\n\t\t\t\r\n\tinitialize:->\r\n\t\ttypes = window.getPendingObjects(window.svgData) \r\n\t\t@show new AuthoringTool.TopView\r\n\t\t\t\t'types' : types\r\n\r\n\r\nclass AuthoringTool.CenterView extends Marionette.ItemView\r\n\r\n\ttemplate : '#centerregion'\r\n\r\n\tui :\r\n\t\tmarked : '.marked'\r\n\r\n\tevents :\r\n\t\t'dblclick @ui.marked':(e)->\r\n\t\t\t$('#aj-imp-builder-drag-drop canvas').show()\r\n\t\t\t$('#aj-imp-builder-drag-drop .svg-draw-clear').show()\r\n\t\t\t$('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")\r\n\t\t\tcurrentElem = e.currentTarget\r\n\t\t\tsvgDataObjects = svgData.data\r\n\t\t\t_.each svgDataObjects, (svgDataObject, key) =>\r\n\t\t\t\telemTypeId = $(currentElem).attr(\"type-id\")\r\n\t\t\t\tif parseInt(elemTypeId) is svgDataObject.id\r\n\t\t\t\t\tpoints = svgDataObject.points\r\n\t\t\t\t\tdrawPoly(points)\r\n\t\t\t\t\t$(\"input[name=svg-element-id]\").val(svgDataObject.id)\r\n\r\n\r\n\r\n\tonShow:->\r\n\t\tconsole.log $('.area')\t\r\n\t\t$('.area').canvasAreaDraw()\r\n\t\twindow.draw = SVG('aj-imp-builder-drag-drop')\r\n\t\tsvgData = Marionette.getOption(@,'svgData')\r\n\t\tdraw.svg svgData\r\n\t\t$('#aj-imp-builder-drag-drop canvas').ready ->\r\n\t\t\t$('#aj-imp-builder-drag-drop canvas').hide()\r\n\t\t\t$('#aj-imp-builder-drag-drop .svg-draw-clear').hide()\r\n\t\t@loadZoom()\r\n\r\n\tloadZoom:->\r\n\t\t$('#aj-imp-builder-drag-drop').panzoom({\r\n                contain: 'invert',\r\n                minScale: 1,\r\n                maxScale: 2.4,\r\n                increment: 0.4,\r\n                $zoomIn: $('.zoom-in'),\r\n                $zoomOut: $('.zoom-out')\r\n\r\n            })\r\n\t\t\r\n\r\n\r\nclass AuthoringTool.CenterCtrl extends Marionette.RegionController\r\n\t\t\t\r\n\tinitialize:->\r\n\t\twindow.createSvg(window.svgData.data)\r\n\t\ts = new XMLSerializer()\r\n\t\tstr = s.serializeToString(rawSvg)\r\n\t\t@show new AuthoringTool.CenterView\r\n\t\t\t\t'svgData' : str\r\n\t\t\r\n\t\t\t\r\n\r\n\t\r\n  \r\n\r\n\t \r\n\r\n\r\n\r\n\r\n\r\n\t\r\n   \r\n"]}