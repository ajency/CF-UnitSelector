{"version":3,"sources":["authoring-tool/svg.authoring.controller.coffee"],"names":[],"mappings":"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","file":"authoring-tool/svg.authoring.controller.js","sourceRoot":"/source/","sourcesContent":["#Primary File\r\n#using svg.js\r\n#Function to render objects based upon the object type(*) - useful when we want to display a specific object type\r\n# In ths case only those objects will be highlighted\r\n#Function to render all objects which internally calls (*) for each object type\r\n#Function to show a specific object based on the object id\r\n#Function to show the left hand side depending upon the supported object types\r\n#Function to switch to edit mode\r\n#Function to show the options depending on whether object is marked or not\r\n#Function to count the number of pending objects\r\njQuery(document).ready ($)->\r\n\r\n    # add svg-off class to disable keep image fixed in the div else it moves\r\n    $('.svg-canvas').addClass('svg-off')\r\n    $('.area').canvasAreaDraw()\r\n\r\n    ########################### GLOBALS BEGIN ###########################\r\n    window.draw = SVG('aj-imp-builder-drag-drop')\r\n    \r\n    window.svgData = {\r\n                    'image':''\r\n                    'data' : []\r\n                    'supported_types' : ['villa','plot']\r\n                }\r\n\r\n    # Default Cx and Cy values\r\n    window.cx = 630.101\r\n    window.cy = 362.245\r\n    window.innerRadius = 8.002\r\n    window.outerRadius = 15.002\r\n    window.ellipseWidth = 360\r\n    window.ellipseHeight = 160\r\n    window.markerPoints = [window.cx,window.cx] #default value\r\n    window.locationMarkerPoints = [window.cx,window.cx] #default value\r\n    window.dropLocationMarker = false\r\n\r\n    window.windowWidth = 0\r\n    window.EDITMODE = false\r\n    ########################### GLOBALS ENDS ###########################\r\n    \r\n    ########################### FUNCTIONS BEGIN ###########################         \r\n    #function to create the svg\r\n    window.createSvg = (svgData)->\r\n        window.rawSvg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\")\r\n        rawSvg.setAttribute('id', 'Layer_1')\r\n        rawSvg.setAttribute('style', 'border: 1px solid black')\r\n        rawSvg.setAttribute('width', '100%')\r\n        rawSvg.setAttribute('height', '100%')\r\n        rawSvg.setAttributeNS(null,'x','0')\r\n        rawSvg.setAttributeNS(null,'y','0')\r\n        rawSvg.setAttribute('preserveAspectRatio','\"xMinYMin slice\"')\r\n        \r\n        # rawSvg.setAttributeNS(null,'viewBox','0 0 1600 1095')\r\n        # rawSvg.setAttributeNS(null,'enable-background','new 0 0 1600 1095')\r\n        rawSvg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\")\r\n\r\n        window.createImageTag()\r\n        $.each svgData,(index,value)->\r\n            if value.canvas_type is 'polygon'\r\n                tag = window.polygon.createPolgyonTag(value)\r\n                if tag != \"\"\r\n                    window.makeDraggable()\r\n                    rawSvg.appendChild tag\r\n            if value.canvas_type is 'marker'\r\n                tag = window.marker.createMarkerTag(value)\r\n\r\n\r\n    #function to create image tag\r\n    window.createImageTag =()-> \r\n        svgimg = document.createElementNS('http://www.w3.org/2000/svg','image')\r\n        svgimg.setAttributeNS(null,'height','800')\r\n        svgimg.setAttributeNS(null,'width','1600')\r\n        svgimg.setAttributeNS('http://www.w3.org/1999/xlink','href', svgImg)\r\n        svgimg.setAttributeNS(null,'x','0')\r\n        svgimg.setAttributeNS(null,'y','0')\r\n        svgimg.setAttributeNS(null, 'visibility', 'visible')\r\n        rawSvg.appendChild(svgimg)\r\n\r\n    #function to generate svg from svg data\r\n    window.generateSvg = (svgData)->\r\n        # draw.viewbox(0, 0, 1600, 800)\r\n        # create svg background image, set exclude data attrib to true so it can be excluded while exporting the svg\r\n\r\n        draw.image(svgImg).data('exclude', true)\r\n\r\n        # for each svg data check canvas type and generate elements accordingly\r\n        $.each svgData,(index,value)->\r\n            if value.canvas_type is 'polygon'\r\n                window.polygon.generatePolygonTag(value)\r\n\r\n            if value.canvas_type is 'marker'\r\n                window.marker.generateMarkerTag(value)        \r\n\r\n\r\n    #function to create left side panel\r\n    window.createPanel =(data)->\r\n        $.each data,(index,value)->\r\n            $('.'+value).removeClass 'hidden'\r\n            \r\n    #function to create left side panel\r\n    window.makeDraggable =(data)->  \r\n        element = draw.polygon(data)\r\n        element.draggable()\r\n    \r\n    window.getPendingObjects  = (svgData)->\r\n        type = []\r\n        collection = new Backbone.Collection svgData.data\r\n        # uniqTypes = _.pluck svgData , 'type'\r\n        # uniqTypes = _.uniq uniqTypes\r\n        # supportedTypes = svgData.supported_types.map (item)->\r\n        #   return s.capitalize item\r\n        supportedTypes = svgData.supported_types\r\n        supportedTypes = _.uniq supportedTypes\r\n        $.each supportedTypes ,(index,value)->\r\n            items = collection.where\r\n                        'object_type' : value.toLowerCase()\r\n            units = window.actualUnits(value.toLowerCase())\r\n            marked = []\r\n            $.each items,(ind,val)->\r\n                if !_.isEmpty val.get('canvas_type')\r\n                    marked.push val\r\n\r\n            type.push\r\n                'name' : value\r\n                'id'   : value\r\n                'total' : units.length\r\n                'marked' : marked.length\r\n        # $.each type,(index,value)->\r\n        #   if value.total is 0\r\n        #       type = _.without(type, value)\r\n\r\n        type\r\n\r\n    window.actualUnits = (value)->\r\n        units = []\r\n        if value == 'villa'\r\n            units = bunglowVariantCollection.getBunglowMasterUnits()\r\n        if value == 'plot'\r\n            units = plotVariantCollection.getPlotMasterUnits()\r\n        if value == 'building'\r\n            units = buildingMasterCollection.toArray()\r\n         if value == 'apartment/penthouse'\r\n            units = apartmentVariantCollection.getApartmentMasterUnits()\r\n            temp = new Backbone.Collection units\r\n            newUnits = temp.where\r\n                    'building_id' : parseInt building_id\r\n            units = newUnits\r\n\r\n        units\r\n\r\n    window.showPendingObjects = (data)->\r\n        html = ''\r\n        total = []\r\n        marked = []\r\n        $.each data ,(index,value)->\r\n            total.push value.total+' '+value.name+'(s)'\r\n            marked.push value.marked+' '+value.name+'(s)'\r\n        html = '<strong class=\"pull-right total-count\">'+total.join(\" | \")+'</strong>'+\r\n                '<strong class=\"pull-right title-count\"> Total:</strong>'+\r\n                '<strong class=\"pull-right total-count\">'+marked.join(\" | \")+'</strong>'+\r\n                '<strong class=\"pull-right title-count\"> Marked:</strong>'\r\n        $('.pending').html html\r\n\r\n    window.generatePropTypes = ()->\r\n        types = window.svgData.supported_types\r\n        select = $('.property_type')\r\n        $('<option />', {value: \"\", text: 'Select option'}).appendTo(select)\r\n\r\n        \r\n        $.each types , (index,value)->\r\n            if svg_type is 'google_earth' && value is 'Project' \r\n                return\r\n            if value is \"Apartment\"\r\n                valueText = \"Apartment / Penthouse\"\r\n            \r\n            $('<option />', {value: value.toLowerCase(), text: value.toUpperCase()}).appendTo(select)\r\n        $('<option />', {value: 'unassign', text: ('Unassign').toUpperCase()}).appendTo(select)\r\n\r\n    window.resetCollection = ()->\r\n        $('.polygon-type,.marker-grp').each (index,value)->\r\n            type =  $(value).attr 'type'\r\n            if type is 'building'\r\n                bldgId = parseInt value.id\r\n                bldg = buildingCollection.findWhere\r\n                        'id' : bldgId\r\n\r\n                buildingCollection.remove bldg   \r\n\r\n            else if type is 'unassign'       \r\n                return      \r\n            else \r\n                console.log unitID = parseInt value.id\r\n                if unitID isnt 0\r\n                    console.log unit = unitMasterCollection.findWhere\r\n                            'id' : parseInt value.id\r\n\r\n                    unitCollection.remove unit.get 'id'\r\n\r\n    window.iniTooltip = ()->\r\n        $('.amenity').tooltipster(\r\n            theme: 'tooltipster-shadow'\r\n            contentAsHTML: true\r\n            onlyOne : true\r\n            arrow : false\r\n            offsetX : 50\r\n            offsetY : -10\r\n            interactive : true\r\n            # animation : 'grow'\r\n            trigger: 'hover'\r\n\r\n        )\r\n\r\n\r\n    #api required to load data\r\n    window.loadJSONData = ()->\r\n\r\n        $.ajax\r\n            type : 'GET',\r\n            url  : BASERESTURL+'/project/'+ PROJECTID+'/project-details'\r\n            async : false\r\n            success :(response)->\r\n\r\n                #parsing the integer fields \r\n                response = response.data\r\n\r\n                bunglowVariantCollection.setBunglowVariantAttributes(response.bunglow_variants)\r\n\r\n                unitTypeCollection.setUnitTypeAttributes(response.unit_types)\r\n\r\n                buildingCollection.setBuildingAttributes(response.buildings)\r\n\r\n                apartmentVariantCollection.setApartmentVariantAttributes(response.apartment_variants)\r\n\r\n                window.propertyTypes = response.property_types\r\n\r\n                plotVariantCollection.setPlotVariantAttributes(response.plot_variants)\r\n\r\n                unitCollection.setUnitAttributes(response.units)\r\n\r\n                # #### CODE TO GENERATE SVG THROUGH RAW SVG STRING COMMENTED #### #\r\n                # window.createSvg(window.svgData.data)\r\n                # s = new XMLSerializer()\r\n                # str = s.serializeToString(rawSvg)\r\n                # draw.svg(str)\r\n                # #### CODE TO GENERATE SVG THROUGH RAW SVG STRING COMMENTED #### #\r\n\r\n                window.generatePropTypes()\r\n\r\n                types = window.getPendingObjects(window.svgData)\r\n\r\n                window.showPendingObjects(types)\r\n                window.iniTooltip()\r\n                # ### MODIFIED GENERATION OF SVG ### #\r\n                window.generateSvg(window.svgData.data)\r\n                # ### MODIFIED GENERATION OF SVG ### #\r\n\r\n                # window.store = draw.svg(rawSvg)\r\n\r\n                window.resetCollection()\r\n                \r\n            error :(response)->\r\n                alert('Some problem occurred')\r\n\r\n    window.loadSvgPaths = ()->\r\n        select = $('.svgPaths')\r\n        $('<option />', {value: \"\", text: \"Select Option\"}).appendTo(select)\r\n        svgs = jQuery.parseJSON(svg_paths)\r\n        svgs = _.omit(svgs, image_id);\r\n        $.each svgs,(index,value) ->\r\n            if value == \"\"\r\n                svgs = _.omit(svgs, index);\r\n        svgCount = Object.keys(svgs).length\r\n        if svgCount is 0 \r\n            select.hide()\r\n            $('.duplicate').hide()\r\n            return \r\n        \r\n        building_name = buildingMasterCollection.findWhere\r\n                        'id' : parseInt building_id\r\n        if parseInt(building_id) isnt 0 \r\n            $.each svgs , (index,value)->\r\n                svg_name_arr = value.split('/')\r\n                svg_name = svg_name_arr[parseInt(svg_name_arr.length) - 1]\r\n                $('<option />', {value: index, text: building_name.get('building_name')+'-'+svg_name}).appendTo(select)  \r\n            return\r\n        console.log svgs\r\n        $.each svgs , (index,value)->\r\n            $('<option />', {value: index, text: value}).appendTo(select)\r\n\r\n       \r\n\r\n\r\n    #api required to load svg data based on image\r\n    window.loadOjectData = ()->\r\n\r\n        $.ajax\r\n            type : 'GET',\r\n            url  : BASEURL+'/admin/project/'+   PROJECTID+'/image/'+IMAGEID\r\n            async : false\r\n            success :(response)->\r\n\r\n                window.svgData = {}\r\n                window.svgData['image'] = svgImg\r\n                window.svgData['data'] = response.data\r\n                window.svgData['supported_types'] = JSON.parse supported_types\r\n                window.svgData['breakpoint_position'] = breakpoint_position\r\n                window.svgData['svg_type'] = svg_type\r\n                window.svgData['building_id'] = building_id\r\n                window.svgData['project_id'] = project_id\r\n                window.loadJSONData()\r\n                $('.duplicate').hide()\r\n               \r\n                if response.data.length is 0\r\n                    $('.duplicate').show()\r\n                    window.loadSvgPaths()\r\n                \r\n\r\n                \r\n            error :(response)->\r\n                alert('Some problem occurred')\r\n        \r\n    window.renderSVG = ()->\r\n        window.createSvg(window.svgData.data)\r\n        types = window.getPendingObjects(window.svgData) \r\n        window.showPendingObjects(types)\r\n        s = new XMLSerializer()\r\n        str = s.serializeToString(rawSvg)\r\n        draw.svg str\r\n        window.resetCollection()\r\n        $('.area').val(\"\")\r\n        window.f = []\r\n        $(\"form\").trigger(\"reset\")\r\n        $('#dynamice-region').empty()\r\n        $('#aj-imp-builder-drag-drop canvas').hide()\r\n        $('#aj-imp-builder-drag-drop svg').show()\r\n        $('.edit-box').addClass 'hidden'\r\n        canvas = document.getElementById(\"c\")\r\n        ctx= canvas.getContext(\"2d\")\r\n        ctx.clearRect( 0 , 0 , canvas.width, canvas.height )\r\n\r\n    window.resetTool =()->\r\n        window.resetCollection()\r\n        window.EDITMODE = false\r\n        # $(\".toggle\").trigger 'click'        \r\n        $('.area').val(\"\")\r\n        window.f = []\r\n        $(\"form\").trigger(\"reset\")\r\n        $('#dynamice-region').empty()\r\n        $('#aj-imp-builder-drag-drop canvas').hide()\r\n        $('#aj-imp-builder-drag-drop svg').show()\r\n        $('.edit-box').addClass 'hidden'\r\n        canvas = document.getElementById(\"c\")\r\n        ctx= canvas.getContext(\"2d\")\r\n        ctx.clearRect( 0 , 0 , canvas.width, canvas.height ) \r\n        $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")      \r\n    \r\n    window.saveUnit = ()->\r\n        myObject  = {}\r\n        details = {}\r\n\r\n        objectType =  $('.property_type').val()\r\n        \r\n        myObject['image_id'] = IMAGEID\r\n        myObject['object_type'] =  objectType\r\n        myObject['canvas_type'] =  window.canvas_type\r\n        myObject['breakpoint_position'] =  window.breakpoint_position\r\n\r\n        # amenity v/s other unit types\r\n        if objectType is \"amenity\"\r\n            myObject['object_id'] = 0\r\n        else if objectType is \"project\"\r\n            myObject['object_id'] = project_id\r\n            if window.dropLocationMarker is true\r\n                locationPoints = window.locationMarkerPoints\r\n                details['location_marker_x'] = locationPoints[0]\r\n                details['location_marker_y'] = locationPoints[1]\r\n                details['location_marker_class'] = 'marker'\r\n\r\n            \r\n        else\r\n            myObject['object_id'] = $('.units').val()\r\n\r\n\r\n        if myObject['object_type'] is \"amenity\"\r\n            details['title'] = $('#amenity-title').val()\r\n            details['description'] = $('#amenity-description').val()\r\n            details['class'] = $('.property_type').val() #remove layer class for amenity\r\n        else if  myObject['object_type'] is \"project\"\r\n           details['class'] = 'step1-marker' \r\n        else \r\n            type = $('.property_type').val()  \r\n            if  $('.property_type').val() is 'apartment/penthouse'\r\n                type = 'apartment'\r\n            \r\n            details['class'] = 'layer '+type        \r\n        \r\n        # canvas_type differences i.e markers vs polygons\r\n        if window.canvas_type is \"concentricMarker\" \r\n            myObject['points'] =  window.markerPoints\r\n            myObject['canvas_type'] =  'marker'\r\n            details['cx'] = window.cx\r\n            details['cy'] = window.cy\r\n            details['innerRadius'] = window.innerRadius\r\n            details['outerRadius'] = window.outerRadius\r\n            details['marker_type'] = 'concentric'\r\n\r\n        else if window.canvas_type is \"solidMarker\" \r\n            myObject['points'] =  window.markerPoints\r\n            myObject['canvas_type'] = 'marker'\r\n            details['cx'] = window.cx\r\n            details['cy'] = window.cy\r\n            details['innerRadius'] = window.innerRadius\r\n            details['outerRadius'] = window.outerRadius\r\n            details['marker_type'] = 'solid'\r\n        else if window.canvas_type is \"earthlocationMarker\" \r\n            myObject['points'] =  window.markerPoints\r\n            myObject['canvas_type'] = 'marker'\r\n            details['cx'] = window.cx\r\n            details['cy'] = window.cy\r\n            details['ellipseWidth'] = window.ellipseWidth\r\n            details['ellipseHeight'] = window.ellipseHeight\r\n            details['marker_type'] = 'earthlocation'            \r\n\r\n        else\r\n            myObject['points'] =  $('.area').val().split(',')\r\n\r\n        myObject['other_details'] =  details \r\n\r\n        if $('[name=\"check_primary\"]').is(\":checked\") is true\r\n            myObject['primary_breakpoint'] =  window.breakpoint_position\r\n             \r\n\r\n        $.ajax\r\n            type : 'POST',\r\n            headers: { 'x-csrf-token' : $(\"meta[name='csrf-token']\").attr('content')}\r\n            url  : BASEURL+'/admin/project/'+   PROJECTID+'/svg-tool'\r\n            async : false\r\n            data : $.param myObject \r\n            success :(response)->\r\n                myObject['id'] = response.data.id\r\n\r\n                if response.data.primary_breakpoint isnt null\r\n                    myObject['primary_breakpoint'] = response.data.primary_breakpoint\r\n\r\n                if svg_type is \"google_earth\"\r\n                    window.is_project_marked = true\r\n                \r\n                \r\n                window.svgData.data.push myObject\r\n\r\n                # clear svg \r\n                draw.clear()\r\n\r\n                types = window.getPendingObjects(window.svgData)\r\n\r\n                window.showPendingObjects(types)\r\n                # re-generate svg with new svg element\r\n                window.generateSvg(window.svgData.data)\r\n\r\n                window.resetTool()   \r\n                $('.toggle').bind('click')       \r\n                \r\n            error :(response)->\r\n                alert('Some problem occurred')\r\n\r\n    window.loadForm = (type)->\r\n        propType = $('.property_type').val()\r\n        if (propType is 'project') and (window.is_project_marked)\r\n            $('.submit').attr 'disabled' ,  true\r\n        else \r\n            $('.submit').attr 'disabled' ,  false\r\n\r\n        @region =  new Marionette.Region el : '#dynamice-region'        \r\n        \r\n        if type is 'villa'\r\n            new AuthoringTool.VillaCtrl region : @region\r\n\r\n        if type is 'plot'\r\n            new AuthoringTool.PlotCtrl region : @region\r\n\r\n        if type is 'amenity'\r\n            new AuthoringTool.AmenityCtrl region : @region\r\n\r\n        if type is 'apartment/penthouse'\r\n            new AuthoringTool.ApartmentCtrl \r\n                'region' : @region\r\n\r\n        if type is 'building'\r\n            new AuthoringTool.BuildingCtrl \r\n                'region' : @region\r\n\r\n        if type is 'project'\r\n            new AuthoringTool.ProjectCtrl \r\n                'region' : @region\r\n                'property' : project_data \r\n\r\n         if type is 'unassign'\r\n           $('#dynamice-region').empty()\r\n\r\n\r\n\r\n    window.showDetails = (elem)->\r\n        type = $(elem).attr 'type'\r\n        if type != 'unassign' && type != 'undetect'\r\n            unit = unitMasterCollection.findWhere\r\n                    'id' : parseInt elem.id\r\n            $('.property_type').val $(elem).attr 'type'\r\n            $('.property_type').attr 'disabled' ,  true\r\n            select = $('.units')\r\n            $('<option />', {value: elem.id, text: unit.get('unit_name')}).appendTo(select)\r\n            $('.units').attr 'disabled' ,  true\r\n            $('.units').val elem.id\r\n            $('.units').show()\r\n\r\n        else\r\n            $(\"form\").trigger(\"reset\")\r\n            $('.edit').removeClass 'hidden'\r\n            $('.delete').removeClass 'hidden'\r\n            $('.submit').addClass 'hidden'  \r\n            $('.property_type').attr 'disabled' ,  false \r\n            $('.property_type').val('unassign') \r\n\r\n    window.loadProjectForm =->\r\n        if window.canvas_type is \"earthlocationMarker\"\r\n            select = $('.property_type')\r\n            $('<option />', {value: 'project', text: s.capitalize('project')}).appendTo(select)\r\n        $('.property_type').val 'project'\r\n        $('.property_type').attr 'disabled' ,  true \r\n\r\n        propType = $('.property_type').val()\r\n\r\n        if (propType is 'project') and (window.is_project_marked)\r\n            $('.submit').attr 'disabled' ,  true\r\n        else \r\n            $('.submit').attr 'disabled' ,  false\r\n\r\n        region =  new Marionette.Region el : '#dynamice-region'\r\n        new AuthoringTool.ProjectCtrl \r\n            'region' : region\r\n            'property' : project_data \r\n \r\n    window.hideAlert = ()->\r\n        $('.alert').show()\r\n        $('.alert-box').delay(3000).queue( (next)->\r\n                $(this).hide('fade') \r\n                next() \r\n        )\r\n\r\n    window.buildSvgObjectData =()->\r\n        myObject  = {}\r\n        details = {}\r\n\r\n        objectType =  $('.property_type').val()\r\n        \r\n        myObject['image_id'] = IMAGEID\r\n        myObject['object_type'] =  objectType\r\n        myObject['canvas_type'] =  window.canvas_type\r\n        myObject['breakpoint_position'] =  window.breakpoint_position\r\n\r\n        # amenity v/s other unit types\r\n        if objectType is \"amenity\"\r\n            myObject['object_id'] = 0\r\n        else if objectType is \"project\"\r\n            myObject['object_id'] = project_id\r\n            if window.dropLocationMarker is true\r\n                locationPoints = window.locationMarkerPoints\r\n                details['location_marker_x'] = locationPoints[0]\r\n                details['location_marker_y'] = locationPoints[1]\r\n                details['location_marker_class'] = 'marker'\r\n        else\r\n            myObject['object_id'] = $('.units').val()\r\n\r\n\r\n        if myObject['object_type'] is \"amenity\"\r\n            details['title'] = $('#amenity-title').val()\r\n            details['description'] = $('#amenity-description').val()\r\n            details['class'] = $('.property_type').val()\r\n        else if  myObject['object_type'] is \"project\"\r\n           details['class'] = 'step1-marker' \r\n        else  \r\n           details['class'] = 'layer '+$('.property_type').val()         \r\n        \r\n        # canvas_type differences i.e markers vs polygons\r\n        if window.canvas_type is \"concentricMarker\" \r\n            myObject['points'] =  window.markerPoints\r\n            myObject['canvas_type'] =  'marker'\r\n            details['cx'] = window.cx\r\n            details['cy'] = window.cy\r\n            details['innerRadius'] = window.innerRadius\r\n            details['outerRadius'] = window.outerRadius\r\n            details['marker_type'] = 'concentric'\r\n\r\n        else if window.canvas_type is \"solidMarker\" \r\n            myObject['points'] =  window.markerPoints\r\n            myObject['canvas_type'] = 'marker'\r\n            details['cx'] = window.cx\r\n            details['cy'] = window.cy\r\n            details['innerRadius'] = window.innerRadius\r\n            details['outerRadius'] = window.outerRadius\r\n            details['marker_type'] = 'solid'\r\n        \r\n        else if window.canvas_type is \"earthlocationMarker\" \r\n            myObject['points'] =  window.markerPoints\r\n            myObject['canvas_type'] = 'marker'\r\n            details['cx'] = window.cx\r\n            details['cy'] = window.cy\r\n            details['ellipseWidth'] = window.ellipseWidth\r\n            details['ellipseHeight'] = window.ellipseHeight\r\n            details['marker_type'] = 'earthlocation'            \r\n\r\n        else\r\n            myObject['points'] =  $('.area').val().split(',')\r\n\r\n        myObject['other_details'] =  details \r\n\r\n        if $('[name=\"check_primary\"]').is(\":checked\") is true\r\n            myObject['primary_breakpoint'] =  window.breakpoint_position \r\n            \r\n\r\n        return myObject \r\n\r\n    window.drawDefaultMarker=(markerType)   ->\r\n        drawMarkerElements = []\r\n        window.markerPoints = [window.cx,window.cy]\r\n        groupLocation = \"\"\r\n        # draw marker group\r\n        groupMarker = draw.group() \r\n\r\n        switch markerType\r\n          when 'concentric'\r\n            window.canvas_type = \"concentricMarker\"\r\n            groupMarker.attr\r\n                class: 'concentric-marker-grp'            \r\n            circle1 = draw.circle(window.innerRadius)\r\n            circle1.attr\r\n                fill: '#FF8500'\r\n                cx: window.cx\r\n                cy: window.cy\r\n\r\n\r\n            circle2 = draw.circle(window.outerRadius)\r\n            \r\n            circle2.attr\r\n                fill: 'none'\r\n                cx: window.cx\r\n                cy: window.cy\r\n                stroke: \"#FF7900\"\r\n                'stroke-width':4 \r\n                'stroke-miterlimit':10\r\n\r\n            drawMarkerElements.push circle1\r\n            drawMarkerElements.push circle2\r\n\r\n            break\r\n                \r\n          when 'solid'\r\n            window.canvas_type = \"solidMarker\"\r\n            groupMarker.attr\r\n                class: 'solid-marker-grp'             \r\n            circle = draw.circle(15.002)\r\n            circle.attr\r\n                cx: window.cx\r\n                cy: window.cy \r\n\r\n            drawMarkerElements.push circle\r\n\r\n            break \r\n\r\n          when 'location'\r\n            groupLocation = draw.group()\r\n            groupLocation.attr\r\n                class: 'location-marker-grp'\r\n\r\n            groupLocation.addClass('marker')\r\n            polygon = draw.polygon('776.906,408.457 821.094,407 798.01,459.243')\r\n            polygon.attr\r\n                fill: '#F7931E'\r\n\r\n            groupLocation.add(polygon) \r\n\r\n            ellipse = draw.ellipse(40,40)\r\n\r\n            ellipse.attr\r\n                'fill': '#FFFFFF'\r\n                'stroke': '#F7931E'\r\n                'stroke-width': 6\r\n                'stroke-miterlimit' : 10\r\n                cx:798.696\r\n                cy:401.52\r\n\r\n            drawDefaultMarker.add(ellipse) \r\n            groupLocation.draggable()\r\n\r\n            groupLocation.dragend =(delta, event) ->\r\n                # cx,cy constants for circles\r\n                newDelta = [delta.x,delta.y] \r\n                window.locationMarkerPoints = newDelta\r\n                 \r\n            window.dropLocationMarker =  true\r\n        \r\n            break;\r\n\r\n          when 'earthlocation'\r\n            window.canvas_type = \"earthlocationMarker\"\r\n            groupMarker.attr\r\n                class: 'earth-location-marker-grp' \r\n\r\n            groupMarker.addClass('step1-marker')\r\n            \r\n            ellipse = draw.ellipse(window.ellipseWidth, window.ellipseHeight)\r\n\r\n            ellipse.attr\r\n                'fill': '#FF6700'\r\n                'stroke': '#FF7300'\r\n                'stroke-width':3\r\n                'fill-opacity':0.2\r\n                'stroke-miterlimit':10\r\n                cx: window.cx\r\n                cy: window.cy\r\n \r\n            \r\n            drawMarkerElements.push ellipse \r\n\r\n            # load default form\r\n            window.loadProjectForm() \r\n        if window.canvas_type isnt 'earthlocationMarker' && svg_type is 'google_earth'\r\n            $(\".property_type\").find(\"option[value='project']\").remove()\r\n            $('#dynamice-region').empty() \r\n        _.each drawMarkerElements, (markerElement, key) =>\r\n            groupMarker.add(markerElement)\r\n        \r\n        groupMarker.draggable()\r\n\r\n        groupMarker.dragend =(delta, event) ->\r\n            # cx,cy constants for circles\r\n            markerPts = window.markerPoints\r\n            oldX = markerPts[0]\r\n            oldY =  markerPts[1]\r\n\r\n            tx = delta.x\r\n            ty = delta.y\r\n\r\n            newX = oldX + tx\r\n            newY = oldY + ty\r\n            newpoints = [newX,newY] \r\n            window.markerPoints = newpoints \r\n\r\n\r\n    ########################### FUNCTIONS ENDS ###########################  \r\n        \r\n    window.loadOjectData()\r\n\r\n    ########################### EVENTS BEGIN ###########################\r\n    # on canvas creation hide canvas and show svg\r\n    $('#aj-imp-builder-drag-drop canvas').ready ->\r\n        $('#aj-imp-builder-drag-drop canvas').hide()\r\n        $('#aj-imp-builder-drag-drop .svg-draw-clear').hide()\r\n\r\n        window.windowWidth = $(window).innerWidth()\r\n\r\n        $('canvas').css 'width', window.windowWidth\r\n        $('canvas').css 'height', window.windowWidth / 2\r\n\r\n        $('.svg-canvas').css 'width', window.windowWidth\r\n        $('.svg-canvas').css 'height', window.windowWidth / 2\r\n\r\n        document.addEventListener 'keydown', keydownFunc, false\r\n\r\n    keydownFunc = (e) ->\r\n      if e.which is 13\r\n        if f.length > 0 \r\n            $('.alert').text 'POLYGON IS NOW DRAGGABLE'\r\n            window.hideAlert()\r\n        else\r\n            return\r\n        $('#aj-imp-builder-drag-drop canvas').hide()\r\n        $('#aj-imp-builder-drag-drop svg').show()\r\n        object  = window.EDITOBJECT\r\n        id = $(object).attr('svgid')\r\n        $('.layer[svgid=\"'+id+'\"]').hide()\r\n        pointList = window.polygon.getPointList(f)\r\n        pointList = pointList.join(' ')\r\n        @polygon = draw.polygon(pointList)\r\n        @polygon.addClass('polygon-temp')\r\n        @polygon.data('exclude', true)\r\n        @polygon.attr('fill', '#CC0000')\r\n        # @polygon.attr('fill-opacity', 0.1)\r\n        @polygon.draggable()\r\n\r\n        @polygon.dragend = (delta, event) =>\r\n\r\n            tx = delta.x\r\n            ty = delta.y\r\n\r\n            canvasPointsLength = window.f.length\r\n            oldPoints = window.f\r\n            newPoints = []\r\n            i=0\r\n            while i < canvasPointsLength\r\n                newX = parseInt(oldPoints[i]) + tx\r\n                newY = parseInt(oldPoints[i+1]) + ty\r\n                newPoints.push(newX,newY)\r\n                i+=2\r\n            \r\n            window.f = newPoints\r\n            $('.area').val newPoints.join(',')\r\n\r\n            # clear drawing from canvas and redraw\r\n            canvas = document.getElementById(\"c\")\r\n            ctx= canvas.getContext(\"2d\")\r\n            ctx.clearRect( 0 , 0 , canvas.width, canvas.height ) \r\n\r\n            @polygon.fixed()\r\n            @polygon.remove()\r\n            \r\n            $('#aj-imp-builder-drag-drop canvas').show()\r\n            $('#aj-imp-builder-drag-drop .svg-draw-clear').show()\r\n            $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")\r\n            drawPoly(window.f)            \r\n\r\n    \r\n    # toggle toolbox menu\r\n    $(\".toggle\").click( ()->\r\n        $(this).toggleClass(\"expanded\");\r\n        $('.menu').toggleClass('open');\r\n     \r\n    )\r\n\r\n    # show marker options\r\n    $('[rel=\\'popover\\']').popover(\r\n        html: 'true'\r\n        content: '<div id=\"popOverBox\">\r\n                    <ul class=\"list-inline\">\r\n                        <li title=\"Amenities\"><div class=\"marker-elem marker1 concentric-marker\"></div></li>\r\n                        <li title=\"Units\"><div class=\"marker-elem marker2 solid-marker\"></div></li>\r\n                        <li class=\"google-earth-li hidden\" title=\"Project Location\"><div class=\"marker-elem marker3 earth-location-marker\"></div></li>\r\n                    </ul>\r\n                  </div>')\r\n        .parent().on 'click', '#popOverBox .marker-elem',(evt) ->\r\n            window.EDITMODE = true\r\n            currentElem = evt.currentTarget\r\n            \r\n            if $(currentElem).hasClass('concentric-marker')\r\n                markerType = \"concentric\"\r\n            else if $(currentElem).hasClass('solid-marker')\r\n                markerType = \"solid\"\r\n            else if $(currentElem).hasClass('earth-location-marker')\r\n                markerType = \"earthlocation\" \r\n            else if $(currentElem).hasClass('location-marker')\r\n                markerType = \"location\" \r\n\r\n            \r\n            $('#aj-imp-builder-drag-drop canvas').hide()\r\n            $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"relative\")\r\n            $('.edit-box').removeClass 'hidden'\r\n            $('.edit').addClass 'hidden'\r\n            $('.delete').addClass 'hidden'\r\n            $('.submit').removeClass 'hidden'  \r\n            $('.property_type').attr 'disabled' ,  false          \r\n\r\n            # hide marker options\r\n            $('[rel=\\'popover\\']').popover('hide')\r\n\r\n            window.drawDefaultMarker(markerType) \r\n            \r\n\r\n    $('[rel=\\'popover\\']').on 'click' , (e) ->\r\n        if svg_type is \"google_earth\"\r\n            google_earth_li = $('.google-earth-li').removeClass('hidden')\r\n            $('.popover-content').css(\"width\",\"163px\")\r\n    # on polygon selection\r\n    $('.select-polygon').on 'click', (e) ->\r\n        e.preventDefault()\r\n        window.EDITMODE = true\r\n        window.canvas_type = \"polygon\"\r\n        if window.canvas_type isnt 'earthlocationMarker' && svg_type is 'google_earth'\r\n            $(\".property_type\").find(\"option[value='project']\").remove()\r\n            $('#dynamice-region').empty()\r\n        $('#aj-imp-builder-drag-drop canvas').show()\r\n        $('#aj-imp-builder-drag-drop .svg-draw-clear').show()\r\n        $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")\r\n        $('.edit-box').removeClass 'hidden'\r\n        $('.edit').addClass 'hidden'\r\n        $('.delete').addClass 'hidden'\r\n        $('.submit').removeClass 'hidden'\r\n        $('.property_type').attr 'disabled' ,  false\r\n\r\n     \r\n    # on ellipse selection\r\n    $('.select-ellipse').on 'click', (e) -> \r\n        e.preventDefault()\r\n        window.EDITMODE = true\r\n        window.canvas_type = \"ellipse\" \r\n\r\n\r\n    # on double click of existing marked polygon(villa or plot) open canvas mode\r\n    $('svg').on 'dblclick', '.polygon-type' , (e) ->\r\n            e.preventDefault()\r\n            window.EDITOBJECT = e.target\r\n            window.canvas_type = \"polygon\"\r\n            window.EDITMODE = true\r\n            elemId =  $(e.currentTarget).attr('svgid')\r\n            window.currentSvgId = parseInt elemId            \r\n            \r\n            $('#aj-imp-builder-drag-drop canvas').show()\r\n            $('#aj-imp-builder-drag-drop .svg-draw-clear').show()\r\n            $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")\r\n            $('.edit-box').removeClass 'hidden'\r\n            currentElem = e.currentTarget\r\n            element = currentElem.id\r\n            object_type = $(currentElem).attr('type')\r\n            svgDataObjects = svgData.data\r\n            _.each svgDataObjects, (svgDataObject, key) =>\r\n                if parseInt(elemId) is parseInt svgDataObject.id \r\n                    points = svgDataObject.points\r\n                    $('.area').val points.join(',')\r\n                    drawPoly(svgDataObject.points)\r\n                    $('.submit').addClass 'hidden'\r\n                    $('.edit').removeClass 'hidden'\r\n                    $('.delete').removeClass 'hidden'\r\n                    \r\n                    if object_type is \"project\"\r\n                        # load default form\r\n                        window.loadProjectForm()\r\n                    else \r\n                        window.loadForm(object_type)\r\n\r\n                    # show primary breakpoint checked or not\r\n                    if $(currentElem).data(\"primary-breakpoint\") \r\n                        $('[name=\"check_primary\"]').prop('checked', true)                    \r\n\r\n                    if object_type is \"amenity\"\r\n                        $('#amenity-title').val $(currentElem).data(\"amenity-title\")                        \r\n                        $('#amenity-description').val $(currentElem).data(\"amenity-desc\")\r\n                        $('.property_type').val $(currentElem).attr 'type'\r\n                        $('.property_type').attr 'disabled' ,  true                        \r\n\r\n                    else\r\n                        window.showDetails(currentElem)\r\n    \r\n\r\n    $('.zoom-in').on 'click' ,(e) ->\r\n         $('.svg-canvas').removeClass('svg-off')\r\n\r\n    \r\n    $('svg').on 'dblclick', '.marker-grp' , (e) ->\r\n        window.EDITMODE = true\r\n        draggableElem = \"\"\r\n        elemId =  $(e.currentTarget).attr('svgid')\r\n        window.currentSvgId = parseInt elemId\r\n        currentSvgElem = $(e.currentTarget)\r\n        \r\n        draw.each ((i, children) ->\r\n          childId = @attr('svgid')\r\n          if parseInt(childId) is parseInt(elemId)\r\n              @draggable()\r\n              draggableElem = @\r\n              return\r\n          \r\n        ), true \r\n\r\n        # set new marker points\r\n        draggableChildCircle = draggableElem.first()\r\n        cx = draggableChildCircle.attr('cx')\r\n        cy = draggableChildCircle.attr('cy')\r\n        window.markerPoints = [cx,cy]\r\n\r\n        # set canvas_type\r\n        if draggableElem.hasClass('concentric')\r\n            window.canvas_type = 'concentricMarker'\r\n        else if draggableElem.hasClass('solid')\r\n            window.canvas_type = 'solidMarker'\r\n        else if draggableElem.hasClass('earthlocation')\r\n            window.canvas_type = 'earthlocationMarker'\r\n        \r\n        draggableElem.dragend = (delta, event) ->\r\n            # cx,cy constants for circles\r\n            markerPts = window.markerPoints\r\n            oldX = markerPts[0]\r\n            oldY =  markerPts[1]\r\n\r\n            tx = delta.x\r\n            ty = delta.y\r\n\r\n            newX = oldX + tx\r\n            newY = oldY + ty\r\n            newpoints = [newX,newY] \r\n            window.markerPoints = newpoints \r\n\r\n\r\n        currentElem = e.currentTarget\r\n            \r\n        # show edit form\r\n        $('.edit-box').removeClass 'hidden'\r\n        object_type = $(currentElem).attr('type')\r\n        $('.submit').addClass 'hidden'\r\n        $('.edit').removeClass 'hidden'\r\n        $('.delete').removeClass 'hidden'\r\n        \r\n        if object_type is \"project\"\r\n            # load default form\r\n            window.loadProjectForm()\r\n        else \r\n            window.loadForm(object_type)  \r\n\r\n        # show primary breakpoint checked or not\r\n        if $(currentElem).data(\"primary-breakpoint\") \r\n            $('[name=\"check_primary\"]').prop('checked', true)\r\n        \r\n        # populate form\r\n        if object_type is \"amenity\"\r\n            $('#amenity-title').val $(currentElem).data(\"amenity-title\")                        \r\n            $('#amenity-description').val $(currentElem).data(\"amenity-desc\")                        \r\n            $('.property_type').val $(currentElem).attr 'type'\r\n            $('.property_type').attr 'disabled' ,  true            \r\n\r\n        else\r\n            window.showDetails(currentElem)       \r\n        \r\n\r\n    # save svg eleement with unit data\r\n    $('.submit').on 'click', (e) ->\r\n\r\n        if $('.property_type').val() == \"\"\r\n            $('.alert').text 'Unit not assigned'\r\n            window.hideAlert()\r\n            return false\r\n        \r\n        if  $('.units').val() == \"\"\r\n            $('.alert').text 'Unit not assigned'\r\n            window.hideAlert()\r\n            return false\r\n        if  ($('.area').val()  == \"\") and (window.canvas_type is \"polygon\")\r\n            $('.alert').text 'Coordinates not marked'\r\n            window.hideAlert()\r\n            return false\r\n        if  (window.markerPoints.length<1) and (window.canvas_type isnt \"polygon\")\r\n            $('.alert').text 'Coordinates not marked'\r\n            window.hideAlert()\r\n            return false        \r\n        if window.coord == 1\r\n            $('.alert').text 'Already assigned'\r\n            window.hideAlert()\r\n            return false\r\n\r\n        propType = $('.property_type').val()\r\n        if (propType is \"amenity\") and ($('#amenity-title').val() is \"\")\r\n            $('.alert').text 'Amenity title not entered'\r\n            window.hideAlert()\r\n            return false\r\n        \r\n        window.saveUnit()\r\n    \r\n    # edit svg eleement with unit data  \r\n    $('.edit').on 'click', (e) ->\r\n\r\n        if $('.property_type').val() == \"\"\r\n            $('.alert').text 'Unit not assigned'\r\n            window.hideAlert()\r\n            return false\r\n        \r\n        if  $('.units').val() == \"\"\r\n            $('.alert').text 'Unit not assigned'\r\n            window.hideAlert()\r\n            return false\r\n\r\n        if  ($('.area').val()  == \"\") and (window.canvas_type is \"polygon\")\r\n            $('.alert').text 'Coordinates not marked'\r\n            window.hideAlert()\r\n            return false\r\n        if  (window.markerPoints.length<1) and (window.canvas_type isnt \"polygon\")\r\n            $('.alert').text 'Coordinates not marked'\r\n            window.hideAlert()\r\n            return false \r\n        \r\n        propType = $('.property_type').val()\r\n        if (propType is \"amenity\") and ($('#amenity-title').val() is \"\")\r\n            $('.alert').text 'Amenity title not entered'\r\n            window.hideAlert()\r\n            return false            \r\n\r\n        myObject = window.buildSvgObjectData()\r\n          \r\n        # myObject['other_details'] =  details    \r\n        myObject['_method'] =  'PUT'\r\n\r\n        svgElemId = window.currentSvgId\r\n        \r\n        $.ajax\r\n            type : 'POST',\r\n            headers: { 'x-csrf-token' : $(\"meta[name='csrf-token']\").attr('content')}\r\n            url  : \"#{BASEURL}/admin/project/#{PROJECTID}/svg-tool/#{svgElemId}\" \r\n            async : false\r\n            data : $.param myObject \r\n            success :(response)->\r\n                indexToSplice = -1\r\n                $.each window.svgData.data,(index,value)->\r\n                    if parseInt(value.id) is svgElemId\r\n                        indexToSplice = index\r\n                        \r\n                window.svgData.data.splice(indexToSplice,1)\r\n                myObject['id'] =  svgElemId\r\n                window.svgData.data.push myObject\r\n                # clear svg \r\n                draw.clear()\r\n                types = window.getPendingObjects(window.svgData)\r\n\r\n                window.showPendingObjects(types)\r\n                # re-generate svg with new svg element\r\n                window.generateSvg(window.svgData.data)\r\n                window.resetTool()  \r\n                              \r\n   \r\n            error :(response)->\r\n                alert('Some problem occurred')  \r\n        \r\n\r\n    $('.property_type').on 'change', (e) ->\r\n        type = $(e.target).val()\r\n        window.loadForm(type)\r\n\r\n\r\n    # clear canvas button\r\n    $('.clear').on 'click' , (e)->\r\n        $('.area').val(\"\")\r\n        window.f = []\r\n        canvas = document.getElementById(\"c\")\r\n        ctx= canvas.getContext(\"2d\")\r\n        ctx.clearRect( 0 , 0 , canvas.width, canvas.height )\r\n        # $(\"form\").trigger(\"reset\")\r\n        # $(\".toggle\").trigger 'click'\r\n        # $('#dynamice-region').empty()\r\n        # $('.edit-box').addClass 'hidden'\r\n\r\n    window.setToggle = ()->\r\n        $(\".toggle\").click( ()->\r\n            $(\".toggle\").toggleClass(\"expanded\");\r\n            $('.menu').toggleClass('open');\r\n         \r\n        )\r\n\r\n\r\n\r\n    # on click of close form \r\n    $('.closeform').on 'click' , (e)->\r\n        $('.area').val(\"\")\r\n        window.f = []\r\n        canvas = document.getElementById(\"c\")\r\n        ctx= canvas.getContext(\"2d\")\r\n        ctx.clearRect( 0 , 0 , canvas.width, canvas.height )\r\n        $(\"form\").trigger(\"reset\")\r\n        $('#dynamice-region').empty()\r\n        $(\".toggle\").trigger 'click'\r\n        $('#aj-imp-builder-drag-drop canvas').hide()\r\n        $('#aj-imp-builder-drag-drop svg').show()\r\n        $('.edit-box').addClass 'hidden'\r\n        # search for all svg elemnts and keep them fixed\r\n        draw.each ((i, children) ->\r\n            @draggable()\r\n            @fixed()\r\n        ), true \r\n\r\n        # clear svg\r\n        draw.clear()\r\n        # regenerate svg\r\n        window.generateSvg(window.svgData.data) \r\n        window.EDITMODE = false                   \r\n\r\n    # on click of delete svg element\r\n    $('.delete').on 'click' , (e)->\r\n        myObject  = {}\r\n        myObject['_method'] =  'DELETE'\r\n        id = $('.units').val()\r\n        svgElemId = window.currentSvgId\r\n        $.ajax\r\n            type : 'POST',\r\n            headers: { 'x-csrf-token' : $(\"meta[name='csrf-token']\").attr('content')}\r\n            url  : \"#{BASEURL}/admin/project/#{PROJECTID}/svg-tool/#{svgElemId}\"\r\n            async : false\r\n            data : $.param myObject \r\n            success :(response)->\r\n                indexToSplice = -1\r\n                obj_id_deleted = 0\r\n                obj_type = \"\"\r\n                $.each window.svgData.data,(index,value)->\r\n                    if parseInt(value.id) is svgElemId\r\n                        indexToSplice = index\r\n                        obj_id_deleted = parseInt value.object_id\r\n                        obj_type = value.object_type\r\n                        \r\n                window.svgData.data.splice(indexToSplice,1)\r\n                myObject['id'] =  svgElemId\r\n\r\n                if obj_id_deleted>0\r\n                    if obj_type is \"building\"\r\n                        bldg =   buildingCollection.findWhere\r\n                                    'id' : obj_id_deleted\r\n                        buildingCollection.bldg\r\n\r\n                    else if obj_type is \"project\"\r\n                        window.is_project_marked = false \r\n                    else \r\n                        unit = unitMasterCollection.findWhere\r\n                                'id' : obj_id_deleted\r\n                        unitCollection.add unit                        \r\n\r\n                # clear svg \r\n                draw.clear()\r\n                \r\n                # re-generate svg with new svg element\r\n                window.generateSvg(window.svgData.data)\r\n                types = window.getPendingObjects(window.svgData)\r\n\r\n                window.showPendingObjects(types)\r\n                window.resetTool()\r\n                $(\".toggle\").bind('click')\r\n\r\n                \r\n                \r\n\r\n                \r\n            error :(response)->\r\n                alert('Some problem occurred')  \r\n\r\n\r\n    # on click of publish\r\n    $('.btn-publish-svg').on 'click' , (e)->\r\n        e.preventDefault() \r\n\r\n        # check edit mode status\r\n        if window.EDITMODE is true\r\n            $('.alert').text 'Please save svg elements before publish'\r\n            window.hideAlert()\r\n            return false\r\n\r\n        # get svg tools viewbox height and width\r\n        viewboxDefault = draw.viewbox()\r\n\r\n        # add viewbox of same width and height at the time of publish\r\n        draw.viewbox(0, 0, viewboxDefault.width, viewboxDefault.height) \r\n        \r\n        # temporarily remove absolute position before exporting\r\n        $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"\")\r\n        svgExport = draw.exportSvg(\r\n          exclude: ->\r\n            @data 'exclude'\r\n          whitespace: true)\r\n\r\n        # restore absolute position after export\r\n        $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")\r\n        \r\n        data = {}\r\n        data['data'] = btoa(svgExport)\r\n        data['svg_type'] = window.svgData.svg_type\r\n        data['breakpoint_position'] = window.breakpoint_position \r\n        data['building'] = building_id \r\n        data['imgID'] = IMAGEID \r\n\r\n        # restore original viewbox\r\n        draw.viewbox(0, 0, viewboxDefault.width, viewboxDefault.height)\r\n\r\n        postUrl = \"#{BASEURL}/admin/project/#{PROJECTID}/image/#{IMAGEID}/downloadSvg\"\r\n\r\n        publishSvgOptions = \r\n          type: 'POST'\r\n          url: postUrl\r\n          headers: { 'x-csrf-token' : $(\"meta[name='csrf-token']\").attr('content')}\r\n          data : data\r\n          async: false\r\n\r\n        $.ajax(publishSvgOptions)\r\n            .done (resp, textStatus ,xhr) =>\r\n                $('.alert').text 'SVG Published'\r\n                window.hideAlert()\r\n\r\n            .fail (xhr, textStatus, errorThrown) =>\r\n                $('.alert').text 'Failed to publish SVG'\r\n                window.hideAlert()\r\n\r\n\r\n    $('svg').on 'contextmenu', '.polygon-type' , (e) ->\r\n        e.preventDefault()\r\n        $('.alert').text 'Polygon duplicated, drag to position'\r\n        window.hideAlert()\r\n        currentElem = e.currentTarget\r\n        if /(^|\\s)marker-grp(\\s|$)/.test($(currentElem).attr(\"class\"))\r\n            return false\r\n        newPoints = window.addPoints($(e.target).attr('points'))\r\n        \r\n        \r\n\r\n        window.canvas_type = \"polygon\"\r\n        # window.EDITMODE = true\r\n        # $('#aj-imp-builder-drag-drop canvas').show()\r\n        # $('#aj-imp-builder-drag-drop .svg-draw-clear').show()\r\n        # $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")\r\n        # $('.edit-box').removeClass 'hidden'\r\n        pointList = window.polygon.getPointList(f)\r\n        pointList = pointList.join(' ')\r\n        @polygon = draw.polygon(pointList)\r\n        @polygon.addClass('polygon-temp')\r\n        @polygon.data('exclude', true)\r\n        @polygon.attr('fill', '#CC0000')\r\n        # @polygon.attr('fill-opacity', 0.1)\r\n        @polygon.draggable()\r\n        @polygon.dragend = (delta, event) =>\r\n\r\n            tx = delta.x\r\n            ty = delta.y\r\n\r\n            canvasPointsLength = window.f.length\r\n            oldPoints = window.f\r\n            newPoints = []\r\n            i=0\r\n            while i < canvasPointsLength\r\n                newX = parseInt(oldPoints[i]) + tx\r\n                newY = parseInt(oldPoints[i+1]) + ty\r\n                newPoints.push(newX,newY)\r\n                i+=2\r\n            \r\n            window.f = newPoints\r\n            $('.area').val newPoints.join(',')\r\n\r\n            # clear drawing from canvas and redraw\r\n            canvas = document.getElementById(\"c\")\r\n            ctx= canvas.getContext(\"2d\")\r\n            ctx.clearRect( 0 , 0 , canvas.width, canvas.height ) \r\n\r\n            @polygon.fixed()\r\n            @polygon.remove()\r\n            \r\n            $('#aj-imp-builder-drag-drop canvas').show()\r\n            $('#aj-imp-builder-drag-drop .svg-draw-clear').show()\r\n            $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"absolute\")\r\n            $('.edit-box').removeClass 'hidden'\r\n            $(\"form\").trigger(\"reset\")\r\n            $('.edit').addClass 'hidden'\r\n            $('.delete').addClass 'hidden'\r\n            $('.submit').removeClass 'hidden'  \r\n            $('.property_type').attr 'disabled' ,  false  \r\n            drawPoly(window.f)\r\n        # drawPoly(newPoints)\r\n\r\n    window.addPoints = (points)->\r\n        points = points.replace(/\\s/g, ',')\r\n        window.f = points.split(',')\r\n        newPoints = []\r\n        $.each window.f , (index,value)->\r\n            newPoints.push parseInt(value) + 5\r\n\r\n        newPoints\r\n\r\n    # $('svg').on 'contextmenu', '.marker-grp' , (evt) ->\r\n    #     evt.preventDefault()\r\n    #     markerType = ''\r\n    #     currentElem = evt.currentTarget\r\n    #     if /(^|\\s)concentric(\\s|$)/.test($(currentElem).attr(\"class\"))\r\n    #         markerType = \"concentric\"\r\n    #         window.canvas_type = markerType+'Marker'\r\n    #     else if /(^|\\s)solid(\\s|$)/.test($(currentElem).attr(\"class\"))\r\n    #         markerType = \"solid\"\r\n    #         window.canvas_type = markerType+'Marker'\r\n    #     else if $(currentElem).hasClass('earth-location-marker')\r\n    #         markerType = \"earthlocation\" \r\n    #         window.canvas_type = markerType+'Marker'\r\n    #     else if $(currentElem).hasClass('location-marker')\r\n    #         markerType = \"location\" \r\n    #         window.canvas_type = markerType+'Marker'\r\n\r\n    #     window.drawDefaultMarker(markerType) \r\n    #     window.EDITMODE = true\r\n    #     $('.edit-box').removeClass 'hidden'\r\n\r\n\r\n    $('.duplicate').on 'click' , (evt) ->\r\n       $('#myModal').modal()\r\n       \r\n    # window.removeAttr = (data)-> \r\n    #     $.each data , (index,value)->\r\n    #             console.log value['other_details']\r\n    #             value['other_details']['class'] = 'layer unassign'\r\n    #             value['object_type'] = \"undetect\"\r\n    #             value['object_id'] = 0\r\n    #             value['svgid'] = 0\r\n    #             value['svg_id'] = 0\r\n    #             console.log value['other_details']\r\n    #             delete value['primary_breakpoint']\r\n    #             data[index] = value\r\n    #      $.each data , (index,value)->\r\n    #             value['id'] = 0\r\n    #             data[index] = value\r\n                \r\n    #     data           \r\n\r\n    $('.process').on 'click' , (evt) ->\r\n        imageid = $('.svgPaths').val()\r\n        if imageid is \"\"\r\n            $('.alert').text 'Select svg'\r\n            window.hideAlert()\r\n            return\r\n        $('.svg-canvas').hide()\r\n        $('#myModal').modal('hide')\r\n        $('#rotate_loader').removeClass 'hidden'\r\n\r\n       \r\n       \r\n        $.ajax\r\n            type : 'GET',\r\n            url  : BASEURL+'/admin/project/'+   PROJECTID+'/image/'+image_id+'/duplicate_image_id/'+imageid\r\n            async : false\r\n            success :(response)->\r\n               # response = jQuery.parseJSON response.data\r\n                window.svgData['data'] = response.data\r\n                draw.clear()\r\n                window.generateSvg(window.svgData.data)\r\n                $('#rotate_loader').addClass 'hidden'\r\n                $('.svg-canvas').show()\r\n                $('.duplicate').hide()\r\n\r\n                \r\n                \r\n\r\n                \r\n            error :(response)->\r\n                alert('Some problem occurred') \r\n\r\n    #     svgExport = draw.exportSvg(\r\n    #       exclude: ->\r\n    #         @data 'exclude'\r\n    #       whitespace: true)\r\n\r\n    #     $('.duplicateSVG').html svgExport\r\n    #     $('.duplicateSVG .layer').each (index,value)->\r\n    #         $('#'+value.id).attr('class' ,'layer unassign')\r\n    #         $('#'+value.id).removeAttr('data-primary-breakpoint')\r\n    #         $('#'+value.id).attr('type' ,'')\r\n    #         $('#'+value.id).attr('svgid' ,0)\r\n           \r\n    #     $('.duplicateSVG .layer').each (index,value)->\r\n    #         value.id = 0\r\n\r\n    #     content = $('.duplicateSVG').html()\r\n\r\n    $('.amenity').on 'mouseover' , (e) ->\r\n        window.iniTooltip()\r\n        html = '<div class=\"row\">\r\n                    <div class=\"col-sm-12 b-r\">\r\n                        <h4 class=\"text-warning margin-none\">'+$(e.currentTarget).attr('data-amenity-title')+'</h4>\r\n                        <h6 class=\"text-muted\">'+$(e.currentTarget).attr('data-amenity-desc')+'</h6>\r\n                    </div>\r\n                </div>'\r\n        $('.amenity').tooltipster('content', html)\r\n\r\n   \r\n\r\n    # $('#save-svg-elem').on 'click', (e) ->\r\n    #   console.log \"click save-svg-elem\"\r\n    #   newCoordinates = $('.area').val()\r\n    #   newPoints = newCoordinates.split(',').map((point) ->\r\n    #     parseInt point, 10\r\n    #   )\r\n\r\n    #   editedElemTypeId = $(\"input[name=svg-element-id]\").val()\r\n    #   newSvgData = svgData\r\n    #   _.each svgData.data, (svgDataObject, key) =>\r\n    #       if svgDataObject.id is parseInt(editedElemTypeId)\r\n    #           # change global svg data with new points\r\n    #           newSvgData['data'][key]['points'] = newPoints\r\n    #           window.svgData = newSvgData\r\n\r\n    #           # regenerate newly modified svg element\r\n\r\n\r\n    #   $('#aj-imp-builder-drag-drop canvas').hide()\r\n    #   $('#aj-imp-builder-drag-drop svg').first().css(\"position\",\"relative\")\r\n    #   $(\"input[name=svg-element-id]\").val(\"\") \r\n    #   $(\".area\").val(\"\")                  \r\n        \r\n                \r\n\r\n\r\n\r\n\r\n\r\n    \r\n        \r\n\r\n\r\n            \r\n\r\n    \r\n  \r\n\r\n     \r\n\r\n\r\n\r\n\r\n\r\n    \r\n   \r\n"]}