{"version":3,"sources":["authoring-tool/entities/marker.entity.coffee"],"names":[],"mappings":"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","file":"authoring-tool/entities/marker.entity.js","sourceRoot":"/source/","sourcesContent":["#functions of a marker\r\n#1.create a marker using svgs\r\n#2.Function to make polygon draggable\r\n#event handler functions\r\n\r\n\r\n\r\nclass Marker extends Backbone.Model\r\n\r\n    generateMarkerTag:(item)->\r\n        # get marker type\r\n        markerType = item.other_details.marker_type\r\n        cx = item.other_details.cx\r\n        cy = item.other_details.cy\r\n        innerRadius = item.other_details.innerRadius\r\n        outerRadius = item.other_details.outerRadius\r\n        points = item.points\r\n\r\n        drawMarkerElements = []\r\n        \r\n        # draw marker group\r\n        groupMarker = draw.group()\r\n        groupMarker.attr\r\n            class: 'marker-grp'\r\n            type: item.object_type \r\n            id:  item.object_id \r\n            svgid:  item.id \r\n\r\n        #set data attributes for title and description if object type is amenity\r\n        if item.object_type is \"amenity\"\r\n            groupMarker.data('amenity-title', item.other_details.title)\r\n            groupMarker.data('amenity-desc', item.other_details.description)\r\n\r\n\r\n        switch markerType\r\n          when 'concentric'\r\n            # add class based on marker type \r\n            groupMarker.addClass('concentric')\r\n\r\n            circle1 = draw.circle(innerRadius)\r\n            circle1.attr\r\n                fill: '#FF8500'\r\n                cx: points[0]\r\n                cy: points[1]\r\n\r\n            circle2 = draw.circle(outerRadius)\r\n            \r\n            circle2.attr\r\n                fill: 'none'\r\n                cx: points[0]\r\n                cy: points[1]\r\n                stroke: \"#FF7900\"\r\n                'stroke-width':4 \r\n                'stroke-miterlimit':10\r\n\r\n            drawMarkerElements.push circle1\r\n            drawMarkerElements.push circle2\r\n\r\n            break\r\n                \r\n          when 'solid'\r\n            window.canvas_type = \"solidMarker\"\r\n \r\n            # add class based on marker type \r\n            groupMarker.addClass('solid')\r\n\r\n            circle = draw.circle(outerRadius)\r\n            circle.attr\r\n                fill: '#F7931E'\r\n                cx: points[0]\r\n                cy: points[1]\r\n\r\n            drawMarkerElements.push circle\r\n            break\r\n\r\n        _.each drawMarkerElements, (markerElement, key) =>\r\n            groupMarker.add(markerElement)            \r\n\r\n           \r\n\r\nwindow.marker = new Marker"]}