{"version":3,"sources":["add.projects.coffee"],"names":[],"mappings":"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","file":"add.projects.js","sourceRoot":"/source/","sourcesContent":["jQuery(document).ready ($)->\r\n    \r\n    #global setup\r\n    $.ajaxSetup\r\n        headers:\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n    \r\n    $.notify.defaults globalPosition : 'bottom right'\r\n\r\n\r\n    cfCityFetchOptions =\r\n        method:\"GET\"\r\n        url: \"/api/v2/get-cities\"\r\n        async: false\r\n        headers:\r\n            'X-Authorization': '87cdb105eceea2db65ed3b4e4c18a6485e84ae'\r\n\r\n    $.ajax(cfCityFetchOptions).done (resp, textStatus ,xhr)=>\r\n        apiResp = resp.data\r\n        response =  $.parseJSON apiResp\r\n        cities = response.results\r\n        $('#add_project select[name=\"city\"]').empty()\r\n        $('#add_project select[name=\"city\"]') .append $('<option value=\"\">Choose City</option>')  \r\n        _.each cities, (value, key) ->\r\n            $('#add_project select[name=\"city\"]').append $('<option/>',\r\n              value: value.city_name\r\n              text: value.city_name)\r\n\r\n    $( document ).ajaxComplete (args...)->\r\n        xhr = args[1]\r\n        if xhr.status in [201,202,203]\r\n            $.notify xhr.responseJSON.message, 'success'\r\n        else if xhr.status in [200]\r\n            $.notify xhr.responseJSON.message, 'error'\r\n\r\n                                \r\n                                \r\n\r\n        \r\n    $('form button[type=\"reset\"]').click();\r\n    $(\"select\").select2()\r\n    \r\n    window.projectsCollection = []\r\n    \r\n    $('#add_project select[name=\"city\"]').change ->\r\n        $.ajax\r\n            url : '/some-commonfloor-url'\r\n            type : 'jsonp'\r\n            success : (resp)->\r\n            error : (resp)->\r\n                options = ''\r\n                for i in [0...10]\r\n                    project = \r\n                        project_title : faker.name.findName()\r\n                        cf_project_id : faker.internet.userName()\r\n                        project_image: 'http://cfunitselectortest.com/images/artha.gif'\r\n                        project_address : \"#{faker.address.streetAddress()} #{faker.address.city()}, #{faker.address.zipCode()}\"\r\n                        project_status : 'Under Construction'\r\n                        builder_name : faker.name.findName()\r\n                        builder_link : faker.internet.domainName()\r\n                        \r\n                    projectsCollection.push project\r\n                    options += \"<option value='#{project.cf_project_id}'>#{project.project_title}</option>\"\r\n                    \r\n                $('#add_project select[name=\"cf_project_id\"]').append options\r\n                \r\n        \r\n    $('#add_project select[name=\"cf_project_id\"]').change ->\r\n        projectId = $(@).val()\r\n        project = _.findWhere window.projectsCollection, 'cf_project_id' : projectId\r\n        $('[name=\"project_title\"],[name=\"hidden_project_title\"]').val project.project_title\r\n        $('[name=\"project_address\"],[name=\"hidden_project_address\"]').val project.project_address\r\n        template = '<div class=\"user-description-box\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-8\">\r\n                                <h4 class=\"semi-bold\">{{ project_title }} - <span class=\"bold text-primary\">{{ cf_project_id }}</span></h4>\r\n                                <i class=\"fa fa-map-marker\"></i> <b>Address:</b>\r\n                                <p>{{ project_address }}</p>\r\n                                <p>Builder Name: <label><b>{{ builder_name }}</b></label></p>\r\n                                <p>Website Link: <label><a href=\"http://{{ builder_link }}\"><b>http://{{ builder_link }}</b></a></label></p>\r\n                            </div>\r\n                            <div class=\"col-sm-4\">\r\n                                {{#if project_image }} \r\n                                <img src=\"{{ project_image }}\" class=\"img-responsive\">\r\n                                {{/if}}\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"alert alert-warning m-t-20\">\r\n                            <input type=\"hidden\" name=\"builder_name\" value=\"{{ builder_name }}\" />\r\n                            <input type=\"hidden\" name=\"builder_link\" value=\"{{ builder_link }}\" />\r\n                            <input type=\"hidden\" name=\"project_image\" value=\"{{ project_image }}\" />\r\n                            <strong>Note: </strong> The above information is as entered in CommonFloor database.\r\n                        </div>\r\n                    </div>'\r\n                \r\n        tempalteFn = Handlebars.compile template\r\n        $('#commonfloor-project-details').removeClass('hidden').html tempalteFn project\r\n        \r\n    registerRemovePhaseListener = ->\r\n        $('.remove-phase').off 'click'\r\n        $('.remove-phase').on 'click', ->\r\n\r\n            if confirm('Are you sure you want to delete this phase? \r\n                        All building will be affected by this action. Continue?') is false\r\n                return\r\n\r\n            phaseId = $(@).attr 'data-phase-id'\r\n\r\n            successFn = (resp, status, xhr)->\r\n                if xhr.status is 201  \r\n                  $('#phase-'+phaseId).after('<td colspan=\"3\"><span class=\"error\"><span for=\"form3FirstName\" class=\"error\">Project Has No Phases</span></span></td>')\r\n                  $('#phase-'+phaseId).remove()    \r\n                else if xhr.status is 204 \r\n                    $('#phase-'+phaseId).remove()    \r\n\r\n            $.ajax \r\n                url : \"/admin/phase/#{phaseId}\"\r\n                type : 'DELETE'\r\n                data : \r\n                    phase_id : phaseId\r\n                success : successFn\r\n        \r\n    registerRemovePhaseListener()\r\n    \r\n    $('.add-phase-btn').click ->\r\n        phaseName = $('.phase-name').val()\r\n        objectType = $('div.object-phases').attr 'data-object-type'\r\n        if phaseName is ''\r\n            alert 'Please enter phase name'\r\n            return\r\n        \r\n        successFn = (resp, status, xhr)->\r\n            if xhr.status is 201\r\n                $('.phase-name').val ''\r\n                phaseId = resp.data.phase_id\r\n                type = resp.data.type\r\n                \r\n                if objectType is 'building'\r\n                    phasesContainer = $('select[name=\"phase_id\"]');\r\n                    html = '<option value=\"{{ phase_id }}\">{{ phase_name }}</option>'\r\n                else\r\n                    phasesContainer = $('.phase-table tbody')\r\n                    html = '<tr>\r\n                            <td>{{ phase_name }}</td>\r\n                            <td>\r\n                             <select id=\"phases1\" class=\"select2-container select2 form-control select2-container-active\" style=\"width:50%;\">\r\n                            <option value=\"\">Select Status</option>\r\n                            <option >Live</option>\r\n                            <option selected>Not Live</option>\r\n                            </select>\r\n                            </td>\r\n                            <td><a href=\"#\"  data-toggle=\"modal\" data-target=\"#myModal\" class=\"text-primary hidden\">Update</a></td>\r\n                            </tr>'\r\n\r\n                compile = Handlebars.compile html\r\n                if type is 'add'\r\n                    phasesContainer.append compile( { phase_name : phaseName, phase_id : phaseId } )\r\n                else\r\n                    phasesContainer.html compile( { phase_name : phaseName, phase_id : phaseId } )  \r\n                registerRemovePhaseListener()\r\n            \r\n        $.ajax \r\n            url : '/admin/phase'\r\n            type : 'POST'\r\n            data : \r\n                project_id : PROJECTID\r\n                phase_name : phaseName\r\n            success : successFn\r\n\r\n    $('#myModal').on 'click', '.update-phase-btn', ->\r\n        phaseId = $(@).attr 'data-phase-id'\r\n        successFn = (resp, status, xhr)->\r\n             $('#myModal').modal('toggle')\r\n             $(\"#phase-\"+phaseId).find('select').attr('disabled',true)\r\n             $(\"#phase-\"+phaseId).find('.updatelink').addClass('hidden')\r\n        $.ajax \r\n            url : '/admin/phase/'+phaseId\r\n            type : 'POST'\r\n            data : \r\n                _method : \"PUT\"\r\n            success : successFn         \r\n\r\n    $('#publishModal').on 'click', '.update-project-status', ->\r\n        projectId = $(@).attr 'data-project-id'\r\n        successFn = (resp, status, xhr)->\r\n            updateResponseTable()\r\n            \r\n        $.ajax \r\n            url : '/admin/project/'+projectId+'/updateprojectstatus'\r\n            type : 'POST'\r\n            success : successFn             \r\n                \r\n            \r\n    checkUnitTypeRequired = ->\r\n        $('.add-unit-types > div').each ->\r\n            activeTypes = $(@)\r\n            if $(@).find('.unit-type').length is 0 and not $(@).hasClass('hidden')\r\n                $(@).find('.unit-type-name').attr 'data-parsley-required', true\r\n            else\r\n                $(@).find('.unit-type-name').removeAttr 'data-parsley-required'\r\n            \r\n                \r\n    registerRemoveUnitType = ->\r\n        $('.propertyTypeUnitsAttributes').on 'click', '.remove-unit-type', ->\r\n            \r\n            unitTypeId = $(@).attr 'data-unit-type-id'\r\n            \r\n            if parseInt(unitTypeId) is 0\r\n                $(@).closest('.unit_type_block').remove()\r\n                return\r\n            \r\n            if confirm('Are you sure you want to delete this unit type? \r\n                        All properties will be affected by this action. Continue?') is false\r\n                return\r\n            \r\n            successFn = (resp, status, xhr)=>\r\n                if xhr.status is 204\r\n                    $(@).closest('.unit_type_block').remove()\r\n\r\n            $.ajax \r\n                url : \"/admin/project/#{PROJECTID}/unittype/#{unitTypeId}\"\r\n                type : 'DELETE'\r\n                success : successFn\r\n            \r\n    registerRemoveUnitType()\r\n    $('.add-unit-types').on 'click', '.add-unit-type-btn', ->\r\n        unitType = $(@).closest('.unit_type_block').find('select').val()\r\n\r\n        if unitType is ''\r\n            alert 'please select unit type'\r\n            return\r\n        propertyType = $(@).attr 'property-type'\r\n        html = '<div class=\"row m-b-10 unit_type_block\">\r\n                  <div class=\"col-md-10\">\r\n                      <select onchange=\"createUnitType(this,{{ property_type }})\" name=\"unittype[{{ property_type }}][]\" class=\"select2-container select2 form-control select2-container-active\">\r\n                          '\r\n    \r\n        html+=  $(@).closest('.unit_type_block').find('select').html()\r\n        html+= '</select>\r\n              <input type=\"hidden\" name=\"unittypekey[{{ property_type }}][]\" value=\"\">\r\n              <input type=\"hidden\" name=\"unittypecustome[{{ property_type }}][]\" value=\"\">      \r\n                      </div>\r\n                        <div class=\"col-md-2 text-center\">\r\n                            <a  data-unit-type-id=\"0\" class=\"text-primary remove-unit-type\"><i class=\"fa fa-close\"></i> </a>\r\n                        </div>\r\n                                </div>'\r\n                                    \r\n        compile = Handlebars.compile html\r\n        \r\n        data = \r\n            property_type : propertyType\r\n\r\n        $(@).closest('.unit_type_block').before compile data\r\n        $(@).closest('.unit_type_block').find('select').val('')\r\n        $(@).closest('.unit_type_block').prev('.unit_type_block').find('select').val(unitType)\r\n        $('select').select2()\r\n        registerRemoveUnitType()\r\n                                 \r\n    $('.add_new_unit_type').click ->\r\n     newUnitType = $(@).closest('.form-group').find('input').val()\r\n     if newUnitType is ''\r\n       alert 'please enter unit type'   \r\n       return\r\n\r\n     selectoption = \"<option value='#{newUnitType}'>#{newUnitType}</option>\"\r\n     $(@).prev('.form-group').find('select').remove()   \r\n        \r\n    $('.floor-position button.save-position').click ->  \r\n        form = $(@).closest('form')\r\n        form.parsley().validate()\r\n        if form.parsley().isValid()\r\n            formData = form.serializeArray()        \r\n            floorLayoutId = form.find('[name=\"floor_layout_id\"]').val()\r\n            $.ajax\r\n                url : BASEURL + '/admin/floor-layout/' + floorLayoutId + '/position'\r\n                type : 'POST'\r\n                data : formData                 \r\n                success : (response)->\r\n                    console.log 'show success message'\r\n                    \r\n\r\n\r\n    $('.update-building').click ->\r\n        \r\n        form = $(@).closest 'form'\r\n        \r\n        form.parsley().validate()\r\n        \r\n        if not form.parsley().isValid() then return true\r\n        updateSection = form.find('[name=\"update_section\"]').val()\r\n        values = form.serializeArray()\r\n        buildingId = $(@).attr 'data-building-id'\r\n        $.ajax \r\n            url : \"#{BASEURL}/admin/project/#{PROJECTID}/building/#{buildingId}\"\r\n            type : 'PUT'\r\n            data : values\r\n            success : (resp)->\r\n                if updateSection is 'building'\r\n                    window.location.reload()\r\n                    return\r\n\r\n    \r\n    $('.apartment-unit-building').change ->\r\n        $(@).closest('.row').find('.select-floor').addClass 'hidden'        \r\n        buildingId = $(@).val()\r\n        if buildingId.trim() is '' then return\r\n        floorSelection = $(@).closest('.row').find('.select-floor select')\r\n        noOfFloors = $(@).find('option[value=\"'+buildingId+'\"]').attr 'data-no-of-floors'\r\n        if parseInt(noOfFloors) is 0 then return\r\n        $(@).closest('.row').find('.select-floor').removeClass 'hidden'\r\n        floorSelection.empty()\r\n        floorSelection.append \"<option value=''>Select floor</option>\"\r\n        for i in [0...noOfFloors]\r\n            floorSelection.append \"<option value='#{i+1}'>#{i+1}</option>\"  \r\n            \r\n    $('.apartment-unit-floor-no').change ->\r\n        \r\n        floorNo = $(@).val()\r\n        buildingId = $('.apartment-unit-building').select2('val')\r\n        $.ajax\r\n            url : \"#{BASEURL}/api/v1/buildings/#{buildingId}/floor-layout\"\r\n            type : 'GET'\r\n            data : \r\n                floor_no : floorNo\r\n            success : (resp)->\r\n\r\n\r\n    $('.update-response-table').click ->\r\n\r\n        projectId = $(@).attr 'data-p-id'\r\n        $.ajax\r\n            url : \"#{BASEURL}/api/v1/project/#{projectId}/update-response-table\"\r\n            type : 'GET'\r\n            success : (resp)->\r\n\r\n    $('[data-toggle=\"tooltip\"]').tooltip({\r\n        animation: false\r\n        })\r\n    $('[data-toggle=\"popover\"]').popover()\r\n\r\n    $('.add_level').click ->\r\n        counter = $(\"#counter\").val()\r\n        i = parseInt(counter)+1\r\n        \r\n        str = '<div class=\"row\" id=\"level_{{ level }}\">\r\n                    <div class=\"no-border\">\r\n\r\n                        <div class=\"grid simple\" style=\"margin-bottom:0;\">\r\n                            <div class=\"grid-body no-border\" style=\"padding-bottom:0;\">\r\n                                <div class=\"grid simple vertical orange\">\r\n                                    <div class=\"grid-title\">\r\n                                        <h4>Level {{ level }}</h4>\r\n                                        <input type=\"hidden\" value=\"{{ level }}\" name=\"levels[]\">\r\n                                        <input style=\"float:right\" type=\"button\" value=\"Delete Level\" class=\"\" onclick=\"deleteLevel({{ level }});\">\r\n                                    </div>\r\n                                    <div class=\"grid-body\"><h4> <span class=\"semi-bold\">Layouts</span></h4>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-6\">\r\n                                                <div class=\"grid simple\">\r\n                                                    <div class=\"grid-body\">\r\n                                                        <div class=\"inline\">2D Layout</div>\r\n                                                        <input type=\"hidden\" name=\"image_{{ level }}_2d_id\" id=\"image_{{ level }}_2d_id\" value=\"\">   \r\n                                                        <div class=\"pull-right\" id=\"2d_{{ level }}_image\">\r\n                                                            <div class=\"img-hover img-thumbnail\">\r\n                                                                <div id=\"pickfiles_{{ level }}_2d\"  style=\"width: 150px;height:109px;background:#BEBEBE;display: table;\">\r\n                                                                    <div style=\"color:#FFFFFF;display: table-cell;vertical-align: middle;text-align: center;\">\r\n                                                                        <i class=\"fa fa-image\" style=\"font-size:30px;\"></i>\r\n                                                                        <p class=\"\">Select File</p>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-6\">\r\n                                                <div class=\"grid simple\" >\r\n                                                    <div class=\"grid-body\">\r\n                                                        <div class=\"inline\">3D Layout</div>\r\n                                                        <input type=\"hidden\" name=\"image_{{ level }}_3d_id\" id=\"image_{{ level }}_3d_id\" value=\"\">    \r\n                                                        <div class=\"pull-right\" id=\"3d_{{ level }}_image\">\r\n                                                            <div class=\"img-hover img-thumbnail\">\r\n                                                                <div id=\"pickfiles_{{ level }}_3d\"  style=\"width: 150px;height:109px;background:#BEBEBE;display: table;\">\r\n                                                                    <div style=\"color:#FFFFFF;display: table-cell;vertical-align: middle;text-align: center;\">\r\n                                                                        <i class=\"fa fa-image\" style=\"font-size:30px;\"></i>\r\n                                                                        <p class=\"\">Select File</p>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"room_attributes_block\">\r\n\r\n                                        </div>\r\n                                        <div>\r\n                                            <div class=\"col-md-5 add-unit p-t-10\">\r\n                                              <select onchange=\"openRoomTypeModal(this, 0)\" name=\"room_type[]\" class=\"select2 form-control\"> \r\n                                                             '\r\n        str +=  $('#addFloorlevel').find('select[name=\"room_type[]\"]').html()\r\n        str +=  '</select>\r\n                                                       \r\n                                                        <div class=\"text-right\">\r\n                                                            <button type=\"button\" onclick=\"getRoomTypeAttributes(this,{{ level }});\" class=\"btn btn-link\">Add Room</button>\r\n                                                        </div>\r\n                                            </div>\r\n                                         </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>'\r\n    \r\n        compile = Handlebars.compile str\r\n        data = \r\n          level : i\r\n        $(\"#addFloorlevel\").append compile data\r\n        $(\"select\").select2()\r\n        $(\"#level_\"+i).find('select[name=\"room_type[]\"]').val('')\r\n        $(\"#counter\").val i\r\n        addFloorLevelUploader(i)\r\n\r\n$('.add-project-attributes-btn').click ->\r\n    attributeName = $(@).closest('.project_attribute_block').find('input[name=\"projectattributes[]\"]').val()\r\n    str = '<div class=\"row m-b-10 \">\r\n                      <div class=\"col-md-10\">\r\n                          <input type=\"test\" name=\"projectattributes[]\" value=\"{{ name }}\" class=\"form-control\"> \r\n                          <input type=\"hidden\" name=\"projectattributeId[]\" value=\"\" class=\"form-control\">   \r\n                      </div>\r\n                      <div class=\"col-md-2 text-center\">\r\n                          <a  data-unit-type-id=\"0\" class=\"text-primary remove-project-attribute\"><i class=\"fa fa-close\"></i> </a>\r\n                      </div>\r\n                  </div>'\r\n    compile = Handlebars.compile str\r\n    data = \r\n      name : attributeName                \r\n    $(\".project_attribute_block\").before compile data\r\n    $(@).closest('.project_attribute_block').find('input[name=\"projectattributes[]\"]').val('')  \r\n    \r\n    \r\n$('.room_attributes_block').on 'click', '.remove-room-attribute', ->\r\n    level = $(@).closest('.row').find('input[name=\"levels[]\"]').val()\r\n    variantRoomId = $(@).closest('.variant_rooms').find('input[name=\"variantroomid['+level+'][]\"]').val()\r\n    variantRooms = $(@).closest('.room_attributes_block').find('input[name=\"variantroomid['+level+'][]\"]').length\r\n \r\n    if parseInt(variantRooms) <= 1\r\n        alert('There Should Be Atleast 1 Room For Level')\r\n        return\r\n    \r\n    if variantRoomId is ''\r\n        $(@).closest('.variant_rooms').remove()\r\n        return\r\n\r\n    if confirm('Are you sure you want to delete this Room?') is false\r\n        return\r\n\r\n    successFn = (resp, status, xhr)=>\r\n        if xhr.status is 204\r\n            $(@).closest('.variant_rooms').remove()\r\n\r\n    $.ajax \r\n        url : \"/admin/project/#{PROJECTID}/roomtype/#{variantRoomId}/deletevariantrroom\" \r\n        type : 'DELETE'\r\n        success : successFn    \r\n\r\n\r\n \r\n\r\n                 \r\n \r\n    \r\n\r\n\r\n\r\n                \r\n                    \r\n            \r\n        \r\n        "]}