{"version":3,"sources":["add.projects.coffee"],"names":[],"mappings":"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","file":"add.projects.js","sourceRoot":"/source/","sourcesContent":["jQuery(document).ready ($)->\r\n\t\r\n\t#global setup\r\n\t$.ajaxSetup\r\n\t\theaders:\r\n\t\t\t'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n\t\r\n\t$.notify.defaults globalPosition : 'bottom right'\r\n\t$( document ).ajaxComplete (args...)->\r\n\t\txhr = args[1]\r\n\t\tif xhr.status in [201,202,203]\r\n\t\t\t$.notify xhr.responseJSON.message, 'success'\r\n\t\telse if xhr.status in [200]\r\n\t\t\t$.notify xhr.responseJSON.message, 'error'\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\r\n\t$('form button[type=\"reset\"]').click();\r\n\t$(\"select\").select2()\r\n\t\r\n\twindow.projectsCollection = []\r\n\t\r\n\t$('#add_project select[name=\"city\"]').change ->\r\n\t\t$.ajax\r\n\t\t\turl : '/some-commonfloor-url'\r\n\t\t\ttype : 'jsonp'\r\n\t\t\tsuccess : (resp)->\r\n\t\t\terror : (resp)->\r\n\t\t\t\toptions = ''\r\n\t\t\t\tfor i in [0...10]\r\n\t\t\t\t\tproject = \r\n\t\t\t\t\t\tproject_title : faker.name.findName()\r\n\t\t\t\t\t\tcf_project_id : faker.internet.userName()\r\n\t\t\t\t\t\tproject_image: 'http://cfunitselectortest.com/images/artha.gif'\r\n\t\t\t\t\t\tproject_address : \"#{faker.address.streetAddress()} #{faker.address.city()}, #{faker.address.zipCode()}\"\r\n\t\t\t\t\t\tproject_status : 'Under Construction'\r\n\t\t\t\t\t\tbuilder_name : faker.name.findName()\r\n\t\t\t\t\t\tbuilder_link : faker.internet.domainName()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tprojectsCollection.push project\r\n\t\t\t\t\toptions += \"<option value='#{project.cf_project_id}'>#{project.project_title}</option>\"\r\n\t\t\t\t\t\r\n\t\t\t\t$('#add_project select[name=\"cf_project_id\"]').append options\r\n\t\t\t\t\r\n\t\t\r\n\t$('#add_project select[name=\"cf_project_id\"]').change ->\r\n\t\tprojectId = $(@).val()\r\n\t\tproject = _.findWhere window.projectsCollection, 'cf_project_id' : projectId\r\n\t\t$('[name=\"project_title\"],[name=\"hidden_project_title\"]').val project.project_title\r\n\t\t$('[name=\"project_address\"],[name=\"hidden_project_address\"]').val project.project_address\r\n\t\ttemplate = '<div class=\"user-description-box\">\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"col-sm-8\">\r\n\t\t\t\t\t\t\t\t<h4 class=\"semi-bold\">{{ project_title }} - <span class=\"bold text-primary\">{{ cf_project_id }}</span></h4>\r\n\t\t\t\t\t\t\t\t<i class=\"fa fa-map-marker\"></i> <b>Address:</b>\r\n\t\t\t\t\t\t\t\t<p>{{ project_address }}</p>\r\n\t\t\t\t\t\t\t\t<p>Builder Name: <label><b>{{ builder_name }}</b></label></p>\r\n\t\t\t\t\t\t\t\t<p>Website Link: <label><a href=\"http://{{ builder_link }}\"><b>http://{{ builder_link }}</b></a></label></p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t{{#if project_image }} \r\n\t\t\t\t\t\t\t\t<img src=\"{{ project_image }}\" class=\"img-responsive\">\r\n\t\t\t\t\t\t\t\t{{/if}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"alert alert-warning m-t-20\">\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"builder_name\" value=\"{{ builder_name }}\" />\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"builder_link\" value=\"{{ builder_link }}\" />\r\n\t\t\t\t\t\t\t<input type=\"hidden\" name=\"project_image\" value=\"{{ project_image }}\" />\r\n\t\t\t\t\t\t\t<strong>Note: </strong> The above information is as entered in CommonFloor database.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>'\r\n\t\t\t\t\r\n\t\ttempalteFn = Handlebars.compile template\r\n\t\t$('#commonfloor-project-details').removeClass('hidden').html tempalteFn project\r\n\t\t\r\n\tregisterRemovePhaseListener = ->\r\n\t\t$('.remove-phase').off 'click'\r\n\t\t$('.remove-phase').on 'click', ->\r\n\r\n\t\t\tif confirm('Are you sure you want to delete this phase? \r\n\t\t\t\t\t\tAll building will be affected by this action. Continue?') is false\r\n\t\t\t\treturn\r\n\r\n\t\t\tphaseId = $(@).attr 'data-phase-id'\r\n\r\n\t\t\tsuccessFn = (resp, status, xhr)=>\r\n\t\t\t\tif xhr.status is 204\r\n\t\t\t\t\t$(@).closest('.pull-left').remove()\r\n\r\n\t\t\t$.ajax \r\n\t\t\t\turl : \"/admin/phase/#{phaseId}\"\r\n\t\t\t\ttype : 'DELETE'\r\n\t\t\t\tdata : \r\n\t\t\t\t\tphase_id : phaseId\r\n\t\t\t\tsuccess : successFn\r\n\t\t\r\n\tregisterRemovePhaseListener()\r\n\t\r\n\t$('.add-phase-btn').click ->\r\n\t\tphaseName = $('.phase-name').val()\r\n\t\tobjectType = $('div.object-phases').attr 'data-object-type'\r\n\t\tif phaseName is ''\r\n\t\t\talert 'Please enter phase name'\r\n\t\t\treturn\r\n\t\t\r\n\t\tsuccessFn = (resp, status, xhr)->\r\n\t\t\tif xhr.status is 201\r\n\t\t\t\t$('.phase-name').val ''\r\n\t\t\t\tphaseId = resp.data.phase_id\r\n\t\t\t\ttype = resp.data.type\r\n\t\t\t\t\r\n\t\t\t\tif objectType is 'building'\r\n\t\t\t\t\tphasesContainer = $('select[name=\"phase_id\"]');\r\n\t\t\t\t\thtml = '<option value=\"{{ phase_id }}\">{{ phase_name }}</option>'\r\n\t\t\t\telse\r\n\t\t\t\t\tphasesContainer = $('.phase-table tbody')\r\n\t\t\t\t\thtml = '<tr>\r\n\t\t\t\t\t\t\t<td>{{ phase_name }}</td>\r\n\t\t\t\t\t\t\t<td>\r\n                       \t\t <select id=\"phases1\" class=\"select2-container select2 form-control select2-container-active\" style=\"width:50%;\">\r\n                            <option value=\"\">Select Status</option>\r\n                            <option >Live</option>\r\n                            <option selected>Not Live</option>\r\n                        \t</select>\r\n                    \t\t</td>\r\n                    \t\t<td><a href=\"#\"  data-toggle=\"modal\" data-target=\"#myModal\" class=\"text-primary hidden\">Update</a></td>\r\n\t\t\t\t\t\t\t</tr>'\r\n\r\n\t\t\t\tcompile = Handlebars.compile html\r\n\t\t\t\tif type is 'add'\r\n\t\t\t\t\tphasesContainer.append compile( { phase_name : phaseName, phase_id : phaseId } )\r\n\t\t\t\telse\r\n\t\t\t\t\tphasesContainer.html compile( { phase_name : phaseName, phase_id : phaseId } )\t\r\n\t\t\t\tregisterRemovePhaseListener()\r\n\t\t\t\r\n\t\t$.ajax \r\n\t\t\turl : '/admin/phase'\r\n\t\t\ttype : 'POST'\r\n\t\t\tdata : \r\n\t\t\t\tproject_id : PROJECTID\r\n\t\t\t\tphase_name : phaseName\r\n\t\t\tsuccess : successFn\r\n\r\n\t$('#myModal').on 'click', '.update-phase-btn', ->\r\n\t\tphaseId = $(@).attr 'data-phase-id'\r\n\t\tsuccessFn = (resp, status, xhr)->\r\n\t\t\t $('#myModal').modal('toggle')\r\n\t\t\t $(\"#phase-\"+phaseId).find('select').attr('disabled',true)\r\n\t\t\t $(\"#phase-\"+phaseId).find('.updatelink').addClass('hidden')\r\n\t\t$.ajax \r\n\t\t\turl : '/admin/phase/'+phaseId\r\n\t\t\ttype : 'POST'\r\n\t\t\tdata : \r\n\t\t\t\t_method : \"PUT\"\r\n\t\t\tsuccess : successFn\t\t\t\r\n\r\n\t$('#publishModal').on 'click', '.update-project-status', ->\r\n\t\tprojectId = $(@).attr 'data-project-id'\r\n\t\tsuccessFn = (resp, status, xhr)->\r\n\t\t\tupdateResponseTable()\r\n\t\t\t\r\n\t\t$.ajax \r\n\t\t\turl : '/admin/project/'+projectId+'/updateprojectstatus'\r\n\t\t\ttype : 'POST'\r\n\t\t\tsuccess : successFn\t\t\t\t\r\n\t\t\t \t\r\n\t\t\t\r\n\tcheckUnitTypeRequired = ->\r\n\t\t$('.add-unit-types > div').each ->\r\n\t\t\tactiveTypes = $(@)\r\n\t\t\tif $(@).find('.unit-type').length is 0 and not $(@).hasClass('hidden')\r\n\t\t\t\t$(@).find('.unit-type-name').attr 'data-parsley-required', true\r\n\t\t\telse\r\n\t\t\t\t$(@).find('.unit-type-name').removeAttr 'data-parsley-required'\r\n\t\t\t\r\n\t\t\t\t\r\n\tregisterRemoveUnitType = ->\r\n\t\t$('.propertyTypeUnitsAttributes').on 'click', '.remove-unit-type', ->\r\n\t\t\t\r\n\t\t\tunitTypeId = $(@).attr 'data-unit-type-id'\r\n\t\t\t\r\n\t\t\tif parseInt(unitTypeId) is 0\r\n\t\t\t\t$(@).closest('.unit_type_block').remove()\r\n\t\t\t\treturn\r\n\t\t\t\r\n\t\t\tif confirm('Are you sure you want to delete this unit type? \r\n\t\t\t\t\t\tAll properties will be affected by this action. Continue?') is false\r\n\t\t\t\treturn\r\n\t\t\t\r\n\t\t\tsuccessFn = (resp, status, xhr)=>\r\n\t\t\t\tif xhr.status is 204\r\n\t\t\t\t\t$(@).closest('.unit_type_block').remove()\r\n\r\n\t\t\t$.ajax \r\n\t\t\t\turl : \"/admin/project/#{PROJECTID}/unittype/#{unitTypeId}\"\r\n\t\t\t\ttype : 'DELETE'\r\n\t\t\t\tsuccess : successFn\r\n\t\t\t\r\n\tregisterRemoveUnitType()\r\n\t$('.add-unit-types').on 'click', '.add-unit-type-btn', ->\r\n\t\tunitType = $(@).closest('.unit_type_block').find('select').val()\r\n\r\n\t\tif unitType is ''\r\n\t\t\talert 'please select unit type'\r\n\t\t\treturn\r\n\t\tpropertyType = $(@).attr 'property-type'\r\n\t\thtml = '<div class=\"row m-b-10 unit_type_block\">\r\n                  <div class=\"col-md-10\">\r\n                      <select onchange=\"createUnitType(this,{{ property_type }})\" name=\"unittype[{{ property_type }}][]\" class=\"select2-container select2 form-control select2-container-active\">\r\n                          '\r\n    \r\n\t\thtml+=  $(@).closest('.unit_type_block').find('select').html()\r\n\t\thtml+= '</select>\r\n              <input type=\"hidden\" name=\"unittypekey[{{ property_type }}][]\" value=\"\">\r\n              <input type=\"hidden\" name=\"unittypecustome[{{ property_type }}][]\" value=\"\">      \r\n                      </div>\r\n                        <div class=\"col-md-2 text-center\">\r\n                            <a  data-unit-type-id=\"0\" class=\"text-primary remove-unit-type\"><i class=\"fa fa-close\"></i> </a>\r\n                        </div>\r\n                                </div>'\r\n                                    \r\n\t\tcompile = Handlebars.compile html\r\n\t\t\r\n\t\tdata = \r\n\t\t\tproperty_type : propertyType\r\n\r\n\t\t$(@).closest('.unit_type_block').before compile data\r\n\t\t$(@).closest('.unit_type_block').find('select').val('')\r\n\t\t$(@).closest('.unit_type_block').prev('.unit_type_block').find('select').val(unitType)\r\n\t\t$('select').select2()\r\n\t\tregisterRemoveUnitType()\r\n                                 \r\n\t$('.add_new_unit_type').click ->\r\n     newUnitType = $(@).closest('.form-group').find('input').val()\r\n     if newUnitType is ''\r\n       alert 'please enter unit type'\t\r\n       return\r\n\r\n     selectoption = \"<option value='#{newUnitType}'>#{newUnitType}</option>\"\r\n     $(@).prev('.form-group').find('select').remove()  \t\r\n\t\t\r\n\t$('.floor-position button.save-position').click ->\t\r\n\t\tform = $(@).closest('form')\r\n\t\tform.parsley().validate()\r\n\t\tif form.parsley().isValid()\r\n\t\t\tformData = form.serializeArray()\t\t\r\n\t\t\tfloorLayoutId = form.find('[name=\"floor_layout_id\"]').val()\r\n\t\t\t$.ajax\r\n\t\t\t\turl : BASEURL + '/admin/floor-layout/' + floorLayoutId + '/position'\r\n\t\t\t\ttype : 'POST'\r\n\t\t\t\tdata : formData\t\t\t\t\t\r\n\t\t\t\tsuccess : (response)->\r\n\t\t\t\t\tconsole.log 'show success message'\r\n\t\t\t\t\t\r\n\r\n\r\n\t$('.update-building').click ->\r\n\t\t\r\n\t\tform = $(@).closest 'form'\r\n\t\t\r\n\t\tform.parsley().validate()\r\n\t\t\r\n\t\tif not form.parsley().isValid() then return true\r\n\t\tupdateSection = form.find('[name=\"update_section\"]').val()\r\n\t\tvalues = form.serializeArray()\r\n\t\tbuildingId = $(@).attr 'data-building-id'\r\n\t\t$.ajax \r\n\t\t\turl : \"#{BASEURL}/admin/project/#{PROJECTID}/building/#{buildingId}\"\r\n\t\t\ttype : 'PUT'\r\n\t\t\tdata : values\r\n\t\t\tsuccess : (resp)->\r\n\t\t\t\tif updateSection is 'building'\r\n\t\t\t\t\twindow.location.reload()\r\n\t\t\t\t\treturn\r\n\r\n\t\r\n\t$('.apartment-unit-building').change ->\r\n\t\t$(@).closest('.row').find('.select-floor').addClass 'hidden'\t\t\r\n\t\tbuildingId = $(@).val()\r\n\t\tif buildingId.trim() is '' then return\r\n\t\tfloorSelection = $(@).closest('.row').find('.select-floor select')\r\n\t\tnoOfFloors = $(@).find('option[value=\"'+buildingId+'\"]').attr 'data-no-of-floors'\r\n\t\tif parseInt(noOfFloors) is 0 then return\r\n\t\t$(@).closest('.row').find('.select-floor').removeClass 'hidden'\r\n\t\tfloorSelection.empty()\r\n\t\tfloorSelection.append \"<option value=''>Select floor</option>\"\r\n\t\tfor i in [0...noOfFloors]\r\n\t\t\tfloorSelection.append \"<option value='#{i+1}'>#{i+1}</option>\"\t\r\n\t\t\t\r\n\t$('.apartment-unit-floor-no').change ->\r\n\t\t\r\n\t\tfloorNo = $(@).val()\r\n\t\tbuildingId = $('.apartment-unit-building').select2('val')\r\n\t\t$.ajax\r\n\t\t\turl : \"#{BASEURL}/api/v1/buildings/#{buildingId}/floor-layout\"\r\n\t\t\ttype : 'GET'\r\n\t\t\tdata : \r\n\t\t\t\tfloor_no : floorNo\r\n\t\t\tsuccess : (resp)->\r\n\r\n\r\n\t$('.update-response-table').click ->\r\n\r\n\t\tprojectId = $(@).attr 'data-p-id'\r\n\t\t$.ajax\r\n\t\t\turl : \"#{BASEURL}/api/v1/project/#{projectId}/update-response-table\"\r\n\t\t\ttype : 'GET'\r\n\t\t\tsuccess : (resp)->\r\n\r\n\t$('[data-toggle=\"tooltip\"]').tooltip({\r\n\t\tanimation: false\r\n\t\t})\r\n\t$('[data-toggle=\"popover\"]').popover()\r\n\r\n\t$('.add_level').click ->\r\n\t\tcounter = $(\"#counter\").val()\r\n\t\ti = parseInt(counter)+1\r\n\t\t\r\n\t\tstr = '<div class=\"row\" id=\"level_{{ level }}\">\r\n                    <div class=\"no-border\">\r\n\r\n                        <div class=\"grid simple\" style=\"margin-bottom:0;\">\r\n                            <div class=\"grid-body no-border\" style=\"padding-bottom:0;\">\r\n                                <div class=\"grid simple vertical orange\">\r\n                                    <div class=\"grid-title\">\r\n                                        <h4>Level {{ level }}</h4>\r\n                                        <input type=\"hidden\" value=\"{{ level }}\" name=\"levels[]\">\r\n                                        <input style=\"float:right\" type=\"button\" value=\"Delete Level\" class=\"\" onclick=\"deleteLevel({{ level }});\">\r\n                                    </div>\r\n                                    <div class=\"grid-body\"><h4> <span class=\"semi-bold\">Layouts</span></h4>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-md-6\">\r\n                                                <div class=\"grid simple\">\r\n                                                    <div class=\"grid-body\">\r\n                                                        <div class=\"inline\">2D Layout</div>\r\n                                                        <input type=\"hidden\" name=\"image_{{ level }}_2d_id\" id=\"image_{{ level }}_2d_id\" value=\"\">   \r\n                                                        <div class=\"pull-right\" id=\"2d_{{ level }}_image\">\r\n                                                            <div class=\"img-hover img-thumbnail\">\r\n                                                                <div id=\"pickfiles_{{ level }}_2d\"  style=\"width: 150px;height:109px;background:#BEBEBE;display: table;\">\r\n                                                                    <div style=\"color:#FFFFFF;display: table-cell;vertical-align: middle;text-align: center;\">\r\n                                                                        <i class=\"fa fa-image\" style=\"font-size:30px;\"></i>\r\n                                                                        <p class=\"\">Select File</p>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-md-6\">\r\n                                                <div class=\"grid simple\" >\r\n                                                    <div class=\"grid-body\">\r\n                                                        <div class=\"inline\">3D Layout</div>\r\n                                                        <input type=\"hidden\" name=\"image_{{ level }}_3d_id\" id=\"image_{{ level }}_3d_id\" value=\"\">    \r\n                                                        <div class=\"pull-right\" id=\"3d_{{ level }}_image\">\r\n                                                            <div class=\"img-hover img-thumbnail\">\r\n                                                                <div id=\"pickfiles_{{ level }}_3d\"  style=\"width: 150px;height:109px;background:#BEBEBE;display: table;\">\r\n                                                                    <div style=\"color:#FFFFFF;display: table-cell;vertical-align: middle;text-align: center;\">\r\n                                                                        <i class=\"fa fa-image\" style=\"font-size:30px;\"></i>\r\n                                                                        <p class=\"\">Select File</p>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"room_attributes_block\">\r\n\r\n                                        </div>\r\n                                        <div>\r\n                                            <div class=\"col-md-5 add-unit p-t-10\">\r\n                                              <select onchange=\"openRoomTypeModal(this, 0)\" name=\"room_type[]\" class=\"select2 form-control\"> \r\n         \t\t\t\t\t\t\t\t\t\t\t\t\t '\r\n\t\tstr +=  $('#addFloorlevel').find('select[name=\"room_type[]\"]').html()\r\n\t\tstr +=  '</select>\r\n                                                       \r\n                                                        <div class=\"text-right\">\r\n                                                            <button type=\"button\" onclick=\"getRoomTypeAttributes(this, {{ $level }});\" class=\"btn btn-link\">Add Room</button>\r\n                                                        </div>\r\n                                            </div>\r\n                                         </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>'\r\n\t\r\n\t\tcompile = Handlebars.compile str\r\n\t\tdata = \r\n\t\t  level : i\r\n\t\t$(\"#addFloorlevel\").append compile data\r\n\t\t$(\"select\").select2()\r\n\t\t$(\"#level_\"+i).find('select[name=\"room_type[]\"]').val('')\r\n\t\t$(\"#counter\").val i\r\n\t\taddFloorLevelUploader(i)\r\n\r\n$('.add-project-attributes-btn').click ->\r\n\tattributeName = $(@).closest('.project_attribute_block').find('input[name=\"projectattributes[]\"]').val()\r\n\tstr = '<div class=\"row m-b-10 \">\r\n                      <div class=\"col-md-10\">\r\n                          <input type=\"test\" name=\"projectattributes[]\" value=\"{{ name }}\" class=\"form-control\"> \r\n                          <input type=\"hidden\" name=\"projectattributeId[]\" value=\"\" class=\"form-control\">\t\r\n                      </div>\r\n                      <div class=\"col-md-2 text-center\">\r\n                          <a  data-unit-type-id=\"0\" class=\"text-primary remove-project-attribute\"><i class=\"fa fa-close\"></i> </a>\r\n                      </div>\r\n                  </div>'\r\n\tcompile = Handlebars.compile str\r\n\tdata = \r\n\t  name : attributeName                \r\n\t$(\".project_attribute_block\").before compile data\r\n\t$(@).closest('.project_attribute_block').find('input[name=\"projectattributes[]\"]').val('')\t\t\r\n\r\n\r\n \r\n\r\n                 \r\n \r\n    \r\n\r\n\r\n\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t"]}